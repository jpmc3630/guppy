import{h as se,F as Ct,i as Rt,o as Dt,a as At,b as xt,r as de,g as Fe,c as ge,w as nt,d as rt,T as at,e as Ht}from"./index.fc2d0cf9.js";/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const jt=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",X=e=>jt?Symbol(e):e,Ut=(e,t,r)=>Vt({l:e,k:t,s:r}),Vt=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),D=e=>typeof e=="number"&&isFinite(e),Jt=e=>Ye(e)==="[object Date]",le=e=>Ye(e)==="[object RegExp]",Se=e=>M(e)&&Object.keys(e).length===0;function Kt(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const H=Object.assign;function st(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Gt=Object.prototype.hasOwnProperty;function wt(e,t){return Gt.call(e,t)}const R=Array.isArray,x=e=>typeof e=="function",F=e=>typeof e=="string",E=e=>typeof e=="boolean",J=e=>e!==null&&typeof e=="object",Ot=Object.prototype.toString,Ye=e=>Ot.call(e),M=e=>Ye(e)==="[object Object]",qt=e=>e==null?"":R(e)||M(e)&&e.toString===Ot?JSON.stringify(e,null,2):String(e);/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Bt=Object.prototype.hasOwnProperty;function Yt(e,t){return Bt.call(e,t)}const Le=e=>e!==null&&typeof e=="object",ee=[];ee[0]={w:[0],i:[3,0],["["]:[4],o:[7]};ee[1]={w:[1],["."]:[2],["["]:[4],o:[7]};ee[2]={w:[2],i:[3,0],["0"]:[3,0]};ee[3]={i:[3,0],["0"]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};ee[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};ee[5]={["'"]:[4,0],o:8,l:[5,0]};ee[6]={['"']:[4,0],o:8,l:[6,0]};const Zt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Qt(e){return Zt.test(e)}function Xt(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function zt(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function en(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Qt(t)?Xt(t):"*"+t}function tn(e){const t=[];let r=-1,n=0,s=0,a,i,u,m,b,T,v;const L=[];L[0]=()=>{i===void 0?i=u:i+=u},L[1]=()=>{i!==void 0&&(t.push(i),i=void 0)},L[2]=()=>{L[0](),s++},L[3]=()=>{if(s>0)s--,n=4,L[0]();else{if(s=0,i===void 0||(i=en(i),i===!1))return!1;L[1]()}};function I(){const N=e[r+1];if(n===5&&N==="'"||n===6&&N==='"')return r++,u="\\"+N,L[0](),!0}for(;n!==null;)if(r++,a=e[r],!(a==="\\"&&I())){if(m=zt(a),v=ee[n],b=v[m]||v.l||8,b===8||(n=b[0],b[1]!==void 0&&(T=L[b[1]],T&&(u=a,T()===!1))))return;if(n===7)return t}}const lt=new Map;function ve(e,t){if(!Le(e))return null;let r=lt.get(t);if(r||(r=tn(t),r&&lt.set(t,r)),!r)return null;const n=r.length;let s=e,a=0;for(;a<n;){const i=s[r[a]];if(i===void 0)return null;s=i,a++}return s}function He(e){if(!Le(e))return e;for(const t in e)if(!!Yt(e,t))if(!t.includes("."))Le(e[t])&&He(e[t]);else{const r=t.split("."),n=r.length-1;let s=e;for(let a=0;a<n;a++)r[a]in s||(s[r[a]]={}),s=s[r[a]];s[r[n]]=e[t],delete e[t],Le(s[r[n]])&&He(s[r[n]])}return e}/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const nn=e=>e,rn=e=>"",an="text",sn=e=>e.length===0?"":e.join(""),ln=qt;function ct(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function cn(e){const t=D(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(D(e.named.count)||D(e.named.n))?D(e.named.count)?e.named.count:D(e.named.n)?e.named.n:t:t}function un(e,t){t.count||(t.count=e),t.n||(t.n=e)}function on(e={}){const t=e.locale,r=cn(e),n=J(e.pluralRules)&&F(t)&&x(e.pluralRules[t])?e.pluralRules[t]:ct,s=J(e.pluralRules)&&F(t)&&x(e.pluralRules[t])?ct:void 0,a=h=>h[n(r,h.length,s)],i=e.list||[],u=h=>i[h],m=e.named||{};D(e.pluralIndex)&&un(r,m);const b=h=>m[h];function T(h){const o=x(e.messages)?e.messages(h):J(e.messages)?e.messages[h]:!1;return o||(e.parent?e.parent.message(h):rn)}const v=h=>e.modifiers?e.modifiers[h]:nn,L=M(e.processor)&&x(e.processor.normalize)?e.processor.normalize:sn,I=M(e.processor)&&x(e.processor.interpolate)?e.processor.interpolate:ln,N=M(e.processor)&&F(e.processor.type)?e.processor.type:an,C={list:u,named:b,plural:a,linked:(h,o)=>{const _=T(h)(C);return F(o)?v(o)(_):_},message:T,type:N,interpolate:I,normalize:L};return C}/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Ce(e,t,r={}){const{domain:n,messages:s,args:a}=r,i=e,u=new SyntaxError(String(i));return u.code=e,t&&(u.location=t),u.domain=n,u}function fn(e){throw e}function mn(e,t,r){return{line:e,column:t,offset:r}}function je(e,t,r){const n={start:e,end:t};return r!=null&&(n.source=r),n}const Q=" ",dn="\r",V=`
`,gn=String.fromCharCode(8232),bn=String.fromCharCode(8233);function _n(e){const t=e;let r=0,n=1,s=1,a=0;const i=O=>t[O]===dn&&t[O+1]===V,u=O=>t[O]===V,m=O=>t[O]===bn,b=O=>t[O]===gn,T=O=>i(O)||u(O)||m(O)||b(O),v=()=>r,L=()=>n,I=()=>s,N=()=>a,C=O=>i(O)||m(O)||b(O)?V:t[O],h=()=>C(r),o=()=>C(r+a);function _(){return a=0,T(r)&&(n++,s=0),i(r)&&r++,r++,s++,t[r]}function y(){return i(r+a)&&a++,a++,t[r+a]}function f(){r=0,n=1,s=1,a=0}function S(O=0){a=O}function w(){const O=r+a;for(;O!==r;)_();a=0}return{index:v,line:L,column:I,peekOffset:N,charAt:C,currentChar:h,currentPeek:o,next:_,peek:y,reset:f,resetPeek:S,skipToPeek:w}}const z=void 0,it="'",hn="tokenizer";function kn(e,t={}){const r=t.location!==!1,n=_n(e),s=()=>n.index(),a=()=>mn(n.line(),n.column(),n.index()),i=a(),u=s(),m={currentType:14,offset:u,startLoc:i,endLoc:i,lastType:14,lastOffset:u,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},b=()=>m,{onError:T}=t;function v(l,c,d,...p){const P=b();if(c.column+=d,c.offset+=d,T){const W=je(P.startLoc,c),G=Ce(l,W,{domain:hn,args:p});T(G)}}function L(l,c,d){l.endLoc=a(),l.currentType=c;const p={type:c};return r&&(p.loc=je(l.startLoc,l.endLoc)),d!=null&&(p.value=d),p}const I=l=>L(l,14);function N(l,c){return l.currentChar()===c?(l.next(),c):(v(0,a(),0,c),"")}function C(l){let c="";for(;l.currentPeek()===Q||l.currentPeek()===V;)c+=l.currentPeek(),l.peek();return c}function h(l){const c=C(l);return l.skipToPeek(),c}function o(l){if(l===z)return!1;const c=l.charCodeAt(0);return c>=97&&c<=122||c>=65&&c<=90||c===95}function _(l){if(l===z)return!1;const c=l.charCodeAt(0);return c>=48&&c<=57}function y(l,c){const{currentType:d}=c;if(d!==2)return!1;C(l);const p=o(l.currentPeek());return l.resetPeek(),p}function f(l,c){const{currentType:d}=c;if(d!==2)return!1;C(l);const p=l.currentPeek()==="-"?l.peek():l.currentPeek(),P=_(p);return l.resetPeek(),P}function S(l,c){const{currentType:d}=c;if(d!==2)return!1;C(l);const p=l.currentPeek()===it;return l.resetPeek(),p}function w(l,c){const{currentType:d}=c;if(d!==8)return!1;C(l);const p=l.currentPeek()===".";return l.resetPeek(),p}function O(l,c){const{currentType:d}=c;if(d!==9)return!1;C(l);const p=o(l.currentPeek());return l.resetPeek(),p}function A(l,c){const{currentType:d}=c;if(!(d===8||d===12))return!1;C(l);const p=l.currentPeek()===":";return l.resetPeek(),p}function $(l,c){const{currentType:d}=c;if(d!==10)return!1;const p=()=>{const W=l.currentPeek();return W==="{"?o(l.peek()):W==="@"||W==="%"||W==="|"||W===":"||W==="."||W===Q||!W?!1:W===V?(l.peek(),p()):o(W)},P=p();return l.resetPeek(),P}function K(l){C(l);const c=l.currentPeek()==="|";return l.resetPeek(),c}function ie(l,c=!0){const d=(P=!1,W="",G=!1)=>{const Z=l.currentPeek();return Z==="{"?W==="%"?!1:P:Z==="@"||!Z?W==="%"?!0:P:Z==="%"?(l.peek(),d(P,"%",!0)):Z==="|"?W==="%"||G?!0:!(W===Q||W===V):Z===Q?(l.peek(),d(!0,Q,G)):Z===V?(l.peek(),d(!0,V,G)):!0},p=d();return c&&l.resetPeek(),p}function te(l,c){const d=l.currentChar();return d===z?z:c(d)?(l.next(),d):null}function he(l){return te(l,d=>{const p=d.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||p===95||p===36})}function Oe(l){return te(l,d=>{const p=d.charCodeAt(0);return p>=48&&p<=57})}function Pe(l){return te(l,d=>{const p=d.charCodeAt(0);return p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102})}function Y(l){let c="",d="";for(;c=Oe(l);)d+=c;return d}function ke(l){let c="";for(;;){const d=l.currentChar();if(d==="{"||d==="}"||d==="@"||d==="|"||!d)break;if(d==="%")if(ie(l))c+=d,l.next();else break;else if(d===Q||d===V)if(ie(l))c+=d,l.next();else{if(K(l))break;c+=d,l.next()}else c+=d,l.next()}return c}function Me(l){h(l);let c="",d="";for(;c=he(l);)d+=c;return l.currentChar()===z&&v(6,a(),0),d}function Ie(l){h(l);let c="";return l.currentChar()==="-"?(l.next(),c+=`-${Y(l)}`):c+=Y(l),l.currentChar()===z&&v(6,a(),0),c}function Ne(l){h(l),N(l,"'");let c="",d="";const p=W=>W!==it&&W!==V;for(;c=te(l,p);)c==="\\"?d+=We(l):d+=c;const P=l.currentChar();return P===V||P===z?(v(2,a(),0),P===V&&(l.next(),N(l,"'")),d):(N(l,"'"),d)}function We(l){const c=l.currentChar();switch(c){case"\\":case"'":return l.next(),`\\${c}`;case"u":return Ee(l,c,4);case"U":return Ee(l,c,6);default:return v(3,a(),0,c),""}}function Ee(l,c,d){N(l,c);let p="";for(let P=0;P<d;P++){const W=Pe(l);if(!W){v(4,a(),0,`\\${c}${p}${l.currentChar()}`);break}p+=W}return`\\${c}${p}`}function $e(l){h(l);let c="",d="";const p=P=>P!=="{"&&P!=="}"&&P!==Q&&P!==V;for(;c=te(l,p);)d+=c;return d}function Re(l){let c="",d="";for(;c=he(l);)d+=c;return d}function De(l){const c=(d=!1,p)=>{const P=l.currentChar();return P==="{"||P==="%"||P==="@"||P==="|"||!P||P===Q?p:P===V?(p+=P,l.next(),c(d,p)):(p+=P,l.next(),c(!0,p))};return c(!1,"")}function ue(l){h(l);const c=N(l,"|");return h(l),c}function oe(l,c){let d=null;switch(l.currentChar()){case"{":return c.braceNest>=1&&v(8,a(),0),l.next(),d=L(c,2,"{"),h(l),c.braceNest++,d;case"}":return c.braceNest>0&&c.currentType===2&&v(7,a(),0),l.next(),d=L(c,3,"}"),c.braceNest--,c.braceNest>0&&h(l),c.inLinked&&c.braceNest===0&&(c.inLinked=!1),d;case"@":return c.braceNest>0&&v(6,a(),0),d=re(l,c)||I(c),c.braceNest=0,d;default:let P=!0,W=!0,G=!0;if(K(l))return c.braceNest>0&&v(6,a(),0),d=L(c,1,ue(l)),c.braceNest=0,c.inLinked=!1,d;if(c.braceNest>0&&(c.currentType===5||c.currentType===6||c.currentType===7))return v(6,a(),0),c.braceNest=0,fe(l,c);if(P=y(l,c))return d=L(c,5,Me(l)),h(l),d;if(W=f(l,c))return d=L(c,6,Ie(l)),h(l),d;if(G=S(l,c))return d=L(c,7,Ne(l)),h(l),d;if(!P&&!W&&!G)return d=L(c,13,$e(l)),v(1,a(),0,d.value),h(l),d;break}return d}function re(l,c){const{currentType:d}=c;let p=null;const P=l.currentChar();switch((d===8||d===9||d===12||d===10)&&(P===V||P===Q)&&v(9,a(),0),P){case"@":return l.next(),p=L(c,8,"@"),c.inLinked=!0,p;case".":return h(l),l.next(),L(c,9,".");case":":return h(l),l.next(),L(c,10,":");default:return K(l)?(p=L(c,1,ue(l)),c.braceNest=0,c.inLinked=!1,p):w(l,c)||A(l,c)?(h(l),re(l,c)):O(l,c)?(h(l),L(c,12,Re(l))):$(l,c)?(h(l),P==="{"?oe(l,c)||p:L(c,11,De(l))):(d===8&&v(9,a(),0),c.braceNest=0,c.inLinked=!1,fe(l,c))}}function fe(l,c){let d={type:14};if(c.braceNest>0)return oe(l,c)||I(c);if(c.inLinked)return re(l,c)||I(c);const p=l.currentChar();switch(p){case"{":return oe(l,c)||I(c);case"}":return v(5,a(),0),l.next(),L(c,3,"}");case"@":return re(l,c)||I(c);default:if(K(l))return d=L(c,1,ue(l)),c.braceNest=0,c.inLinked=!1,d;if(ie(l))return L(c,0,ke(l));if(p==="%")return l.next(),L(c,4,"%");break}return d}function Ae(){const{currentType:l,offset:c,startLoc:d,endLoc:p}=m;return m.lastType=l,m.lastOffset=c,m.lastStartLoc=d,m.lastEndLoc=p,m.offset=s(),m.startLoc=a(),n.currentChar()===z?L(m,14):fe(n,m)}return{nextToken:Ae,currentOffset:s,currentPosition:a,context:b}}const yn="parser",pn=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ln(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(t||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"\uFFFD"}}}function Fn(e={}){const t=e.location!==!1,{onError:r}=e;function n(o,_,y,f,...S){const w=o.currentPosition();if(w.offset+=f,w.column+=f,r){const O=je(y,w),A=Ce(_,O,{domain:yn,args:S});r(A)}}function s(o,_,y){const f={type:o,start:_,end:_};return t&&(f.loc={start:y,end:y}),f}function a(o,_,y,f){o.end=_,f&&(o.type=f),t&&o.loc&&(o.loc.end=y)}function i(o,_){const y=o.context(),f=s(3,y.offset,y.startLoc);return f.value=_,a(f,o.currentOffset(),o.currentPosition()),f}function u(o,_){const y=o.context(),{lastOffset:f,lastStartLoc:S}=y,w=s(5,f,S);return w.index=parseInt(_,10),o.nextToken(),a(w,o.currentOffset(),o.currentPosition()),w}function m(o,_){const y=o.context(),{lastOffset:f,lastStartLoc:S}=y,w=s(4,f,S);return w.key=_,o.nextToken(),a(w,o.currentOffset(),o.currentPosition()),w}function b(o,_){const y=o.context(),{lastOffset:f,lastStartLoc:S}=y,w=s(9,f,S);return w.value=_.replace(pn,Ln),o.nextToken(),a(w,o.currentOffset(),o.currentPosition()),w}function T(o){const _=o.nextToken(),y=o.context(),{lastOffset:f,lastStartLoc:S}=y,w=s(8,f,S);return _.type!==12?(n(o,11,y.lastStartLoc,0),w.value="",a(w,f,S),{nextConsumeToken:_,node:w}):(_.value==null&&n(o,13,y.lastStartLoc,0,B(_)),w.value=_.value||"",a(w,o.currentOffset(),o.currentPosition()),{node:w})}function v(o,_){const y=o.context(),f=s(7,y.offset,y.startLoc);return f.value=_,a(f,o.currentOffset(),o.currentPosition()),f}function L(o){const _=o.context(),y=s(6,_.offset,_.startLoc);let f=o.nextToken();if(f.type===9){const S=T(o);y.modifier=S.node,f=S.nextConsumeToken||o.nextToken()}switch(f.type!==10&&n(o,13,_.lastStartLoc,0,B(f)),f=o.nextToken(),f.type===2&&(f=o.nextToken()),f.type){case 11:f.value==null&&n(o,13,_.lastStartLoc,0,B(f)),y.key=v(o,f.value||"");break;case 5:f.value==null&&n(o,13,_.lastStartLoc,0,B(f)),y.key=m(o,f.value||"");break;case 6:f.value==null&&n(o,13,_.lastStartLoc,0,B(f)),y.key=u(o,f.value||"");break;case 7:f.value==null&&n(o,13,_.lastStartLoc,0,B(f)),y.key=b(o,f.value||"");break;default:n(o,12,_.lastStartLoc,0);const S=o.context(),w=s(7,S.offset,S.startLoc);return w.value="",a(w,S.offset,S.startLoc),y.key=w,a(y,S.offset,S.startLoc),{nextConsumeToken:f,node:y}}return a(y,o.currentOffset(),o.currentPosition()),{node:y}}function I(o){const _=o.context(),y=_.currentType===1?o.currentOffset():_.offset,f=_.currentType===1?_.endLoc:_.startLoc,S=s(2,y,f);S.items=[];let w=null;do{const $=w||o.nextToken();switch(w=null,$.type){case 0:$.value==null&&n(o,13,_.lastStartLoc,0,B($)),S.items.push(i(o,$.value||""));break;case 6:$.value==null&&n(o,13,_.lastStartLoc,0,B($)),S.items.push(u(o,$.value||""));break;case 5:$.value==null&&n(o,13,_.lastStartLoc,0,B($)),S.items.push(m(o,$.value||""));break;case 7:$.value==null&&n(o,13,_.lastStartLoc,0,B($)),S.items.push(b(o,$.value||""));break;case 8:const K=L(o);S.items.push(K.node),w=K.nextConsumeToken||null;break}}while(_.currentType!==14&&_.currentType!==1);const O=_.currentType===1?_.lastOffset:o.currentOffset(),A=_.currentType===1?_.lastEndLoc:o.currentPosition();return a(S,O,A),S}function N(o,_,y,f){const S=o.context();let w=f.items.length===0;const O=s(1,_,y);O.cases=[],O.cases.push(f);do{const A=I(o);w||(w=A.items.length===0),O.cases.push(A)}while(S.currentType!==14);return w&&n(o,10,y,0),a(O,o.currentOffset(),o.currentPosition()),O}function C(o){const _=o.context(),{offset:y,startLoc:f}=_,S=I(o);return _.currentType===14?S:N(o,y,f,S)}function h(o){const _=kn(o,H({},e)),y=_.context(),f=s(0,y.offset,y.startLoc);return t&&f.loc&&(f.loc.source=o),f.body=C(_),y.currentType!==14&&n(_,13,y.lastStartLoc,0,o[y.offset]||""),a(f,_.currentOffset(),_.currentPosition()),f}return{parse:h}}function B(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function vn(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:a=>(r.helpers.add(a),a)}}function ut(e,t){for(let r=0;r<e.length;r++)Ze(e[r],t)}function Ze(e,t){switch(e.type){case 1:ut(e.cases,t),t.helper("plural");break;case 2:ut(e.items,t);break;case 6:Ze(e.key,t),t.helper("linked");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Tn(e,t={}){const r=vn(e);r.helper("normalize"),e.body&&Ze(e.body,r);const n=r.context();e.helpers=Array.from(n.helpers)}function Sn(e,t){const{sourceMap:r,filename:n,breakLineCode:s,needIndent:a}=t,i={source:e.loc.source,filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:a,indentLevel:0},u=()=>i;function m(C,h){i.code+=C}function b(C,h=!0){const o=h?s:"";m(a?o+"  ".repeat(C):o)}function T(C=!0){const h=++i.indentLevel;C&&b(h)}function v(C=!0){const h=--i.indentLevel;C&&b(h)}function L(){b(i.indentLevel)}return{context:u,push:m,indent:T,deindent:v,newline:L,helper:C=>`_${C}`,needIndent:()=>i.needIndent}}function Cn(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),ce(e,t.key),t.modifier&&(e.push(", "),ce(e,t.modifier)),e.push(")")}function wn(e,t){const{helper:r,needIndent:n}=e;e.push(`${r("normalize")}([`),e.indent(n());const s=t.items.length;for(let a=0;a<s&&(ce(e,t.items[a]),a!==s-1);a++)e.push(", ");e.deindent(n()),e.push("])")}function On(e,t){const{helper:r,needIndent:n}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(n());const s=t.cases.length;for(let a=0;a<s&&(ce(e,t.cases[a]),a!==s-1);a++)e.push(", ");e.deindent(n()),e.push("])")}}function Pn(e,t){t.body?ce(e,t.body):e.push("null")}function ce(e,t){const{helper:r}=e;switch(t.type){case 0:Pn(e,t);break;case 1:On(e,t);break;case 2:wn(e,t);break;case 6:Cn(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const Mn=(e,t={})=>{const r=F(t.mode)?t.mode:"normal",n=F(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,a=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,i=t.needIndent?t.needIndent:r!=="arrow",u=e.helpers||[],m=Sn(e,{mode:r,filename:n,sourceMap:s,breakLineCode:a,needIndent:i});m.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),m.indent(i),u.length>0&&(m.push(`const { ${u.map(v=>`${v}: _${v}`).join(", ")} } = ctx`),m.newline()),m.push("return "),ce(m,e),m.deindent(i),m.push("}");const{code:b,map:T}=m.context();return{ast:e,code:b,map:T?T.toJSON():void 0}};function In(e,t={}){const r=H({},t),s=Fn(r).parse(e);return Tn(s,r),Mn(s,r)}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Nn={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let Wn=null;Nn.FunctionTranslate;function En(e){return t=>Wn}const $n="9.1.9",we=-1,ot="";function Rn(){return{upper:e=>F(e)?e.toUpperCase():e,lower:e=>F(e)?e.toLowerCase():e,capitalize:e=>F(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}let Pt;function Dn(e){Pt=e}let ft=0;function An(e={}){const t=F(e.version)?e.version:$n,r=F(e.locale)?e.locale:"en-US",n=R(e.fallbackLocale)||M(e.fallbackLocale)||F(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,s=M(e.messages)?e.messages:{[r]:{}},a=M(e.datetimeFormats)?e.datetimeFormats:{[r]:{}},i=M(e.numberFormats)?e.numberFormats:{[r]:{}},u=H({},e.modifiers||{},Rn()),m=e.pluralRules||{},b=x(e.missing)?e.missing:null,T=E(e.missingWarn)||le(e.missingWarn)?e.missingWarn:!0,v=E(e.fallbackWarn)||le(e.fallbackWarn)?e.fallbackWarn:!0,L=!!e.fallbackFormat,I=!!e.unresolving,N=x(e.postTranslation)?e.postTranslation:null,C=M(e.processor)?e.processor:null,h=E(e.warnHtmlMessage)?e.warnHtmlMessage:!0,o=!!e.escapeParameter,_=x(e.messageCompiler)?e.messageCompiler:Pt,y=x(e.onWarn)?e.onWarn:Kt,f=e,S=J(f.__datetimeFormatters)?f.__datetimeFormatters:new Map,w=J(f.__numberFormatters)?f.__numberFormatters:new Map,O=J(f.__meta)?f.__meta:{};return ft++,{version:t,cid:ft,locale:r,fallbackLocale:n,messages:s,datetimeFormats:a,numberFormats:i,modifiers:u,pluralRules:m,missing:b,missingWarn:T,fallbackWarn:v,fallbackFormat:L,unresolving:I,postTranslation:N,processor:C,warnHtmlMessage:h,escapeParameter:o,messageCompiler:_,onWarn:y,__datetimeFormatters:S,__numberFormatters:w,__meta:O}}function Qe(e,t,r,n,s){const{missing:a,onWarn:i}=e;if(a!==null){const u=a(e,r,t,s);return F(u)?u:t}else return t}function _e(e,t,r){const n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let s=n.__localeChainCache.get(r);if(!s){s=[];let a=[r];for(;R(a);)a=mt(s,a,t);const i=R(t)?t:M(t)?t.default?t.default:null:t;a=F(i)?[i]:i,R(a)&&mt(s,a,!1),n.__localeChainCache.set(r,s)}return s}function mt(e,t,r){let n=!0;for(let s=0;s<t.length&&E(n);s++){const a=t[s];F(a)&&(n=xn(e,t[s],r))}return n}function xn(e,t,r){let n;const s=t.split("-");do{const a=s.join("-");n=Hn(e,a,r),s.splice(-1,1)}while(s.length&&n===!0);return n}function Hn(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(R(r)||M(r))&&r[s]&&(n=r[s])}return n}function be(e,t,r){const n=e;n.__localeChainCache=new Map,_e(e,r,t)}const jn=e=>e;let dt=Object.create(null);function Un(e,t={}){{const n=(t.onCacheKey||jn)(e),s=dt[n];if(s)return s;let a=!1;const i=t.onError||fn;t.onError=b=>{a=!0,i(b)};const{code:u}=In(e,t),m=new Function(`return ${u}`)();return a?m:dt[n]=m}}function ae(e){return Ce(e,null,void 0)}const gt=()=>"",ne=e=>x(e);function bt(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:s,fallbackLocale:a,messages:i}=e,[u,m]=Ue(...t),b=E(m.missingWarn)?m.missingWarn:e.missingWarn,T=E(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn,v=E(m.escapeParameter)?m.escapeParameter:e.escapeParameter,L=!!m.resolvedMessage,I=F(m.default)||E(m.default)?E(m.default)?u:m.default:r?u:"",N=r||I!=="",C=F(m.locale)?m.locale:e.locale;v&&Vn(m);let[h,o,_]=L?[u,C,i[C]||{}]:Jn(e,u,C,a,T,b),y=u;if(!L&&!(F(h)||ne(h))&&N&&(h=I,y=h),!L&&(!(F(h)||ne(h))||!F(o)))return s?we:u;let f=!1;const S=()=>{f=!0},w=ne(h)?h:Mt(e,u,o,h,y,S);if(f)return h;const O=qn(e,o,_,m),A=on(O),$=Kn(e,w,A);return n?n($):$}function Vn(e){R(e.list)?e.list=e.list.map(t=>F(t)?st(t):t):J(e.named)&&Object.keys(e.named).forEach(t=>{F(e.named[t])&&(e.named[t]=st(e.named[t]))})}function Jn(e,t,r,n,s,a){const{messages:i,onWarn:u}=e,m=_e(e,n,r);let b={},T,v=null;const L="translate";for(let I=0;I<m.length&&(T=m[I],b=i[T]||{},(v=ve(b,t))===null&&(v=b[t]),!(F(v)||x(v)));I++){const N=Qe(e,t,T,a,L);N!==t&&(v=N)}return[v,T,b]}function Mt(e,t,r,n,s,a){const{messageCompiler:i,warnHtmlMessage:u}=e;if(ne(n)){const b=n;return b.locale=b.locale||r,b.key=b.key||t,b}const m=i(n,Gn(e,r,s,n,u,a));return m.locale=r,m.key=t,m.source=n,m}function Kn(e,t,r){return t(r)}function Ue(...e){const[t,r,n]=e,s={};if(!F(t)&&!D(t)&&!ne(t))throw ae(14);const a=D(t)?String(t):(ne(t),t);return D(r)?s.plural=r:F(r)?s.default=r:M(r)&&!Se(r)?s.named=r:R(r)&&(s.list=r),D(n)?s.plural=n:F(n)?s.default=n:M(n)&&H(s,n),[a,s]}function Gn(e,t,r,n,s,a){return{warnHtmlMessage:s,onError:i=>{throw a&&a(i),i},onCacheKey:i=>Ut(t,r,i)}}function qn(e,t,r,n){const{modifiers:s,pluralRules:a}=e,u={locale:t,modifiers:s,pluralRules:a,messages:m=>{const b=ve(r,m);if(F(b)){let T=!1;const L=Mt(e,m,t,b,m,()=>{T=!0});return T?gt:L}else return ne(b)?b:gt}};return e.processor&&(u.processor=e.processor),n.list&&(u.list=n.list),n.named&&(u.named=n.named),D(n.plural)&&(u.pluralIndex=n.plural),u}function _t(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:s,onWarn:a}=e,{__datetimeFormatters:i}=e,[u,m,b,T]=Ve(...t),v=E(b.missingWarn)?b.missingWarn:e.missingWarn;E(b.fallbackWarn)?b.fallbackWarn:e.fallbackWarn;const L=!!b.part,I=F(b.locale)?b.locale:e.locale,N=_e(e,s,I);if(!F(u)||u==="")return new Intl.DateTimeFormat(I).format(m);let C={},h,o=null;const _="datetime format";for(let S=0;S<N.length&&(h=N[S],C=r[h]||{},o=C[u],!M(o));S++)Qe(e,u,h,v,_);if(!M(o)||!F(h))return n?we:u;let y=`${h}__${u}`;Se(T)||(y=`${y}__${JSON.stringify(T)}`);let f=i.get(y);return f||(f=new Intl.DateTimeFormat(h,H({},o,T)),i.set(y,f)),L?f.formatToParts(m):f.format(m)}function Ve(...e){const[t,r,n,s]=e;let a={},i={},u;if(F(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw ae(16);u=new Date(t);try{u.toISOString()}catch{throw ae(16)}}else if(Jt(t)){if(isNaN(t.getTime()))throw ae(15);u=t}else if(D(t))u=t;else throw ae(14);return F(r)?a.key=r:M(r)&&(a=r),F(n)?a.locale=n:M(n)&&(i=n),M(s)&&(i=s),[a.key||"",u,a,i]}function ht(e,t,r){const n=e;for(const s in r){const a=`${t}__${s}`;!n.__datetimeFormatters.has(a)||n.__datetimeFormatters.delete(a)}}function kt(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:s,onWarn:a}=e,{__numberFormatters:i}=e,[u,m,b,T]=Je(...t),v=E(b.missingWarn)?b.missingWarn:e.missingWarn;E(b.fallbackWarn)?b.fallbackWarn:e.fallbackWarn;const L=!!b.part,I=F(b.locale)?b.locale:e.locale,N=_e(e,s,I);if(!F(u)||u==="")return new Intl.NumberFormat(I).format(m);let C={},h,o=null;const _="number format";for(let S=0;S<N.length&&(h=N[S],C=r[h]||{},o=C[u],!M(o));S++)Qe(e,u,h,v,_);if(!M(o)||!F(h))return n?we:u;let y=`${h}__${u}`;Se(T)||(y=`${y}__${JSON.stringify(T)}`);let f=i.get(y);return f||(f=new Intl.NumberFormat(h,H({},o,T)),i.set(y,f)),L?f.formatToParts(m):f.format(m)}function Je(...e){const[t,r,n,s]=e;let a={},i={};if(!D(t))throw ae(14);const u=t;return F(r)?a.key=r:M(r)&&(a=r),F(n)?a.locale=n:M(n)&&(i=n),M(s)&&(i=s),[a.key||"",u,a,i]}function yt(e,t,r){const n=e;for(const s in r){const a=`${t}__${s}`;!n.__numberFormatters.has(a)||n.__numberFormatters.delete(a)}}/*!
  * vue-i18n v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Bn="9.1.9";function j(e,...t){return Ce(e,null,void 0)}const Ke=X("__transrateVNode"),Ge=X("__datetimeParts"),qe=X("__numberParts");X("__enableEmitter");X("__disableEmitter");const It=X("__setPluralRules");X("__intlifyMeta");const Nt=X("__injectWithOption");let pt=0;function Lt(e){return(t,r,n,s)=>e(r,n,Fe()||void 0,s)}function Xe(e,t){const{messages:r,__i18n:n}=t,s=M(r)?r:R(n)?{}:{[e]:{}};if(R(n)&&n.forEach(({locale:a,resource:i})=>{a?(s[a]=s[a]||{},Te(i,s[a])):Te(i,s)}),t.flatJson)for(const a in s)wt(s,a)&&He(s[a]);return s}const pe=e=>!J(e)||R(e);function Te(e,t){if(pe(e)||pe(t))throw j(20);for(const r in e)wt(e,r)&&(pe(e[r])||pe(t[r])?t[r]=e[r]:Te(e[r],t[r]))}function ze(e={}){const{__root:t}=e,r=t===void 0;let n=E(e.inheritLocale)?e.inheritLocale:!0;const s=de(t&&n?t.locale.value:F(e.locale)?e.locale:"en-US"),a=de(t&&n?t.fallbackLocale.value:F(e.fallbackLocale)||R(e.fallbackLocale)||M(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s.value),i=de(Xe(s.value,e)),u=de(M(e.datetimeFormats)?e.datetimeFormats:{[s.value]:{}}),m=de(M(e.numberFormats)?e.numberFormats:{[s.value]:{}});let b=t?t.missingWarn:E(e.missingWarn)||le(e.missingWarn)?e.missingWarn:!0,T=t?t.fallbackWarn:E(e.fallbackWarn)||le(e.fallbackWarn)?e.fallbackWarn:!0,v=t?t.fallbackRoot:E(e.fallbackRoot)?e.fallbackRoot:!0,L=!!e.fallbackFormat,I=x(e.missing)?e.missing:null,N=x(e.missing)?Lt(e.missing):null,C=x(e.postTranslation)?e.postTranslation:null,h=E(e.warnHtmlMessage)?e.warnHtmlMessage:!0,o=!!e.escapeParameter;const _=t?t.modifiers:M(e.modifiers)?e.modifiers:{};let y=e.pluralRules||t&&t.pluralRules,f;function S(){return An({version:Bn,locale:s.value,fallbackLocale:a.value,messages:i.value,datetimeFormats:u.value,numberFormats:m.value,modifiers:_,pluralRules:y,missing:N===null?void 0:N,missingWarn:b,fallbackWarn:T,fallbackFormat:L,unresolving:!0,postTranslation:C===null?void 0:C,warnHtmlMessage:h,escapeParameter:o,__datetimeFormatters:M(f)?f.__datetimeFormatters:void 0,__numberFormatters:M(f)?f.__numberFormatters:void 0,__v_emitter:M(f)?f.__v_emitter:void 0,__meta:{framework:"vue"}})}f=S(),be(f,s.value,a.value);function w(){return[s.value,a.value,i.value,u.value,m.value]}const O=ge({get:()=>s.value,set:g=>{s.value=g,f.locale=s.value}}),A=ge({get:()=>a.value,set:g=>{a.value=g,f.fallbackLocale=a.value,be(f,s.value,g)}}),$=ge(()=>i.value),K=ge(()=>u.value),ie=ge(()=>m.value);function te(){return x(C)?C:null}function he(g){C=g,f.postTranslation=g}function Oe(){return I}function Pe(g){g!==null&&(N=Lt(g)),I=g,f.missing=N}function Y(g,k,q,U,xe,ye){w();let me;if(me=g(f),D(me)&&me===we){const[$t,gr]=k();return t&&v?U(t):xe($t)}else{if(ye(me))return me;throw j(14)}}function ke(...g){return Y(k=>bt(k,...g),()=>Ue(...g),"translate",k=>k.t(...g),k=>k,k=>F(k))}function Me(...g){const[k,q,U]=g;if(U&&!J(U))throw j(15);return ke(k,q,H({resolvedMessage:!0},U||{}))}function Ie(...g){return Y(k=>_t(k,...g),()=>Ve(...g),"datetime format",k=>k.d(...g),()=>ot,k=>F(k))}function Ne(...g){return Y(k=>kt(k,...g),()=>Je(...g),"number format",k=>k.n(...g),()=>ot,k=>F(k))}function We(g){return g.map(k=>F(k)?rt(at,null,k,0):k)}const $e={normalize:We,interpolate:g=>g,type:"vnode"};function Re(...g){return Y(k=>{let q;const U=k;try{U.processor=$e,q=bt(U,...g)}finally{U.processor=null}return q},()=>Ue(...g),"translate",k=>k[Ke](...g),k=>[rt(at,null,k,0)],k=>R(k))}function De(...g){return Y(k=>kt(k,...g),()=>Je(...g),"number format",k=>k[qe](...g),()=>[],k=>F(k)||R(k))}function ue(...g){return Y(k=>_t(k,...g),()=>Ve(...g),"datetime format",k=>k[Ge](...g),()=>[],k=>F(k)||R(k))}function oe(g){y=g,f.pluralRules=y}function re(g,k){const q=F(k)?k:s.value,U=l(q);return ve(U,g)!==null}function fe(g){let k=null;const q=_e(f,a.value,s.value);for(let U=0;U<q.length;U++){const xe=i.value[q[U]]||{},ye=ve(xe,g);if(ye!=null){k=ye;break}}return k}function Ae(g){const k=fe(g);return k!=null?k:t?t.tm(g)||{}:{}}function l(g){return i.value[g]||{}}function c(g,k){i.value[g]=k,f.messages=i.value}function d(g,k){i.value[g]=i.value[g]||{},Te(k,i.value[g]),f.messages=i.value}function p(g){return u.value[g]||{}}function P(g,k){u.value[g]=k,f.datetimeFormats=u.value,ht(f,g,k)}function W(g,k){u.value[g]=H(u.value[g]||{},k),f.datetimeFormats=u.value,ht(f,g,k)}function G(g){return m.value[g]||{}}function Z(g,k){m.value[g]=k,f.numberFormats=m.value,yt(f,g,k)}function Et(g,k){m.value[g]=H(m.value[g]||{},k),f.numberFormats=m.value,yt(f,g,k)}return pt++,t&&(nt(t.locale,g=>{n&&(s.value=g,f.locale=g,be(f,s.value,a.value))}),nt(t.fallbackLocale,g=>{n&&(a.value=g,f.fallbackLocale=g,be(f,s.value,a.value))})),{id:pt,locale:O,fallbackLocale:A,get inheritLocale(){return n},set inheritLocale(g){n=g,g&&t&&(s.value=t.locale.value,a.value=t.fallbackLocale.value,be(f,s.value,a.value))},get availableLocales(){return Object.keys(i.value).sort()},messages:$,datetimeFormats:K,numberFormats:ie,get modifiers(){return _},get pluralRules(){return y||{}},get isGlobal(){return r},get missingWarn(){return b},set missingWarn(g){b=g,f.missingWarn=b},get fallbackWarn(){return T},set fallbackWarn(g){T=g,f.fallbackWarn=T},get fallbackRoot(){return v},set fallbackRoot(g){v=g},get fallbackFormat(){return L},set fallbackFormat(g){L=g,f.fallbackFormat=L},get warnHtmlMessage(){return h},set warnHtmlMessage(g){h=g,f.warnHtmlMessage=g},get escapeParameter(){return o},set escapeParameter(g){o=g,f.escapeParameter=g},t:ke,rt:Me,d:Ie,n:Ne,te:re,tm:Ae,getLocaleMessage:l,setLocaleMessage:c,mergeLocaleMessage:d,getDateTimeFormat:p,setDateTimeFormat:P,mergeDateTimeFormat:W,getNumberFormat:G,setNumberFormat:Z,mergeNumberFormat:Et,getPostTranslationHandler:te,setPostTranslationHandler:he,getMissingHandler:Oe,setMissingHandler:Pe,[Ke]:Re,[qe]:De,[Ge]:ue,[It]:oe,[Nt]:e.__injectWithOption}}function Yn(e){const t=F(e.locale)?e.locale:"en-US",r=F(e.fallbackLocale)||R(e.fallbackLocale)||M(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,n=x(e.missing)?e.missing:void 0,s=E(e.silentTranslationWarn)||le(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,a=E(e.silentFallbackWarn)||le(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,i=E(e.fallbackRoot)?e.fallbackRoot:!0,u=!!e.formatFallbackMessages,m=M(e.modifiers)?e.modifiers:{},b=e.pluralizationRules,T=x(e.postTranslation)?e.postTranslation:void 0,v=F(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,L=!!e.escapeParameterHtml,I=E(e.sync)?e.sync:!0;let N=e.messages;if(M(e.sharedMessages)){const S=e.sharedMessages;N=Object.keys(S).reduce((O,A)=>{const $=O[A]||(O[A]={});return H($,S[A]),O},N||{})}const{__i18n:C,__root:h,__injectWithOption:o}=e,_=e.datetimeFormats,y=e.numberFormats,f=e.flatJson;return{locale:t,fallbackLocale:r,messages:N,flatJson:f,datetimeFormats:_,numberFormats:y,missing:n,missingWarn:s,fallbackWarn:a,fallbackRoot:i,fallbackFormat:u,modifiers:m,pluralRules:b,postTranslation:T,warnHtmlMessage:v,escapeParameter:L,inheritLocale:I,__i18n:C,__root:h,__injectWithOption:o}}function Be(e={}){const t=ze(Yn(e)),r={id:t.id,get locale(){return t.locale.value},set locale(n){t.locale.value=n},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(n){t.fallbackLocale.value=n},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return t.getMissingHandler()},set missing(n){t.setMissingHandler(n)},get silentTranslationWarn(){return E(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(n){t.missingWarn=E(n)?!n:n},get silentFallbackWarn(){return E(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(n){t.fallbackWarn=E(n)?!n:n},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(n){t.fallbackFormat=n},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(n){t.setPostTranslationHandler(n)},get sync(){return t.inheritLocale},set sync(n){t.inheritLocale=n},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){t.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(n){t.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...n){const[s,a,i]=n,u={};let m=null,b=null;if(!F(s))throw j(15);const T=s;return F(a)?u.locale=a:R(a)?m=a:M(a)&&(b=a),R(i)?m=i:M(i)&&(b=i),t.t(T,m||b||{},u)},rt(...n){return t.rt(...n)},tc(...n){const[s,a,i]=n,u={plural:1};let m=null,b=null;if(!F(s))throw j(15);const T=s;return F(a)?u.locale=a:D(a)?u.plural=a:R(a)?m=a:M(a)&&(b=a),F(i)?u.locale=i:R(i)?m=i:M(i)&&(b=i),t.t(T,m||b||{},u)},te(n,s){return t.te(n,s)},tm(n){return t.tm(n)},getLocaleMessage(n){return t.getLocaleMessage(n)},setLocaleMessage(n,s){t.setLocaleMessage(n,s)},mergeLocaleMessage(n,s){t.mergeLocaleMessage(n,s)},d(...n){return t.d(...n)},getDateTimeFormat(n){return t.getDateTimeFormat(n)},setDateTimeFormat(n,s){t.setDateTimeFormat(n,s)},mergeDateTimeFormat(n,s){t.mergeDateTimeFormat(n,s)},n(...n){return t.n(...n)},getNumberFormat(n){return t.getNumberFormat(n)},setNumberFormat(n,s){t.setNumberFormat(n,s)},mergeNumberFormat(n,s){t.mergeNumberFormat(n,s)},getChoiceIndex(n,s){return-1},__onComponentInstanceCreated(n){const{componentInstanceCreatedListener:s}=e;s&&s(n,r)}};return r}const et={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}},Ft={name:"i18n-t",props:H({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>D(e)||!isNaN(e)}},et),setup(e,t){const{slots:r,attrs:n}=t,s=e.i18n||tt({useScope:e.scope,__useComponent:!0}),a=Object.keys(r).filter(i=>i!=="_");return()=>{const i={};e.locale&&(i.locale=e.locale),e.plural!==void 0&&(i.plural=F(e.plural)?+e.plural:e.plural);const u=Zn(t,a),m=s[Ke](e.keypath,u,i),b=H({},n);return F(e.tag)?se(e.tag,b,m):J(e.tag)?se(e.tag,b,m):se(Ct,b,m)}}};function Zn({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((r,n)=>{const s=e[n];return s&&(r[n]=s()),r},{})}function Wt(e,t,r,n){const{slots:s,attrs:a}=t;return()=>{const i={part:!0};let u={};e.locale&&(i.locale=e.locale),F(e.format)?i.key=e.format:J(e.format)&&(F(e.format.key)&&(i.key=e.format.key),u=Object.keys(e.format).reduce((v,L)=>r.includes(L)?H({},v,{[L]:e.format[L]}):v,{}));const m=n(e.value,i,u);let b=[i.key];R(m)?b=m.map((v,L)=>{const I=s[v.type];return I?I({[v.type]:v.value,index:L,parts:m}):[v.value]}):F(m)&&(b=[m]);const T=H({},a);return F(e.tag)?se(e.tag,T,b):J(e.tag)?se(e.tag,T,b):se(Ct,T,b)}}const Qn=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],vt={name:"i18n-n",props:H({value:{type:Number,required:!0},format:{type:[String,Object]}},et),setup(e,t){const r=e.i18n||tt({useScope:"parent",__useComponent:!0});return Wt(e,t,Qn,(...n)=>r[qe](...n))}},Xn=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],Tt={name:"i18n-d",props:H({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},et),setup(e,t){const r=e.i18n||tt({useScope:"parent",__useComponent:!0});return Wt(e,t,Xn,(...n)=>r[Ge](...n))}};function zn(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function er(e){const t=(r,{instance:n,value:s,modifiers:a})=>{if(!n||!n.$)throw j(22);const i=zn(e,n.$),u=tr(s);r.textContent=i.t(...nr(u))};return{beforeMount:t,beforeUpdate:t}}function tr(e){if(F(e))return{path:e};if(M(e)){if(!("path"in e))throw j(19,"path");return e}else throw j(20)}function nr(e){const{path:t,locale:r,args:n,choice:s,plural:a}=e,i={},u=n||{};return F(r)&&(i.locale=r),D(s)&&(i.plural=s),D(a)&&(i.plural=a),[t,u,i]}function rr(e,t,...r){const n=M(r[0])?r[0]:{},s=!!n.useI18nComponentName;(E(n.globalInstall)?n.globalInstall:!0)&&(e.component(s?"i18n":Ft.name,Ft),e.component(vt.name,vt),e.component(Tt.name,Tt)),e.directive("t",er(t))}function ar(e,t,r){return{beforeCreate(){const n=Fe();if(!n)throw j(22);const s=this.$options;if(s.i18n){const a=s.i18n;s.__i18n&&(a.__i18n=s.__i18n),a.__root=t,this===this.$root?this.$i18n=St(e,a):(a.__injectWithOption=!0,this.$i18n=Be(a))}else s.__i18n?this===this.$root?this.$i18n=St(e,s):this.$i18n=Be({__i18n:s.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;e.__onComponentInstanceCreated(this.$i18n),r.__setInstance(n,this.$i18n),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$tc=(...a)=>this.$i18n.tc(...a),this.$te=(a,i)=>this.$i18n.te(a,i),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a)},mounted(){},beforeUnmount(){const n=Fe();if(!n)throw j(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__deleteInstance(n),delete this.$i18n}}}function St(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[It](t.pluralizationRules||e.pluralizationRules);const r=Xe(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(n=>e.mergeLocaleMessage(n,r[n])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}function sr(e={}){const t=E(e.legacy)?e.legacy:!0,r=!!e.globalInjection,n=new Map,s=t?Be(e):ze(e),a=X(""),i={get mode(){return t?"legacy":"composition"},async install(u,...m){u.__VUE_I18N_SYMBOL__=a,u.provide(u.__VUE_I18N_SYMBOL__,i),!t&&r&&or(u,i.global),rr(u,i,...m),t&&u.mixin(ar(s,s.__composer,i))},get global(){return s},__instances:n,__getInstance(u){return n.get(u)||null},__setInstance(u,m){n.set(u,m)},__deleteInstance(u){n.delete(u)}};return i}function tt(e={}){const t=Fe();if(t==null)throw j(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw j(17);const r=Rt(t.appContext.app.__VUE_I18N_SYMBOL__);if(!r)throw j(22);const n=r.mode==="composition"?r.global:r.global.__composer,s=Se(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(s==="global"){let u=J(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(u=Xe(n.locale.value,{messages:u,__i18n:t.type.__i18nGlobal}));const m=Object.keys(u);if(m.length&&m.forEach(b=>{n.mergeLocaleMessage(b,u[b])}),J(e.datetimeFormats)){const b=Object.keys(e.datetimeFormats);b.length&&b.forEach(T=>{n.mergeDateTimeFormat(T,e.datetimeFormats[T])})}if(J(e.numberFormats)){const b=Object.keys(e.numberFormats);b.length&&b.forEach(T=>{n.mergeNumberFormat(T,e.numberFormats[T])})}return n}if(s==="parent"){let u=lr(r,t,e.__useComponent);return u==null&&(u=n),u}if(r.mode==="legacy")throw j(18);const a=r;let i=a.__getInstance(t);if(i==null){const u=t.type,m=H({},e);u.__i18n&&(m.__i18n=u.__i18n),n&&(m.__root=n),i=ze(m),cr(a,t),a.__setInstance(t,i)}return i}function lr(e,t,r=!1){let n=null;const s=t.root;let a=t.parent;for(;a!=null;){const i=e;if(e.mode==="composition")n=i.__getInstance(a);else{const u=i.__getInstance(a);u!=null&&(n=u.__composer),r&&n&&!n[Nt]&&(n=null)}if(n!=null||s===a)break;a=a.parent}return n}function cr(e,t,r){Dt(()=>{},t),At(()=>{e.__deleteInstance(t)},t)}const ir=["locale","fallbackLocale","availableLocales"],ur=["t","rt","d","n","tm"];function or(e,t){const r=Object.create(null);ir.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw j(22);const a=xt(s.value)?{get(){return s.value.value},set(i){s.value.value=i}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,n,a)}),e.config.globalProperties.$i18n=r,ur.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw j(22);Object.defineProperty(e.config.globalProperties,`$${n}`,s)})}Dn(Un);var fr={failed:"Action failed",success:"Action was successful"},mr={"en-US":fr},_r=Ht(({app:e})=>{const t=sr({locale:"en-US",messages:mr});e.use(t)});export{_r as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi40NzFmMDU3My5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AaW50bGlmeS9tZXNzYWdlLXJlc29sdmVyL2Rpc3QvbWVzc2FnZS1yZXNvbHZlci5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AaW50bGlmeS9ydW50aW1lL2Rpc3QvcnVudGltZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyL2Rpc3QvbWVzc2FnZS1jb21waWxlci5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AaW50bGlmeS9kZXZ0b29scy1pZi9kaXN0L2RldnRvb2xzLWlmLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L2NvcmUtYmFzZS9kaXN0L2NvcmUtYmFzZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy92dWUtaTE4bi9kaXN0L3Z1ZS1pMThuLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vc3JjL2kxOG4vZW4tVVMvaW5kZXguanMiLCIuLi8uLi9zcmMvaTE4bi9pbmRleC5qcyIsIi4uLy4uL3NyYy9ib290L2kxOG4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gICogQGludGxpZnkvc2hhcmVkIHY5LjEuOVxuICAqIChjKSAyMDIxIGthenV5YSBrYXdhZ3VjaGlcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICovXG4vKipcclxuICogT3JpZ2luYWwgVXRpbGl0aWVzXHJcbiAqIHdyaXR0ZW4gYnkga2F6dXlhIGthd2FndWNoaVxyXG4gKi9cclxuY29uc3QgaW5Ccm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbmxldCBtYXJrO1xyXG5sZXQgbWVhc3VyZTtcclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgY29uc3QgcGVyZiA9IGluQnJvd3NlciAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XHJcbiAgICBpZiAocGVyZiAmJlxyXG4gICAgICAgIHBlcmYubWFyayAmJlxyXG4gICAgICAgIHBlcmYubWVhc3VyZSAmJlxyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyAmJlxyXG4gICAgICAgIHBlcmYuY2xlYXJNZWFzdXJlcykge1xyXG4gICAgICAgIG1hcmsgPSAodGFnKSA9PiBwZXJmLm1hcmsodGFnKTtcclxuICAgICAgICBtZWFzdXJlID0gKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpID0+IHtcclxuICAgICAgICAgICAgcGVyZi5tZWFzdXJlKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xyXG4gICAgICAgICAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IFJFX0FSR1MgPSAvXFx7KFswLTlhLXpBLVpdKylcXH0vZztcclxuLyogZXNsaW50LWRpc2FibGUgKi9cclxuZnVuY3Rpb24gZm9ybWF0KG1lc3NhZ2UsIC4uLmFyZ3MpIHtcclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc09iamVjdChhcmdzWzBdKSkge1xyXG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhcmdzIHx8ICFhcmdzLmhhc093blByb3BlcnR5KSB7XHJcbiAgICAgICAgYXJncyA9IHt9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lc3NhZ2UucmVwbGFjZShSRV9BUkdTLCAobWF0Y2gsIGlkZW50aWZpZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gYXJncy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSA/IGFyZ3NbaWRlbnRpZmllcl0gOiAnJztcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IG1ha2VTeW1ib2wgPSAobmFtZSkgPT4gaGFzU3ltYm9sID8gU3ltYm9sKG5hbWUpIDogbmFtZTtcclxuY29uc3QgZ2VuZXJhdGVGb3JtYXRDYWNoZUtleSA9IChsb2NhbGUsIGtleSwgc291cmNlKSA9PiBmcmllbmRseUpTT05zdHJpbmdpZnkoeyBsOiBsb2NhbGUsIGs6IGtleSwgczogc291cmNlIH0pO1xyXG5jb25zdCBmcmllbmRseUpTT05zdHJpbmdpZnkgPSAoanNvbikgPT4gSlNPTi5zdHJpbmdpZnkoanNvbilcclxuICAgIC5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKVxyXG4gICAgLnJlcGxhY2UoL1xcdTIwMjkvZywgJ1xcXFx1MjAyOScpXHJcbiAgICAucmVwbGFjZSgvXFx1MDAyNy9nLCAnXFxcXHUwMDI3Jyk7XHJcbmNvbnN0IGlzTnVtYmVyID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKTtcclxuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuY29uc3QgaXNSZWdFeHAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XHJcbmNvbnN0IGlzRW1wdHlPYmplY3QgPSAodmFsKSA9PiBpc1BsYWluT2JqZWN0KHZhbCkgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDA7XHJcbmZ1bmN0aW9uIHdhcm4obXNnLCBlcnIpIHtcclxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFtpbnRsaWZ5XSBgICsgbXNnKTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIuc3RhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xyXG5sZXQgX2dsb2JhbFRoaXM7XHJcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcclxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxyXG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xyXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XHJcbn07XHJcbmZ1bmN0aW9uIGVzY2FwZUh0bWwocmF3VGV4dCkge1xyXG4gICAgcmV0dXJuIHJhd1RleHRcclxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXHJcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcclxuICAgICAgICAucmVwbGFjZSgvJy9nLCAnJmFwb3M7Jyk7XHJcbn1cclxuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG5mdW5jdGlvbiBoYXNPd24ob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG4vKiBlc2xpbnQtZW5hYmxlICovXHJcbi8qKlxyXG4gKiBVc2VmdWwgVXRpbGl0aWVzIEJ5IEV2YW4geW91XHJcbiAqIE1vZGlmaWVkIGJ5IGthenV5YSBrYXdhZ3VjaGlcclxuICogTUlUIExpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3NoYXJlZC9zcmMvaW5kZXgudHNcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3NoYXJlZC9zcmMvY29kZWZyYW1lLnRzXHJcbiAqL1xyXG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcclxuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XHJcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbmNvbnN0IGlzQm9vbGVhbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdib29sZWFuJztcclxuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3ltYm9sJztcclxuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XHJcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcclxuICAgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcclxufTtcclxuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xyXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xyXG4vLyBmb3IgY29udmVydGluZyBsaXN0IGFuZCBuYW1lZCB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXHJcbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcclxuICAgIHJldHVybiB2YWwgPT0gbnVsbFxyXG4gICAgICAgID8gJydcclxuICAgICAgICA6IGlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gb2JqZWN0VG9TdHJpbmcpXHJcbiAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCBudWxsLCAyKVxyXG4gICAgICAgICAgICA6IFN0cmluZyh2YWwpO1xyXG59O1xyXG5jb25zdCBSQU5HRSA9IDI7XHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXFxyP1xcbi8pO1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGNvbnN0IHJlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XHJcbiAgICAgICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gUkFOR0U7IGogPD0gaSArIFJBTkdFIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAke2xpbmV9JHsnICcucmVwZWF0KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoKX18ICAke2xpbmVzW2pdfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgxLCBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnICcucmVwZWF0KHBhZCkgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA+IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xyXG59XG5cbi8qKlxyXG4gKiBFdmVudCBlbWl0dGVyLCBmb3JrZWQgZnJvbSB0aGUgYmVsb3c6XHJcbiAqIC0gb3JpZ2luYWwgcmVwb3NpdG9yeSB1cmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvbWl0dFxyXG4gKiAtIGNvZGUgdXJsOiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L21pdHQvYmxvYi9tYXN0ZXIvc3JjL2luZGV4LnRzXHJcbiAqIC0gYXV0aG9yOiBKYXNvbiBNaWxsZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQpXHJcbiAqIC0gbGljZW5zZTogTUlUXHJcbiAqL1xyXG4vKipcclxuICogQ3JlYXRlIGEgZXZlbnQgZW1pdHRlclxyXG4gKlxyXG4gKiBAcmV0dXJucyBBbiBldmVudCBlbWl0dGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFbWl0dGVyKCkge1xyXG4gICAgY29uc3QgZXZlbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgY29uc3QgZW1pdHRlciA9IHtcclxuICAgICAgICBldmVudHMsXHJcbiAgICAgICAgb24oZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBldmVudHMuZ2V0KGV2ZW50KTtcclxuICAgICAgICAgICAgY29uc3QgYWRkZWQgPSBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICBpZiAoIWFkZGVkKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMuc2V0KGV2ZW50LCBbaGFuZGxlcl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvZmYoZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBldmVudHMuZ2V0KGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKSA+Pj4gMCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtaXQoZXZlbnQsIHBheWxvYWQpIHtcclxuICAgICAgICAgICAgKGV2ZW50cy5nZXQoZXZlbnQpIHx8IFtdKVxyXG4gICAgICAgICAgICAgICAgLnNsaWNlKClcclxuICAgICAgICAgICAgICAgIC5tYXAoaGFuZGxlciA9PiBoYW5kbGVyKHBheWxvYWQpKTtcclxuICAgICAgICAgICAgKGV2ZW50cy5nZXQoJyonKSB8fCBbXSlcclxuICAgICAgICAgICAgICAgIC5zbGljZSgpXHJcbiAgICAgICAgICAgICAgICAubWFwKGhhbmRsZXIgPT4gaGFuZGxlcihldmVudCwgcGF5bG9hZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gZW1pdHRlcjtcclxufVxuXG5leHBvcnQgeyBhc3NpZ24sIGNyZWF0ZUVtaXR0ZXIsIGVzY2FwZUh0bWwsIGZvcm1hdCwgZnJpZW5kbHlKU09Oc3RyaW5naWZ5LCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2VuZXJhdGVGb3JtYXRDYWNoZUtleSwgZ2V0R2xvYmFsVGhpcywgaGFzT3duLCBpbkJyb3dzZXIsIGlzQXJyYXksIGlzQm9vbGVhbiwgaXNEYXRlLCBpc0VtcHR5T2JqZWN0LCBpc0Z1bmN0aW9uLCBpc051bWJlciwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZWdFeHAsIGlzU3RyaW5nLCBpc1N5bWJvbCwgbWFrZVN5bWJvbCwgbWFyaywgbWVhc3VyZSwgb2JqZWN0VG9TdHJpbmcsIHRvRGlzcGxheVN0cmluZywgdG9UeXBlU3RyaW5nLCB3YXJuIH07XG4iLCIvKiFcbiAgKiBAaW50bGlmeS9tZXNzYWdlLXJlc29sdmVyIHY5LjEuOVxuICAqIChjKSAyMDIxIGthenV5YSBrYXdhZ3VjaGlcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICovXG4vKipcclxuICogT3JpZ2luYWwgVXRpbGl0aWVzXHJcbiAqIHdyaXR0ZW4gYnkga2F6dXlhIGthd2FndWNoaVxyXG4gKi9cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkgO1xyXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcbmZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xyXG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xyXG59XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuXG5jb25zdCBwYXRoU3RhdGVNYWNoaW5lID0gW107XHJcbnBhdGhTdGF0ZU1hY2hpbmVbMCAvKiBCRUZPUkVfUEFUSCAqL10gPSB7XHJcbiAgICBbXCJ3XCIgLyogV09SS1NQQUNFICovXTogWzAgLyogQkVGT1JFX1BBVEggKi9dLFxyXG4gICAgW1wiaVwiIC8qIElERU5UICovXTogWzMgLyogSU5fSURFTlQgKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIltcIiAvKiBMRUZUX0JSQUNLRVQgKi9dOiBbNCAvKiBJTl9TVUJfUEFUSCAqL10sXHJcbiAgICBbXCJvXCIgLyogRU5EX09GX0ZBSUwgKi9dOiBbNyAvKiBBRlRFUl9QQVRIICovXVxyXG59O1xyXG5wYXRoU3RhdGVNYWNoaW5lWzEgLyogSU5fUEFUSCAqL10gPSB7XHJcbiAgICBbXCJ3XCIgLyogV09SS1NQQUNFICovXTogWzEgLyogSU5fUEFUSCAqL10sXHJcbiAgICBbXCIuXCIgLyogRE9UICovXTogWzIgLyogQkVGT1JFX0lERU5UICovXSxcclxuICAgIFtcIltcIiAvKiBMRUZUX0JSQUNLRVQgKi9dOiBbNCAvKiBJTl9TVUJfUEFUSCAqL10sXHJcbiAgICBbXCJvXCIgLyogRU5EX09GX0ZBSUwgKi9dOiBbNyAvKiBBRlRFUl9QQVRIICovXVxyXG59O1xyXG5wYXRoU3RhdGVNYWNoaW5lWzIgLyogQkVGT1JFX0lERU5UICovXSA9IHtcclxuICAgIFtcIndcIiAvKiBXT1JLU1BBQ0UgKi9dOiBbMiAvKiBCRUZPUkVfSURFTlQgKi9dLFxyXG4gICAgW1wiaVwiIC8qIElERU5UICovXTogWzMgLyogSU5fSURFTlQgKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIjBcIiAvKiBaRVJPICovXTogWzMgLyogSU5fSURFTlQgKi8sIDAgLyogQVBQRU5EICovXVxyXG59O1xyXG5wYXRoU3RhdGVNYWNoaW5lWzMgLyogSU5fSURFTlQgKi9dID0ge1xyXG4gICAgW1wiaVwiIC8qIElERU5UICovXTogWzMgLyogSU5fSURFTlQgKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIjBcIiAvKiBaRVJPICovXTogWzMgLyogSU5fSURFTlQgKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIndcIiAvKiBXT1JLU1BBQ0UgKi9dOiBbMSAvKiBJTl9QQVRIICovLCAxIC8qIFBVU0ggKi9dLFxyXG4gICAgW1wiLlwiIC8qIERPVCAqL106IFsyIC8qIEJFRk9SRV9JREVOVCAqLywgMSAvKiBQVVNIICovXSxcclxuICAgIFtcIltcIiAvKiBMRUZUX0JSQUNLRVQgKi9dOiBbNCAvKiBJTl9TVUJfUEFUSCAqLywgMSAvKiBQVVNIICovXSxcclxuICAgIFtcIm9cIiAvKiBFTkRfT0ZfRkFJTCAqL106IFs3IC8qIEFGVEVSX1BBVEggKi8sIDEgLyogUFVTSCAqL11cclxufTtcclxucGF0aFN0YXRlTWFjaGluZVs0IC8qIElOX1NVQl9QQVRIICovXSA9IHtcclxuICAgIFtcIidcIiAvKiBTSU5HTEVfUVVPVEUgKi9dOiBbNSAvKiBJTl9TSU5HTEVfUVVPVEUgKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIlxcXCJcIiAvKiBET1VCTEVfUVVPVEUgKi9dOiBbNiAvKiBJTl9ET1VCTEVfUVVPVEUgKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIltcIiAvKiBMRUZUX0JSQUNLRVQgKi9dOiBbXHJcbiAgICAgICAgNCAvKiBJTl9TVUJfUEFUSCAqLyxcclxuICAgICAgICAyIC8qIElOQ19TVUJfUEFUSF9ERVBUSCAqL1xyXG4gICAgXSxcclxuICAgIFtcIl1cIiAvKiBSSUdIVF9CUkFDS0VUICovXTogWzEgLyogSU5fUEFUSCAqLywgMyAvKiBQVVNIX1NVQl9QQVRIICovXSxcclxuICAgIFtcIm9cIiAvKiBFTkRfT0ZfRkFJTCAqL106IDggLyogRVJST1IgKi8sXHJcbiAgICBbXCJsXCIgLyogRUxTRSAqL106IFs0IC8qIElOX1NVQl9QQVRIICovLCAwIC8qIEFQUEVORCAqL11cclxufTtcclxucGF0aFN0YXRlTWFjaGluZVs1IC8qIElOX1NJTkdMRV9RVU9URSAqL10gPSB7XHJcbiAgICBbXCInXCIgLyogU0lOR0xFX1FVT1RFICovXTogWzQgLyogSU5fU1VCX1BBVEggKi8sIDAgLyogQVBQRU5EICovXSxcclxuICAgIFtcIm9cIiAvKiBFTkRfT0ZfRkFJTCAqL106IDggLyogRVJST1IgKi8sXHJcbiAgICBbXCJsXCIgLyogRUxTRSAqL106IFs1IC8qIElOX1NJTkdMRV9RVU9URSAqLywgMCAvKiBBUFBFTkQgKi9dXHJcbn07XHJcbnBhdGhTdGF0ZU1hY2hpbmVbNiAvKiBJTl9ET1VCTEVfUVVPVEUgKi9dID0ge1xyXG4gICAgW1wiXFxcIlwiIC8qIERPVUJMRV9RVU9URSAqL106IFs0IC8qIElOX1NVQl9QQVRIICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCJvXCIgLyogRU5EX09GX0ZBSUwgKi9dOiA4IC8qIEVSUk9SICovLFxyXG4gICAgW1wibFwiIC8qIEVMU0UgKi9dOiBbNiAvKiBJTl9ET1VCTEVfUVVPVEUgKi8sIDAgLyogQVBQRU5EICovXVxyXG59O1xyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gZXhwcmVzc2lvbiBpcyBhIGxpdGVyYWwgdmFsdWUuXHJcbiAqL1xyXG5jb25zdCBsaXRlcmFsVmFsdWVSRSA9IC9eXFxzPyg/OnRydWV8ZmFsc2V8LT9bXFxkLl0rfCdbXiddKid8XCJbXlwiXSpcIilcXHM/JC87XHJcbmZ1bmN0aW9uIGlzTGl0ZXJhbChleHApIHtcclxuICAgIHJldHVybiBsaXRlcmFsVmFsdWVSRS50ZXN0KGV4cCk7XHJcbn1cclxuLyoqXHJcbiAqIFN0cmlwIHF1b3RlcyBmcm9tIGEgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpcFF1b3RlcyhzdHIpIHtcclxuICAgIGNvbnN0IGEgPSBzdHIuY2hhckNvZGVBdCgwKTtcclxuICAgIGNvbnN0IGIgPSBzdHIuY2hhckNvZGVBdChzdHIubGVuZ3RoIC0gMSk7XHJcbiAgICByZXR1cm4gYSA9PT0gYiAmJiAoYSA9PT0gMHgyMiB8fCBhID09PSAweDI3KSA/IHN0ci5zbGljZSgxLCAtMSkgOiBzdHI7XHJcbn1cclxuLyoqXHJcbiAqIERldGVybWluZSB0aGUgdHlwZSBvZiBhIGNoYXJhY3RlciBpbiBhIGtleXBhdGguXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQYXRoQ2hhclR5cGUoY2gpIHtcclxuICAgIGlmIChjaCA9PT0gdW5kZWZpbmVkIHx8IGNoID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIFwib1wiIC8qIEVORF9PRl9GQUlMICovO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgICBjYXNlIDB4NWI6IC8vIFtcclxuICAgICAgICBjYXNlIDB4NWQ6IC8vIF1cclxuICAgICAgICBjYXNlIDB4MmU6IC8vIC5cclxuICAgICAgICBjYXNlIDB4MjI6IC8vIFwiXHJcbiAgICAgICAgY2FzZSAweDI3OiAvLyAnXHJcbiAgICAgICAgICAgIHJldHVybiBjaDtcclxuICAgICAgICBjYXNlIDB4NWY6IC8vIF9cclxuICAgICAgICBjYXNlIDB4MjQ6IC8vICRcclxuICAgICAgICBjYXNlIDB4MmQ6IC8vIC1cclxuICAgICAgICAgICAgcmV0dXJuIFwiaVwiIC8qIElERU5UICovO1xyXG4gICAgICAgIGNhc2UgMHgwOTogLy8gVGFiIChIVClcclxuICAgICAgICBjYXNlIDB4MGE6IC8vIE5ld2xpbmUgKExGKVxyXG4gICAgICAgIGNhc2UgMHgwZDogLy8gUmV0dXJuIChDUilcclxuICAgICAgICBjYXNlIDB4YTA6IC8vIE5vLWJyZWFrIHNwYWNlIChOQlNQKVxyXG4gICAgICAgIGNhc2UgMHhmZWZmOiAvLyBCeXRlIE9yZGVyIE1hcmsgKEJPTSlcclxuICAgICAgICBjYXNlIDB4MjAyODogLy8gTGluZSBTZXBhcmF0b3IgKExTKVxyXG4gICAgICAgIGNhc2UgMHgyMDI5OiAvLyBQYXJhZ3JhcGggU2VwYXJhdG9yIChQUylcclxuICAgICAgICAgICAgcmV0dXJuIFwid1wiIC8qIFdPUktTUEFDRSAqLztcclxuICAgIH1cclxuICAgIHJldHVybiBcImlcIiAvKiBJREVOVCAqLztcclxufVxyXG4vKipcclxuICogRm9ybWF0IGEgc3ViUGF0aCwgcmV0dXJuIGl0cyBwbGFpbiBmb3JtIGlmIGl0IGlzXHJcbiAqIGEgbGl0ZXJhbCBzdHJpbmcgb3IgbnVtYmVyLiBPdGhlcndpc2UgcHJlcGVuZCB0aGVcclxuICogZHluYW1pYyBpbmRpY2F0b3IgKCopLlxyXG4gKi9cclxuZnVuY3Rpb24gZm9ybWF0U3ViUGF0aChwYXRoKSB7XHJcbiAgICBjb25zdCB0cmltbWVkID0gcGF0aC50cmltKCk7XHJcbiAgICAvLyBpbnZhbGlkIGxlYWRpbmcgMFxyXG4gICAgaWYgKHBhdGguY2hhckF0KDApID09PSAnMCcgJiYgaXNOYU4ocGFyc2VJbnQocGF0aCkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzTGl0ZXJhbCh0cmltbWVkKVxyXG4gICAgICAgID8gc3RyaXBRdW90ZXModHJpbW1lZClcclxuICAgICAgICA6IFwiKlwiIC8qIEFTVEFSSVNLICovICsgdHJpbW1lZDtcclxufVxyXG4vKipcclxuICogUGFyc2UgYSBzdHJpbmcgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHNlZ21lbnRzXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZShwYXRoKSB7XHJcbiAgICBjb25zdCBrZXlzID0gW107XHJcbiAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgIGxldCBtb2RlID0gMCAvKiBCRUZPUkVfUEFUSCAqLztcclxuICAgIGxldCBzdWJQYXRoRGVwdGggPSAwO1xyXG4gICAgbGV0IGM7XHJcbiAgICBsZXQga2V5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbiAgICBsZXQgbmV3Q2hhcjtcclxuICAgIGxldCB0eXBlO1xyXG4gICAgbGV0IHRyYW5zaXRpb247XHJcbiAgICBsZXQgYWN0aW9uO1xyXG4gICAgbGV0IHR5cGVNYXA7XHJcbiAgICBjb25zdCBhY3Rpb25zID0gW107XHJcbiAgICBhY3Rpb25zWzAgLyogQVBQRU5EICovXSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAga2V5ID0gbmV3Q2hhcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGtleSArPSBuZXdDaGFyO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBhY3Rpb25zWzEgLyogUFVTSCAqL10gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICBrZXkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFjdGlvbnNbMiAvKiBJTkNfU1VCX1BBVEhfREVQVEggKi9dID0gKCkgPT4ge1xyXG4gICAgICAgIGFjdGlvbnNbMCAvKiBBUFBFTkQgKi9dKCk7XHJcbiAgICAgICAgc3ViUGF0aERlcHRoKys7XHJcbiAgICB9O1xyXG4gICAgYWN0aW9uc1szIC8qIFBVU0hfU1VCX1BBVEggKi9dID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChzdWJQYXRoRGVwdGggPiAwKSB7XHJcbiAgICAgICAgICAgIHN1YlBhdGhEZXB0aC0tO1xyXG4gICAgICAgICAgICBtb2RlID0gNCAvKiBJTl9TVUJfUEFUSCAqLztcclxuICAgICAgICAgICAgYWN0aW9uc1swIC8qIEFQUEVORCAqL10oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN1YlBhdGhEZXB0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGtleSA9IGZvcm1hdFN1YlBhdGgoa2V5KTtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnNbMSAvKiBQVVNIICovXSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIG1heWJlVW5lc2NhcGVRdW90ZSgpIHtcclxuICAgICAgICBjb25zdCBuZXh0Q2hhciA9IHBhdGhbaW5kZXggKyAxXTtcclxuICAgICAgICBpZiAoKG1vZGUgPT09IDUgLyogSU5fU0lOR0xFX1FVT1RFICovICYmXHJcbiAgICAgICAgICAgIG5leHRDaGFyID09PSBcIidcIiAvKiBTSU5HTEVfUVVPVEUgKi8pIHx8XHJcbiAgICAgICAgICAgIChtb2RlID09PSA2IC8qIElOX0RPVUJMRV9RVU9URSAqLyAmJlxyXG4gICAgICAgICAgICAgICAgbmV4dENoYXIgPT09IFwiXFxcIlwiIC8qIERPVUJMRV9RVU9URSAqLykpIHtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgbmV3Q2hhciA9ICdcXFxcJyArIG5leHRDaGFyO1xyXG4gICAgICAgICAgICBhY3Rpb25zWzAgLyogQVBQRU5EICovXSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB3aGlsZSAobW9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgYyA9IHBhdGhbaW5kZXhdO1xyXG4gICAgICAgIGlmIChjID09PSAnXFxcXCcgJiYgbWF5YmVVbmVzY2FwZVF1b3RlKCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHR5cGUgPSBnZXRQYXRoQ2hhclR5cGUoYyk7XHJcbiAgICAgICAgdHlwZU1hcCA9IHBhdGhTdGF0ZU1hY2hpbmVbbW9kZV07XHJcbiAgICAgICAgdHJhbnNpdGlvbiA9IHR5cGVNYXBbdHlwZV0gfHwgdHlwZU1hcFtcImxcIiAvKiBFTFNFICovXSB8fCA4IC8qIEVSUk9SICovO1xyXG4gICAgICAgIC8vIGNoZWNrIHBhcnNlIGVycm9yXHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gPT09IDggLyogRVJST1IgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb2RlID0gdHJhbnNpdGlvblswXTtcclxuICAgICAgICBpZiAodHJhbnNpdGlvblsxXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbnNbdHJhbnNpdGlvblsxXV07XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIG5ld0NoYXIgPSBjO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbigpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGVjayBwYXJzZSBmaW5pc2hcclxuICAgICAgICBpZiAobW9kZSA9PT0gNyAvKiBBRlRFUl9QQVRIICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBwYXRoIHRva2VuIGNhY2hlXHJcbmNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZXNvbHZlVmFsdWUob2JqLCBwYXRoKSB7XHJcbiAgICAvLyBjaGVjayBvYmplY3RcclxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gcGFyc2UgcGF0aFxyXG4gICAgbGV0IGhpdCA9IGNhY2hlLmdldChwYXRoKTtcclxuICAgIGlmICghaGl0KSB7XHJcbiAgICAgICAgaGl0ID0gcGFyc2UocGF0aCk7XHJcbiAgICAgICAgaWYgKGhpdCkge1xyXG4gICAgICAgICAgICBjYWNoZS5zZXQocGF0aCwgaGl0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjaGVjayBoaXRcclxuICAgIGlmICghaGl0KSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyByZXNvbHZlIHBhdGggdmFsdWVcclxuICAgIGNvbnN0IGxlbiA9IGhpdC5sZW5ndGg7XHJcbiAgICBsZXQgbGFzdCA9IG9iajtcclxuICAgIGxldCBpID0gMDtcclxuICAgIHdoaWxlIChpIDwgbGVuKSB7XHJcbiAgICAgICAgY29uc3QgdmFsID0gbGFzdFtoaXRbaV1dO1xyXG4gICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdCA9IHZhbDtcclxuICAgICAgICBpKys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGFzdDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtIGZsYXQganNvbiBpbiBvYmogdG8gbm9ybWFsIGpzb24gaW4gb2JqXHJcbiAqL1xyXG5mdW5jdGlvbiBoYW5kbGVGbGF0SnNvbihvYmopIHtcclxuICAgIC8vIGNoZWNrIG9ialxyXG4gICAgaWYgKCFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIC8vIGNoZWNrIGtleVxyXG4gICAgICAgIGlmICghaGFzT3duKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaGFuZGxlIGZvciBub3JtYWwganNvblxyXG4gICAgICAgIGlmICgha2V5LmluY2x1ZGVzKFwiLlwiIC8qIERPVCAqLykpIHtcclxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlIHByb2Nlc3MgdmFsdWUgaWYgdmFsdWUgaXMgYWxzbyBhIG9iamVjdFxyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob2JqW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihvYmpba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaGFuZGxlIGZvciBmbGF0IGpzb24sIHRyYW5zZm9ybSB0byBub3JtYWwganNvblxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnbyB0byB0aGUgbGFzdCBvYmplY3RcclxuICAgICAgICAgICAgY29uc3Qgc3ViS2V5cyA9IGtleS5zcGxpdChcIi5cIiAvKiBET1QgKi8pO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdWJLZXlzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50T2JqID0gb2JqO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShzdWJLZXlzW2ldIGluIGN1cnJlbnRPYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9ialtzdWJLZXlzW2ldXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iaiA9IGN1cnJlbnRPYmpbc3ViS2V5c1tpXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdXBkYXRlIGxhc3Qgb2JqZWN0IHZhbHVlLCBkZWxldGUgb2xkIHByb3BlcnR5XHJcbiAgICAgICAgICAgIGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXSA9IG9ialtrZXldO1xyXG4gICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XHJcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSBwcm9jZXNzIHZhbHVlIGlmIHZhbHVlIGlzIGFsc28gYSBvYmplY3RcclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXSkpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUZsYXRKc29uKGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqO1xyXG59XG5cbmV4cG9ydCB7IGhhbmRsZUZsYXRKc29uLCBwYXJzZSwgcmVzb2x2ZVZhbHVlIH07XG4iLCIvKiFcbiAgKiBAaW50bGlmeS9ydW50aW1lIHY5LjEuOVxuICAqIChjKSAyMDIxIGthenV5YSBrYXdhZ3VjaGlcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICovXG5pbXBvcnQgeyBpc051bWJlciwgaXNPYmplY3QsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1BsYWluT2JqZWN0LCB0b0Rpc3BsYXlTdHJpbmcgfSBmcm9tICdAaW50bGlmeS9zaGFyZWQnO1xuXG5jb25zdCBERUZBVUxUX01PRElGSUVSID0gKHN0cikgPT4gc3RyO1xyXG5jb25zdCBERUZBVUxUX01FU1NBR0UgPSAoY3R4KSA9PiAnJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG5jb25zdCBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFID0gJ3RleHQnO1xyXG5jb25zdCBERUZBVUxUX05PUk1BTElaRSA9ICh2YWx1ZXMpID0+IHZhbHVlcy5sZW5ndGggPT09IDAgPyAnJyA6IHZhbHVlcy5qb2luKCcnKTtcclxuY29uc3QgREVGQVVMVF9JTlRFUlBPTEFURSA9IHRvRGlzcGxheVN0cmluZztcclxuZnVuY3Rpb24gcGx1cmFsRGVmYXVsdChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcclxuICAgIGNob2ljZSA9IE1hdGguYWJzKGNob2ljZSk7XHJcbiAgICBpZiAoY2hvaWNlc0xlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBjaG9pY2VcclxuICAgICAgICAgICAgPyBjaG9pY2UgPiAxXHJcbiAgICAgICAgICAgICAgICA/IDFcclxuICAgICAgICAgICAgICAgIDogMFxyXG4gICAgICAgICAgICA6IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hvaWNlID8gTWF0aC5taW4oY2hvaWNlLCAyKSA6IDA7XHJcbn1cclxuZnVuY3Rpb24gZ2V0UGx1cmFsSW5kZXgob3B0aW9ucykge1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBpbmRleCA9IGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsSW5kZXgpXHJcbiAgICAgICAgPyBvcHRpb25zLnBsdXJhbEluZGV4XHJcbiAgICAgICAgOiAtMTtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgcmV0dXJuIG9wdGlvbnMubmFtZWQgJiYgKGlzTnVtYmVyKG9wdGlvbnMubmFtZWQuY291bnQpIHx8IGlzTnVtYmVyKG9wdGlvbnMubmFtZWQubikpXHJcbiAgICAgICAgPyBpc051bWJlcihvcHRpb25zLm5hbWVkLmNvdW50KVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMubmFtZWQuY291bnRcclxuICAgICAgICAgICAgOiBpc051bWJlcihvcHRpb25zLm5hbWVkLm4pXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubmFtZWQublxyXG4gICAgICAgICAgICAgICAgOiBpbmRleFxyXG4gICAgICAgIDogaW5kZXg7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZWQocGx1cmFsSW5kZXgsIHByb3BzKSB7XHJcbiAgICBpZiAoIXByb3BzLmNvdW50KSB7XHJcbiAgICAgICAgcHJvcHMuY291bnQgPSBwbHVyYWxJbmRleDtcclxuICAgIH1cclxuICAgIGlmICghcHJvcHMubikge1xyXG4gICAgICAgIHByb3BzLm4gPSBwbHVyYWxJbmRleDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlQ29udGV4dChvcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlO1xyXG4gICAgY29uc3QgcGx1cmFsSW5kZXggPSBnZXRQbHVyYWxJbmRleChvcHRpb25zKTtcclxuICAgIGNvbnN0IHBsdXJhbFJ1bGUgPSBpc09iamVjdChvcHRpb25zLnBsdXJhbFJ1bGVzKSAmJlxyXG4gICAgICAgIGlzU3RyaW5nKGxvY2FsZSkgJiZcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXSlcclxuICAgICAgICA/IG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXVxyXG4gICAgICAgIDogcGx1cmFsRGVmYXVsdDtcclxuICAgIGNvbnN0IG9yZ1BsdXJhbFJ1bGUgPSBpc09iamVjdChvcHRpb25zLnBsdXJhbFJ1bGVzKSAmJlxyXG4gICAgICAgIGlzU3RyaW5nKGxvY2FsZSkgJiZcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXSlcclxuICAgICAgICA/IHBsdXJhbERlZmF1bHRcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IHBsdXJhbCA9IChtZXNzYWdlcykgPT4gbWVzc2FnZXNbcGx1cmFsUnVsZShwbHVyYWxJbmRleCwgbWVzc2FnZXMubGVuZ3RoLCBvcmdQbHVyYWxSdWxlKV07XHJcbiAgICBjb25zdCBfbGlzdCA9IG9wdGlvbnMubGlzdCB8fCBbXTtcclxuICAgIGNvbnN0IGxpc3QgPSAoaW5kZXgpID0+IF9saXN0W2luZGV4XTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICBjb25zdCBfbmFtZWQgPSBvcHRpb25zLm5hbWVkIHx8IHt9O1xyXG4gICAgaXNOdW1iZXIob3B0aW9ucy5wbHVyYWxJbmRleCkgJiYgbm9ybWFsaXplTmFtZWQocGx1cmFsSW5kZXgsIF9uYW1lZCk7XHJcbiAgICBjb25zdCBuYW1lZCA9IChrZXkpID0+IF9uYW1lZFtrZXldO1xyXG4gICAgLy8gVE9ETzogbmVlZCB0byBkZXNpZ24gcmVzb2x2ZSBtZXNzYWdlIGZ1bmN0aW9uP1xyXG4gICAgZnVuY3Rpb24gbWVzc2FnZShrZXkpIHtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICBjb25zdCBtc2cgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWVzc2FnZXMpXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5tZXNzYWdlcyhrZXkpXHJcbiAgICAgICAgICAgIDogaXNPYmplY3Qob3B0aW9ucy5tZXNzYWdlcylcclxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5tZXNzYWdlc1trZXldXHJcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiAhbXNnXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5wYXJlbnRcclxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5wYXJlbnQubWVzc2FnZShrZXkpIC8vIHJlc29sdmUgZnJvbSBwYXJlbnQgbWVzc2FnZXNcclxuICAgICAgICAgICAgICAgIDogREVGQVVMVF9NRVNTQUdFXHJcbiAgICAgICAgICAgIDogbXNnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX21vZGlmaWVyID0gKG5hbWUpID0+IG9wdGlvbnMubW9kaWZpZXJzXHJcbiAgICAgICAgPyBvcHRpb25zLm1vZGlmaWVyc1tuYW1lXVxyXG4gICAgICAgIDogREVGQVVMVF9NT0RJRklFUjtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpICYmIGlzRnVuY3Rpb24ob3B0aW9ucy5wcm9jZXNzb3Iubm9ybWFsaXplKVxyXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3Iubm9ybWFsaXplXHJcbiAgICAgICAgOiBERUZBVUxUX05PUk1BTElaRTtcclxuICAgIGNvbnN0IGludGVycG9sYXRlID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiZcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucHJvY2Vzc29yLmludGVycG9sYXRlKVxyXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3IuaW50ZXJwb2xhdGVcclxuICAgICAgICA6IERFRkFVTFRfSU5URVJQT0xBVEU7XHJcbiAgICBjb25zdCB0eXBlID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiYgaXNTdHJpbmcob3B0aW9ucy5wcm9jZXNzb3IudHlwZSlcclxuICAgICAgICA/IG9wdGlvbnMucHJvY2Vzc29yLnR5cGVcclxuICAgICAgICA6IERFRkFVTFRfTUVTU0FHRV9EQVRBX1RZUEU7XHJcbiAgICBjb25zdCBjdHggPSB7XHJcbiAgICAgICAgW1wibGlzdFwiIC8qIExJU1QgKi9dOiBsaXN0LFxyXG4gICAgICAgIFtcIm5hbWVkXCIgLyogTkFNRUQgKi9dOiBuYW1lZCxcclxuICAgICAgICBbXCJwbHVyYWxcIiAvKiBQTFVSQUwgKi9dOiBwbHVyYWwsXHJcbiAgICAgICAgW1wibGlua2VkXCIgLyogTElOS0VEICovXTogKGtleSwgbW9kaWZpZXIpID0+IHtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIGNoZWNrIGBrZXlgXHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2Uoa2V5KShjdHgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNTdHJpbmcobW9kaWZpZXIpID8gX21vZGlmaWVyKG1vZGlmaWVyKShtc2cpIDogbXNnO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgW1wibWVzc2FnZVwiIC8qIE1FU1NBR0UgKi9dOiBtZXNzYWdlLFxyXG4gICAgICAgIFtcInR5cGVcIiAvKiBUWVBFICovXTogdHlwZSxcclxuICAgICAgICBbXCJpbnRlcnBvbGF0ZVwiIC8qIElOVEVSUE9MQVRFICovXTogaW50ZXJwb2xhdGUsXHJcbiAgICAgICAgW1wibm9ybWFsaXplXCIgLyogTk9STUFMSVpFICovXTogbm9ybWFsaXplXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGN0eDtcclxufVxuXG5leHBvcnQgeyBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFLCBjcmVhdGVNZXNzYWdlQ29udGV4dCB9O1xuIiwiLyohXG4gICogQGludGxpZnkvbWVzc2FnZS1jb21waWxlciB2OS4xLjlcbiAgKiAoYykgMjAyMSBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuaW1wb3J0IHsgZm9ybWF0LCBhc3NpZ24sIGlzU3RyaW5nIH0gZnJvbSAnQGludGxpZnkvc2hhcmVkJztcblxuLyoqIEBpbnRlcm5hbCAqL1xyXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xyXG4gICAgLy8gdG9rZW5pemVyIGVycm9yIG1lc3NhZ2VzXHJcbiAgICBbMCAvKiBFWFBFQ1RFRF9UT0tFTiAqL106IGBFeHBlY3RlZCB0b2tlbjogJ3swfSdgLFxyXG4gICAgWzEgLyogSU5WQUxJRF9UT0tFTl9JTl9QTEFDRUhPTERFUiAqL106IGBJbnZhbGlkIHRva2VuIGluIHBsYWNlaG9sZGVyOiAnezB9J2AsXHJcbiAgICBbMiAvKiBVTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSICovXTogYFVudGVybWluYXRlZCBzaW5nbGUgcXVvdGUgaW4gcGxhY2Vob2xkZXJgLFxyXG4gICAgWzMgLyogVU5LTk9XTl9FU0NBUEVfU0VRVUVOQ0UgKi9dOiBgVW5rbm93biBlc2NhcGUgc2VxdWVuY2U6IFxcXFx7MH1gLFxyXG4gICAgWzQgLyogSU5WQUxJRF9VTklDT0RFX0VTQ0FQRV9TRVFVRU5DRSAqL106IGBJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiB7MH1gLFxyXG4gICAgWzUgLyogVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFICovXTogYFVuYmFsYW5jZWQgY2xvc2luZyBicmFjZWAsXHJcbiAgICBbNiAvKiBVTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSAqL106IGBVbnRlcm1pbmF0ZWQgY2xvc2luZyBicmFjZWAsXHJcbiAgICBbNyAvKiBFTVBUWV9QTEFDRUhPTERFUiAqL106IGBFbXB0eSBwbGFjZWhvbGRlcmAsXHJcbiAgICBbOCAvKiBOT1RfQUxMT1dfTkVTVF9QTEFDRUhPTERFUiAqL106IGBOb3QgYWxsb3dlZCBuZXN0IHBsYWNlaG9sZGVyYCxcclxuICAgIFs5IC8qIElOVkFMSURfTElOS0VEX0ZPUk1BVCAqL106IGBJbnZhbGlkIGxpbmtlZCBmb3JtYXRgLFxyXG4gICAgLy8gcGFyc2VyIGVycm9yIG1lc3NhZ2VzXHJcbiAgICBbMTAgLyogTVVTVF9IQVZFX01FU1NBR0VTX0lOX1BMVVJBTCAqL106IGBQbHVyYWwgbXVzdCBoYXZlIG1lc3NhZ2VzYCxcclxuICAgIFsxMSAvKiBVTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9NT0RJRklFUiAqL106IGBVbmV4cGVjdGVkIGVtcHR5IGxpbmtlZCBtb2RpZmllcmAsXHJcbiAgICBbMTIgLyogVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfS0VZICovXTogYFVuZXhwZWN0ZWQgZW1wdHkgbGlua2VkIGtleWAsXHJcbiAgICBbMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovXTogYFVuZXhwZWN0ZWQgbGV4aWNhbCBhbmFseXNpcyBpbiB0b2tlbjogJ3swfSdgXHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBsb2MsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgeyBkb21haW4sIG1lc3NhZ2VzLCBhcmdzIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgbXNnID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgPyBmb3JtYXQoKG1lc3NhZ2VzIHx8IGVycm9yTWVzc2FnZXMpW2NvZGVdIHx8ICcnLCAuLi4oYXJncyB8fCBbXSkpXHJcbiAgICAgICAgOiBjb2RlO1xyXG4gICAgY29uc3QgZXJyb3IgPSBuZXcgU3ludGF4RXJyb3IoU3RyaW5nKG1zZykpO1xyXG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XHJcbiAgICBpZiAobG9jKSB7XHJcbiAgICAgICAgZXJyb3IubG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbiAgICBlcnJvci5kb21haW4gPSBkb21haW47XHJcbiAgICByZXR1cm4gZXJyb3I7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBkZWZhdWx0T25FcnJvcihlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbn1cblxuY29uc3QgTG9jYXRpb25TdHViID0ge1xyXG4gICAgc3RhcnQ6IHsgbGluZTogMSwgY29sdW1uOiAxLCBvZmZzZXQ6IDAgfSxcclxuICAgIGVuZDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9XHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uKGxpbmUsIGNvbHVtbiwgb2Zmc2V0KSB7XHJcbiAgICByZXR1cm4geyBsaW5lLCBjb2x1bW4sIG9mZnNldCB9O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHN0YXJ0LCBlbmQsIHNvdXJjZSkge1xyXG4gICAgY29uc3QgbG9jID0geyBzdGFydCwgZW5kIH07XHJcbiAgICBpZiAoc291cmNlICE9IG51bGwpIHtcclxuICAgICAgICBsb2Muc291cmNlID0gc291cmNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxvYztcclxufVxuXG5jb25zdCBDSEFSX1NQID0gJyAnO1xyXG5jb25zdCBDSEFSX0NSID0gJ1xccic7XHJcbmNvbnN0IENIQVJfTEYgPSAnXFxuJztcclxuY29uc3QgQ0hBUl9MUyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHgyMDI4KTtcclxuY29uc3QgQ0hBUl9QUyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHgyMDI5KTtcclxuZnVuY3Rpb24gY3JlYXRlU2Nhbm5lcihzdHIpIHtcclxuICAgIGNvbnN0IF9idWYgPSBzdHI7XHJcbiAgICBsZXQgX2luZGV4ID0gMDtcclxuICAgIGxldCBfbGluZSA9IDE7XHJcbiAgICBsZXQgX2NvbHVtbiA9IDE7XHJcbiAgICBsZXQgX3BlZWtPZmZzZXQgPSAwO1xyXG4gICAgY29uc3QgaXNDUkxGID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9DUiAmJiBfYnVmW2luZGV4ICsgMV0gPT09IENIQVJfTEY7XHJcbiAgICBjb25zdCBpc0xGID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9MRjtcclxuICAgIGNvbnN0IGlzUFMgPSAoaW5kZXgpID0+IF9idWZbaW5kZXhdID09PSBDSEFSX1BTO1xyXG4gICAgY29uc3QgaXNMUyA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfTFM7XHJcbiAgICBjb25zdCBpc0xpbmVFbmQgPSAoaW5kZXgpID0+IGlzQ1JMRihpbmRleCkgfHwgaXNMRihpbmRleCkgfHwgaXNQUyhpbmRleCkgfHwgaXNMUyhpbmRleCk7XHJcbiAgICBjb25zdCBpbmRleCA9ICgpID0+IF9pbmRleDtcclxuICAgIGNvbnN0IGxpbmUgPSAoKSA9PiBfbGluZTtcclxuICAgIGNvbnN0IGNvbHVtbiA9ICgpID0+IF9jb2x1bW47XHJcbiAgICBjb25zdCBwZWVrT2Zmc2V0ID0gKCkgPT4gX3BlZWtPZmZzZXQ7XHJcbiAgICBjb25zdCBjaGFyQXQgPSAob2Zmc2V0KSA9PiBpc0NSTEYob2Zmc2V0KSB8fCBpc1BTKG9mZnNldCkgfHwgaXNMUyhvZmZzZXQpID8gQ0hBUl9MRiA6IF9idWZbb2Zmc2V0XTtcclxuICAgIGNvbnN0IGN1cnJlbnRDaGFyID0gKCkgPT4gY2hhckF0KF9pbmRleCk7XHJcbiAgICBjb25zdCBjdXJyZW50UGVlayA9ICgpID0+IGNoYXJBdChfaW5kZXggKyBfcGVla09mZnNldCk7XHJcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgICAgIF9wZWVrT2Zmc2V0ID0gMDtcclxuICAgICAgICBpZiAoaXNMaW5lRW5kKF9pbmRleCkpIHtcclxuICAgICAgICAgICAgX2xpbmUrKztcclxuICAgICAgICAgICAgX2NvbHVtbiA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0NSTEYoX2luZGV4KSkge1xyXG4gICAgICAgICAgICBfaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgX2luZGV4Kys7XHJcbiAgICAgICAgX2NvbHVtbisrO1xyXG4gICAgICAgIHJldHVybiBfYnVmW19pbmRleF07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwZWVrKCkge1xyXG4gICAgICAgIGlmIChpc0NSTEYoX2luZGV4ICsgX3BlZWtPZmZzZXQpKSB7XHJcbiAgICAgICAgICAgIF9wZWVrT2Zmc2V0Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9wZWVrT2Zmc2V0Kys7XHJcbiAgICAgICAgcmV0dXJuIF9idWZbX2luZGV4ICsgX3BlZWtPZmZzZXRdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICAgICAgX2luZGV4ID0gMDtcclxuICAgICAgICBfbGluZSA9IDE7XHJcbiAgICAgICAgX2NvbHVtbiA9IDE7XHJcbiAgICAgICAgX3BlZWtPZmZzZXQgPSAwO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVzZXRQZWVrKG9mZnNldCA9IDApIHtcclxuICAgICAgICBfcGVla09mZnNldCA9IG9mZnNldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNraXBUb1BlZWsoKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gX2luZGV4ICsgX3BlZWtPZmZzZXQ7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cclxuICAgICAgICB3aGlsZSAodGFyZ2V0ICE9PSBfaW5kZXgpIHtcclxuICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcGVla09mZnNldCA9IDA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIGxpbmUsXHJcbiAgICAgICAgY29sdW1uLFxyXG4gICAgICAgIHBlZWtPZmZzZXQsXHJcbiAgICAgICAgY2hhckF0LFxyXG4gICAgICAgIGN1cnJlbnRDaGFyLFxyXG4gICAgICAgIGN1cnJlbnRQZWVrLFxyXG4gICAgICAgIG5leHQsXHJcbiAgICAgICAgcGVlayxcclxuICAgICAgICByZXNldCxcclxuICAgICAgICByZXNldFBlZWssXHJcbiAgICAgICAgc2tpcFRvUGVla1xyXG4gICAgfTtcclxufVxuXG5jb25zdCBFT0YgPSB1bmRlZmluZWQ7XHJcbmNvbnN0IExJVEVSQUxfREVMSU1JVEVSID0gXCInXCI7XHJcbmNvbnN0IEVSUk9SX0RPTUFJTiQxID0gJ3Rva2VuaXplcic7XHJcbmZ1bmN0aW9uIGNyZWF0ZVRva2VuaXplcihzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSBvcHRpb25zLmxvY2F0aW9uICE9PSBmYWxzZTtcclxuICAgIGNvbnN0IF9zY25yID0gY3JlYXRlU2Nhbm5lcihzb3VyY2UpO1xyXG4gICAgY29uc3QgY3VycmVudE9mZnNldCA9ICgpID0+IF9zY25yLmluZGV4KCk7XHJcbiAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSAoKSA9PiBjcmVhdGVQb3NpdGlvbihfc2Nuci5saW5lKCksIF9zY25yLmNvbHVtbigpLCBfc2Nuci5pbmRleCgpKTtcclxuICAgIGNvbnN0IF9pbml0TG9jID0gY3VycmVudFBvc2l0aW9uKCk7XHJcbiAgICBjb25zdCBfaW5pdE9mZnNldCA9IGN1cnJlbnRPZmZzZXQoKTtcclxuICAgIGNvbnN0IF9jb250ZXh0ID0ge1xyXG4gICAgICAgIGN1cnJlbnRUeXBlOiAxNCAvKiBFT0YgKi8sXHJcbiAgICAgICAgb2Zmc2V0OiBfaW5pdE9mZnNldCxcclxuICAgICAgICBzdGFydExvYzogX2luaXRMb2MsXHJcbiAgICAgICAgZW5kTG9jOiBfaW5pdExvYyxcclxuICAgICAgICBsYXN0VHlwZTogMTQgLyogRU9GICovLFxyXG4gICAgICAgIGxhc3RPZmZzZXQ6IF9pbml0T2Zmc2V0LFxyXG4gICAgICAgIGxhc3RTdGFydExvYzogX2luaXRMb2MsXHJcbiAgICAgICAgbGFzdEVuZExvYzogX2luaXRMb2MsXHJcbiAgICAgICAgYnJhY2VOZXN0OiAwLFxyXG4gICAgICAgIGluTGlua2VkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiAnJ1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGNvbnRleHQgPSAoKSA9PiBfY29udGV4dDtcclxuICAgIGNvbnN0IHsgb25FcnJvciB9ID0gb3B0aW9ucztcclxuICAgIGZ1bmN0aW9uIGVtaXRFcnJvcihjb2RlLCBwb3MsIG9mZnNldCwgLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IGNvbnRleHQoKTtcclxuICAgICAgICBwb3MuY29sdW1uICs9IG9mZnNldDtcclxuICAgICAgICBwb3Mub2Zmc2V0ICs9IG9mZnNldDtcclxuICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBsb2MgPSBjcmVhdGVMb2NhdGlvbihjdHguc3RhcnRMb2MsIHBvcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBsb2MsIHtcclxuICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOJDEsXHJcbiAgICAgICAgICAgICAgICBhcmdzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0VG9rZW4oY29udGV4dCwgdHlwZSwgdmFsdWUpIHtcclxuICAgICAgICBjb250ZXh0LmVuZExvYyA9IGN1cnJlbnRQb3NpdGlvbigpO1xyXG4gICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgPSB0eXBlO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0geyB0eXBlIH07XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIHRva2VuLmxvYyA9IGNyZWF0ZUxvY2F0aW9uKGNvbnRleHQuc3RhcnRMb2MsIGNvbnRleHQuZW5kTG9jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZ2V0RW5kVG9rZW4gPSAoY29udGV4dCkgPT4gZ2V0VG9rZW4oY29udGV4dCwgMTQgLyogRU9GICovKTtcclxuICAgIGZ1bmN0aW9uIGVhdChzY25yLCBjaCkge1xyXG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09IGNoKSB7XHJcbiAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbWl0RXJyb3IoMCAvKiBFWFBFQ1RFRF9UT0tFTiAqLywgY3VycmVudFBvc2l0aW9uKCksIDAsIGNoKTtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBlZWtTcGFjZXMoc2Nucikge1xyXG4gICAgICAgIGxldCBidWYgPSAnJztcclxuICAgICAgICB3aGlsZSAoc2Nuci5jdXJyZW50UGVlaygpID09PSBDSEFSX1NQIHx8IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gQ0hBUl9MRikge1xyXG4gICAgICAgICAgICBidWYgKz0gc2Nuci5jdXJyZW50UGVlaygpO1xyXG4gICAgICAgICAgICBzY25yLnBlZWsoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNraXBTcGFjZXMoc2Nucikge1xyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IHBlZWtTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgc2Nuci5za2lwVG9QZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNoKSB7XHJcbiAgICAgICAgaWYgKGNoID09PSBFT0YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgcmV0dXJuICgoY2MgPj0gOTcgJiYgY2MgPD0gMTIyKSB8fCAvLyBhLXpcclxuICAgICAgICAgICAgKGNjID49IDY1ICYmIGNjIDw9IDkwKSB8fCAvLyBBLVpcclxuICAgICAgICAgICAgY2MgPT09IDk1IC8vIF9cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNOdW1iZXJTdGFydChjaCkge1xyXG4gICAgICAgIGlmIChjaCA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgIHJldHVybiBjYyA+PSA0OCAmJiBjYyA8PSA1NzsgLy8gMC05XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc05hbWVkSWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMiAvKiBCcmFjZUxlZnQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IGlzSWRlbnRpZmllclN0YXJ0KHNjbnIuY3VycmVudFBlZWsoKSk7XHJcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNMaXN0SWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMiAvKiBCcmFjZUxlZnQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50UGVlaygpID09PSAnLScgPyBzY25yLnBlZWsoKSA6IHNjbnIuY3VycmVudFBlZWsoKTtcclxuICAgICAgICBjb25zdCByZXQgPSBpc051bWJlclN0YXJ0KGNoKTtcclxuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0xpdGVyYWxTdGFydChzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcclxuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDIgLyogQnJhY2VMZWZ0ICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcclxuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IExJVEVSQUxfREVMSU1JVEVSO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzTGlua2VkRG90U3RhcnQoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSA4IC8qIExpbmtlZEFsaWFzICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcclxuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IFwiLlwiIC8qIExpbmtlZERvdCAqLztcclxuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0xpbmtlZE1vZGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSA5IC8qIExpbmtlZERvdCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gaXNJZGVudGlmaWVyU3RhcnQoc2Nuci5jdXJyZW50UGVlaygpKTtcclxuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0xpbmtlZERlbGltaXRlclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGlmICghKGN1cnJlbnRUeXBlID09PSA4IC8qIExpbmtlZEFsaWFzICovIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSAxMiAvKiBMaW5rZWRNb2RpZmllciAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCI6XCIgLyogTGlua2VkRGVsaW1pdGVyICovO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzTGlua2VkUmVmZXJTdGFydChzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcclxuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDEwIC8qIExpbmtlZERlbGltaXRlciAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudFBlZWsoKTtcclxuICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBCcmFjZUxlZnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0lkZW50aWZpZXJTdGFydChzY25yLnBlZWsoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiQFwiIC8qIExpbmtlZEFsaWFzICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCIlXCIgLyogTW9kdWxvICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ8XCIgLyogUGlwZSAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IFwiOlwiIC8qIExpbmtlZERlbGltaXRlciAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IFwiLlwiIC8qIExpbmtlZERvdCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IENIQVJfU1AgfHxcclxuICAgICAgICAgICAgICAgICFjaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX0xGKSB7XHJcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gb3RoZXIgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzSWRlbnRpZmllclN0YXJ0KGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcmV0ID0gZm4oKTtcclxuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc1BsdXJhbFN0YXJ0KHNjbnIpIHtcclxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCJ8XCIgLyogUGlwZSAqLztcclxuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc1RleHRTdGFydChzY25yLCByZXNldCA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBmbiA9IChoYXNTcGFjZSA9IGZhbHNlLCBwcmV2ID0gJycsIGRldGVjdE1vZHVsbyA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50UGVlaygpO1xyXG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIEJyYWNlTGVmdCAqLykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgPT09IFwiJVwiIC8qIE1vZHVsbyAqLyA/IGZhbHNlIDogaGFzU3BhY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiQFwiIC8qIExpbmtlZEFsaWFzICovIHx8ICFjaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgPT09IFwiJVwiIC8qIE1vZHVsbyAqLyA/IHRydWUgOiBoYXNTcGFjZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCIlXCIgLyogTW9kdWxvICovKSB7XHJcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbihoYXNTcGFjZSwgXCIlXCIgLyogTW9kdWxvICovLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCJ8XCIgLyogUGlwZSAqLykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgPT09IFwiJVwiIC8qIE1vZHVsbyAqLyB8fCBkZXRlY3RNb2R1bG9cclxuICAgICAgICAgICAgICAgICAgICA/IHRydWVcclxuICAgICAgICAgICAgICAgICAgICA6ICEocHJldiA9PT0gQ0hBUl9TUCB8fCBwcmV2ID09PSBDSEFSX0xGKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9TUCkge1xyXG4gICAgICAgICAgICAgICAgc2Nuci5wZWVrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odHJ1ZSwgQ0hBUl9TUCwgZGV0ZWN0TW9kdWxvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gQ0hBUl9MRikge1xyXG4gICAgICAgICAgICAgICAgc2Nuci5wZWVrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odHJ1ZSwgQ0hBUl9MRiwgZGV0ZWN0TW9kdWxvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCByZXQgPSBmbigpO1xyXG4gICAgICAgIHJlc2V0ICYmIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRha2VDaGFyKHNjbnIsIGZuKSB7XHJcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XHJcbiAgICAgICAgaWYgKGNoID09PSBFT0YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVPRjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZuKGNoKSkge1xyXG4gICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRha2VJZGVudGlmaWVyQ2hhcihzY25yKSB7XHJcbiAgICAgICAgY29uc3QgY2xvc3VyZSA9IChjaCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGNjID49IDk3ICYmIGNjIDw9IDEyMikgfHwgLy8gYS16XHJcbiAgICAgICAgICAgICAgICAoY2MgPj0gNjUgJiYgY2MgPD0gOTApIHx8IC8vIEEtWlxyXG4gICAgICAgICAgICAgICAgKGNjID49IDQ4ICYmIGNjIDw9IDU3KSB8fCAvLyAwLTlcclxuICAgICAgICAgICAgICAgIGNjID09PSA5NSB8fCAvLyBfXHJcbiAgICAgICAgICAgICAgICBjYyA9PT0gMzYgLy8gJFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdGFrZURpZ2l0KHNjbnIpIHtcclxuICAgICAgICBjb25zdCBjbG9zdXJlID0gKGNoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNjID49IDQ4ICYmIGNjIDw9IDU3OyAvLyAwLTlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0YWtlQ2hhcihzY25yLCBjbG9zdXJlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRha2VIZXhEaWdpdChzY25yKSB7XHJcbiAgICAgICAgY29uc3QgY2xvc3VyZSA9IChjaCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGNjID49IDQ4ICYmIGNjIDw9IDU3KSB8fCAvLyAwLTlcclxuICAgICAgICAgICAgICAgIChjYyA+PSA2NSAmJiBjYyA8PSA3MCkgfHwgLy8gQS1GXHJcbiAgICAgICAgICAgICAgICAoY2MgPj0gOTcgJiYgY2MgPD0gMTAyKSk7IC8vIGEtZlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0RGlnaXRzKHNjbnIpIHtcclxuICAgICAgICBsZXQgY2ggPSAnJztcclxuICAgICAgICBsZXQgbnVtID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VEaWdpdChzY25yKSkpIHtcclxuICAgICAgICAgICAgbnVtICs9IGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVtO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZFRleHQoc2Nucikge1xyXG4gICAgICAgIGxldCBidWYgPSAnJztcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBCcmFjZUxlZnQgKi8gfHxcclxuICAgICAgICAgICAgICAgIGNoID09PSBcIn1cIiAvKiBCcmFjZVJpZ2h0ICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJAXCIgLyogTGlua2VkQWxpYXMgKi8gfHxcclxuICAgICAgICAgICAgICAgIGNoID09PSBcInxcIiAvKiBQaXBlICovIHx8XHJcbiAgICAgICAgICAgICAgICAhY2gpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcIiVcIiAvKiBNb2R1bG8gKi8pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RleHRTdGFydChzY25yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcclxuICAgICAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX1NQIHx8IGNoID09PSBDSEFSX0xGKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNUZXh0U3RhcnQoc2NucikpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWYgKz0gY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BsdXJhbFN0YXJ0KHNjbnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidWYgKz0gY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidWYgKz0gY2g7XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZE5hbWVkSWRlbnRpZmllcihzY25yKSB7XHJcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICBsZXQgY2ggPSAnJztcclxuICAgICAgICBsZXQgbmFtZSA9ICcnO1xyXG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlSWRlbnRpZmllckNoYXIoc2NucikpKSB7XHJcbiAgICAgICAgICAgIG5hbWUgKz0gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09IEVPRikge1xyXG4gICAgICAgICAgICBlbWl0RXJyb3IoNiAvKiBVTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlYWRMaXN0SWRlbnRpZmllcihzY25yKSB7XHJcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICBsZXQgdmFsdWUgPSAnJztcclxuICAgICAgICBpZiAoc2Nuci5jdXJyZW50Q2hhcigpID09PSAnLScpIHtcclxuICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgIHZhbHVlICs9IGAtJHtnZXREaWdpdHMoc2Nucil9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlICs9IGdldERpZ2l0cyhzY25yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgIGVtaXRFcnJvcig2IC8qIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlYWRMaXRlcmFsKHNjbnIpIHtcclxuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGVhdChzY25yLCBgXFwnYCk7XHJcbiAgICAgICAgbGV0IGNoID0gJyc7XHJcbiAgICAgICAgbGV0IGxpdGVyYWwgPSAnJztcclxuICAgICAgICBjb25zdCBmbiA9ICh4KSA9PiB4ICE9PSBMSVRFUkFMX0RFTElNSVRFUiAmJiB4ICE9PSBDSEFSX0xGO1xyXG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlQ2hhcihzY25yLCBmbikpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xcXFwnKSB7XHJcbiAgICAgICAgICAgICAgICBsaXRlcmFsICs9IHJlYWRFc2NhcGVTZXF1ZW5jZShzY25yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpdGVyYWwgKz0gY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gQ0hBUl9MRiB8fCBjdXJyZW50ID09PSBFT0YpIHtcclxuICAgICAgICAgICAgZW1pdEVycm9yKDIgLyogVU5URVJNSU5BVEVEX1NJTkdMRV9RVU9URV9JTl9QTEFDRUhPTERFUiAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBJcyBpdCBjb3JyZWN0IHJlYWxseT9cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IENIQVJfTEYpIHtcclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgZWF0KHNjbnIsIGBcXCdgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbGl0ZXJhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWF0KHNjbnIsIGBcXCdgKTtcclxuICAgICAgICByZXR1cm4gbGl0ZXJhbDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlYWRFc2NhcGVTZXF1ZW5jZShzY25yKSB7XHJcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XHJcbiAgICAgICAgc3dpdGNoIChjaCkge1xyXG4gICAgICAgICAgICBjYXNlICdcXFxcJzpcclxuICAgICAgICAgICAgY2FzZSBgXFwnYDpcclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcXFxcJHtjaH1gO1xyXG4gICAgICAgICAgICBjYXNlICd1JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIGNoLCA0KTtcclxuICAgICAgICAgICAgY2FzZSAnVSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZShzY25yLCBjaCwgNik7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IoMyAvKiBVTktOT1dOX0VTQ0FQRV9TRVFVRU5DRSAqLywgY3VycmVudFBvc2l0aW9uKCksIDAsIGNoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIHVuaWNvZGUsIGRpZ2l0cykge1xyXG4gICAgICAgIGVhdChzY25yLCB1bmljb2RlKTtcclxuICAgICAgICBsZXQgc2VxdWVuY2UgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZ2l0czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoID0gdGFrZUhleERpZ2l0KHNjbnIpO1xyXG4gICAgICAgICAgICBpZiAoIWNoKSB7XHJcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IoNCAvKiBJTlZBTElEX1VOSUNPREVfRVNDQVBFX1NFUVVFTkNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgYFxcXFwke3VuaWNvZGV9JHtzZXF1ZW5jZX0ke3NjbnIuY3VycmVudENoYXIoKX1gKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlcXVlbmNlICs9IGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYFxcXFwke3VuaWNvZGV9JHtzZXF1ZW5jZX1gO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZEludmFsaWRJZGVudGlmaWVyKHNjbnIpIHtcclxuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGxldCBjaCA9ICcnO1xyXG4gICAgICAgIGxldCBpZGVudGlmaWVycyA9ICcnO1xyXG4gICAgICAgIGNvbnN0IGNsb3N1cmUgPSAoY2gpID0+IGNoICE9PSBcIntcIiAvKiBCcmFjZUxlZnQgKi8gJiZcclxuICAgICAgICAgICAgY2ggIT09IFwifVwiIC8qIEJyYWNlUmlnaHQgKi8gJiZcclxuICAgICAgICAgICAgY2ggIT09IENIQVJfU1AgJiZcclxuICAgICAgICAgICAgY2ggIT09IENIQVJfTEY7XHJcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpKSkge1xyXG4gICAgICAgICAgICBpZGVudGlmaWVycyArPSBjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZExpbmtlZE1vZGlmaWVyKHNjbnIpIHtcclxuICAgICAgICBsZXQgY2ggPSAnJztcclxuICAgICAgICBsZXQgbmFtZSA9ICcnO1xyXG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlSWRlbnRpZmllckNoYXIoc2NucikpKSB7XHJcbiAgICAgICAgICAgIG5hbWUgKz0gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZExpbmtlZFJlZmVyKHNjbnIpIHtcclxuICAgICAgICBjb25zdCBmbiA9IChkZXRlY3QgPSBmYWxzZSwgYnVmKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xyXG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIEJyYWNlTGVmdCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IFwiJVwiIC8qIE1vZHVsbyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IFwiQFwiIC8qIExpbmtlZEFsaWFzICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ8XCIgLyogUGlwZSAqLyB8fFxyXG4gICAgICAgICAgICAgICAgIWNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX1NQKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX0xGKSB7XHJcbiAgICAgICAgICAgICAgICBidWYgKz0gY2g7XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbihkZXRlY3QsIGJ1Zik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidWYgKz0gY2g7XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cnVlLCBidWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZm4oZmFsc2UsICcnKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlYWRQbHVyYWwoc2Nucikge1xyXG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgY29uc3QgcGx1cmFsID0gZWF0KHNjbnIsIFwifFwiIC8qIFBpcGUgKi8pO1xyXG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgcmV0dXJuIHBsdXJhbDtcclxuICAgIH1cclxuICAgIC8vIFRPRE86IFdlIG5lZWQgcmVmYWN0b3Jpbmcgb2YgdG9rZW4gcGFyc2luZyAuLi5cclxuICAgIGZ1bmN0aW9uIHJlYWRUb2tlbkluUGxhY2Vob2xkZXIoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XHJcbiAgICAgICAgc3dpdGNoIChjaCkge1xyXG4gICAgICAgICAgICBjYXNlIFwie1wiIC8qIEJyYWNlTGVmdCAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKDggLyogTk9UX0FMTE9XX05FU1RfUExBQ0VIT0xERVIgKi8sIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAyIC8qIEJyYWNlTGVmdCAqLywgXCJ7XCIgLyogQnJhY2VMZWZ0ICovKTtcclxuICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCsrO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICBjYXNlIFwifVwiIC8qIEJyYWNlUmlnaHQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMiAvKiBCcmFjZUxlZnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoNyAvKiBFTVBUWV9QTEFDRUhPTERFUiAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDMgLyogQnJhY2VSaWdodCAqLywgXCJ9XCIgLyogQnJhY2VSaWdodCAqLyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdC0tO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPiAwICYmIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pbkxpbmtlZCAmJiBjb250ZXh0LmJyYWNlTmVzdCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgY2FzZSBcIkBcIiAvKiBMaW5rZWRBbGlhcyAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoNiAvKiBVTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZE5hbWVkSWRlbnRpZmllciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRMaXN0SWRlbnRpZmllciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRMaXRlcmFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1BsdXJhbFN0YXJ0KHNjbnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoNiAvKiBVTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogUGlwZSAqLywgcmVhZFBsdXJhbChzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAoY29udGV4dC5jdXJyZW50VHlwZSA9PT0gNSAvKiBOYW1lZCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSA2IC8qIExpc3QgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSA9PT0gNyAvKiBMaXRlcmFsICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcig2IC8qIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW4oc2NuciwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZhbGlkTmFtZWRJZGVudGlmaWVyID0gaXNOYW1lZElkZW50aWZpZXJTdGFydChzY25yLCBjb250ZXh0KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDUgLyogTmFtZWQgKi8sIHJlYWROYW1lZElkZW50aWZpZXIoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCh2YWxpZExpc3RJZGVudGlmaWVyID0gaXNMaXN0SWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgNiAvKiBMaXN0ICovLCByZWFkTGlzdElkZW50aWZpZXIoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCh2YWxpZExpdGVyYWwgPSBpc0xpdGVyYWxTdGFydChzY25yLCBjb250ZXh0KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDcgLyogTGl0ZXJhbCAqLywgcmVhZExpdGVyYWwoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZE5hbWVkSWRlbnRpZmllciAmJiAhdmFsaWRMaXN0SWRlbnRpZmllciAmJiAhdmFsaWRMaXRlcmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2Ugc2hvdWxkIGJlIHJlLWRlc2lnbmVkIGludmFsaWQgY2FzZXMsIHdoZW4gd2Ugd2lsbCBleHRlbmQgbWVzc2FnZSBzeW50YXggbmVhciB0aGUgZnV0dXJlIC4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMTMgLyogSW52YWxpZFBsYWNlICovLCByZWFkSW52YWxpZElkZW50aWZpZXIoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcigxIC8qIElOVkFMSURfVE9LRU5fSU5fUExBQ0VIT0xERVIgKi8sIGN1cnJlbnRQb3NpdGlvbigpLCAwLCB0b2tlbi52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogV2UgbmVlZCByZWZhY3RvcmluZyBvZiB0b2tlbiBwYXJzaW5nIC4uLlxyXG4gICAgZnVuY3Rpb24gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XHJcbiAgICAgICAgbGV0IHRva2VuID0gbnVsbDtcclxuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICBpZiAoKGN1cnJlbnRUeXBlID09PSA4IC8qIExpbmtlZEFsaWFzICovIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSA5IC8qIExpbmtlZERvdCAqLyB8fFxyXG4gICAgICAgICAgICBjdXJyZW50VHlwZSA9PT0gMTIgLyogTGlua2VkTW9kaWZpZXIgKi8gfHxcclxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDEwIC8qIExpbmtlZERlbGltaXRlciAqLykgJiZcclxuICAgICAgICAgICAgKGNoID09PSBDSEFSX0xGIHx8IGNoID09PSBDSEFSX1NQKSkge1xyXG4gICAgICAgICAgICBlbWl0RXJyb3IoOSAvKiBJTlZBTElEX0xJTktFRF9GT1JNQVQgKi8sIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChjaCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIExpbmtlZEFsaWFzICovOlxyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDggLyogTGlua2VkQWxpYXMgKi8sIFwiQFwiIC8qIExpbmtlZEFsaWFzICovKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICBjYXNlIFwiLlwiIC8qIExpbmtlZERvdCAqLzpcclxuICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCA5IC8qIExpbmtlZERvdCAqLywgXCIuXCIgLyogTGlua2VkRG90ICovKTtcclxuICAgICAgICAgICAgY2FzZSBcIjpcIiAvKiBMaW5rZWREZWxpbWl0ZXIgKi86XHJcbiAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMTAgLyogTGlua2VkRGVsaW1pdGVyICovLCBcIjpcIiAvKiBMaW5rZWREZWxpbWl0ZXIgKi8pO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogUGlwZSAqLywgcmVhZFBsdXJhbChzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc0xpbmtlZERvdFN0YXJ0KHNjbnIsIGNvbnRleHQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgaXNMaW5rZWREZWxpbWl0ZXJTdGFydChzY25yLCBjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTGlua2VkTW9kaWZpZXJTdGFydChzY25yLCBjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDEyIC8qIExpbmtlZE1vZGlmaWVyICovLCByZWFkTGlua2VkTW9kaWZpZXIoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTGlua2VkUmVmZXJTdGFydChzY25yLCBjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBCcmFjZUxlZnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2NhbiB0aGUgcGxhY2Vob2xkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluUGxhY2Vob2xkZXIoc2NuciwgY29udGV4dCkgfHwgdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMTEgLyogTGlua2VkS2V5ICovLCByZWFkTGlua2VkUmVmZXIoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VHlwZSA9PT0gOCAvKiBMaW5rZWRBbGlhcyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcig5IC8qIElOVkFMSURfTElOS0VEX0ZPUk1BVCAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihzY25yLCBjb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPOiBXZSBuZWVkIHJlZmFjdG9yaW5nIG9mIHRva2VuIHBhcnNpbmcgLi4uXHJcbiAgICBmdW5jdGlvbiByZWFkVG9rZW4oc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IHsgdHlwZTogMTQgLyogRU9GICovIH07XHJcbiAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbnRleHQuaW5MaW5rZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICBzd2l0Y2ggKGNoKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ7XCIgLyogQnJhY2VMZWZ0ICovOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluUGxhY2Vob2xkZXIoc2NuciwgY29udGV4dCkgfHwgZ2V0RW5kVG9rZW4oY29udGV4dCk7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ9XCIgLyogQnJhY2VSaWdodCAqLzpcclxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcig1IC8qIFVOQkFMQU5DRURfQ0xPU0lOR19CUkFDRSAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMyAvKiBCcmFjZVJpZ2h0ICovLCBcIn1cIiAvKiBCcmFjZVJpZ2h0ICovKTtcclxuICAgICAgICAgICAgY2FzZSBcIkBcIiAvKiBMaW5rZWRBbGlhcyAqLzpcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChpc1BsdXJhbFN0YXJ0KHNjbnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAxIC8qIFBpcGUgKi8sIHJlYWRQbHVyYWwoc2NucikpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNUZXh0U3RhcnQoc2NucikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMCAvKiBUZXh0ICovLCByZWFkVGV4dChzY25yKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09IFwiJVwiIC8qIE1vZHVsbyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCA0IC8qIE1vZHVsbyAqLywgXCIlXCIgLyogTW9kdWxvICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBuZXh0VG9rZW4oKSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSwgb2Zmc2V0LCBzdGFydExvYywgZW5kTG9jIH0gPSBfY29udGV4dDtcclxuICAgICAgICBfY29udGV4dC5sYXN0VHlwZSA9IGN1cnJlbnRUeXBlO1xyXG4gICAgICAgIF9jb250ZXh0Lmxhc3RPZmZzZXQgPSBvZmZzZXQ7XHJcbiAgICAgICAgX2NvbnRleHQubGFzdFN0YXJ0TG9jID0gc3RhcnRMb2M7XHJcbiAgICAgICAgX2NvbnRleHQubGFzdEVuZExvYyA9IGVuZExvYztcclxuICAgICAgICBfY29udGV4dC5vZmZzZXQgPSBjdXJyZW50T2Zmc2V0KCk7XHJcbiAgICAgICAgX2NvbnRleHQuc3RhcnRMb2MgPSBjdXJyZW50UG9zaXRpb24oKTtcclxuICAgICAgICBpZiAoX3NjbnIuY3VycmVudENoYXIoKSA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihfY29udGV4dCwgMTQgLyogRU9GICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihfc2NuciwgX2NvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0VG9rZW4sXHJcbiAgICAgICAgY3VycmVudE9mZnNldCxcclxuICAgICAgICBjdXJyZW50UG9zaXRpb24sXHJcbiAgICAgICAgY29udGV4dFxyXG4gICAgfTtcclxufVxuXG5jb25zdCBFUlJPUl9ET01BSU4gPSAncGFyc2VyJztcclxuLy8gQmFja3NsYXNoIGJhY2tzbGFzaCwgYmFja3NsYXNoIHF1b3RlLCB1SEhISCwgVUhISEhISC5cclxuY29uc3QgS05PV05fRVNDQVBFUyA9IC8oPzpcXFxcXFxcXHxcXFxcJ3xcXFxcdShbMC05YS1mQS1GXXs0fSl8XFxcXFUoWzAtOWEtZkEtRl17Nn0pKS9nO1xyXG5mdW5jdGlvbiBmcm9tRXNjYXBlU2VxdWVuY2UobWF0Y2gsIGNvZGVQb2ludDQsIGNvZGVQb2ludDYpIHtcclxuICAgIHN3aXRjaCAobWF0Y2gpIHtcclxuICAgICAgICBjYXNlIGBcXFxcXFxcXGA6XHJcbiAgICAgICAgICAgIHJldHVybiBgXFxcXGA7XHJcbiAgICAgICAgY2FzZSBgXFxcXFxcJ2A6XHJcbiAgICAgICAgICAgIHJldHVybiBgXFwnYDtcclxuICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHBhcnNlSW50KGNvZGVQb2ludDQgfHwgY29kZVBvaW50NiwgMTYpO1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZDdmZiB8fCBjb2RlUG9pbnQgPj0gMHhlMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbnZhbGlkIC4uLlxyXG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZW0gd2l0aCBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSLlxyXG4gICAgICAgICAgICByZXR1cm4gJ++/vSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gb3B0aW9ucy5sb2NhdGlvbiAhPT0gZmFsc2U7XHJcbiAgICBjb25zdCB7IG9uRXJyb3IgfSA9IG9wdGlvbnM7XHJcbiAgICBmdW5jdGlvbiBlbWl0RXJyb3IodG9rZW56ZXIsIGNvZGUsIHN0YXJ0LCBvZmZzZXQsIC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBlbmQgPSB0b2tlbnplci5jdXJyZW50UG9zaXRpb24oKTtcclxuICAgICAgICBlbmQub2Zmc2V0ICs9IG9mZnNldDtcclxuICAgICAgICBlbmQuY29sdW1uICs9IG9mZnNldDtcclxuICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBsb2MgPSBjcmVhdGVMb2NhdGlvbihzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xyXG4gICAgICAgICAgICAgICAgZG9tYWluOiBFUlJPUl9ET01BSU4sXHJcbiAgICAgICAgICAgICAgICBhcmdzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc3RhcnROb2RlKHR5cGUsIG9mZnNldCwgbG9jKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgc3RhcnQ6IG9mZnNldCxcclxuICAgICAgICAgICAgZW5kOiBvZmZzZXRcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChsb2NhdGlvbikge1xyXG4gICAgICAgICAgICBub2RlLmxvYyA9IHsgc3RhcnQ6IGxvYywgZW5kOiBsb2MgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBlbmROb2RlKG5vZGUsIG9mZnNldCwgcG9zLCB0eXBlKSB7XHJcbiAgICAgICAgbm9kZS5lbmQgPSBvZmZzZXQ7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgbm9kZS50eXBlID0gdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uICYmIG5vZGUubG9jKSB7XHJcbiAgICAgICAgICAgIG5vZGUubG9jLmVuZCA9IHBvcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZVRleHQodG9rZW5pemVyLCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoMyAvKiBUZXh0ICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XHJcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlTGlzdCh0b2tlbml6ZXIsIGluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcclxuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDUgLyogTGlzdCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUuaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xyXG4gICAgICAgIHRva2VuaXplci5uZXh0VG9rZW4oKTsgLy8gc2tpcCBicmFjaCByaWdodFxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlTmFtZWQodG9rZW5pemVyLCBrZXkpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBicmFjZSBsZWZ0IGxvY1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoNCAvKiBOYW1lZCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUua2V5ID0ga2V5O1xyXG4gICAgICAgIHRva2VuaXplci5uZXh0VG9rZW4oKTsgLy8gc2tpcCBicmFjaCByaWdodFxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCh0b2tlbml6ZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcclxuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDkgLyogTGl0ZXJhbCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZS5yZXBsYWNlKEtOT1dOX0VTQ0FQRVMsIGZyb21Fc2NhcGVTZXF1ZW5jZSk7XHJcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XHJcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFyc2VMaW5rZWRNb2RpZmllcih0b2tlbml6ZXIpIHtcclxuICAgICAgICBjb25zdCB0b2tlbiA9IHRva2VuaXplci5uZXh0VG9rZW4oKTtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBsaW5rZWQgZG90IGxvY1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoOCAvKiBMaW5rZWRNb2RpZmllciAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9PSAxMiAvKiBMaW5rZWRNb2RpZmllciAqLykge1xyXG4gICAgICAgICAgICAvLyBlbXB0eSBtb2RpZmllclxyXG4gICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMSAvKiBVTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9NT0RJRklFUiAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDApO1xyXG4gICAgICAgICAgICBub2RlLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIGVuZE5vZGUobm9kZSwgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmV4dENvbnN1bWVUb2tlbjogdG9rZW4sXHJcbiAgICAgICAgICAgICAgICBub2RlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIHRva2VuXHJcbiAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vZGUudmFsdWUgPSB0b2tlbi52YWx1ZSB8fCAnJztcclxuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9kZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg3IC8qIExpbmtlZEtleSAqLywgY29udGV4dC5vZmZzZXQsIGNvbnRleHQuc3RhcnRMb2MpO1xyXG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZUxpbmtlZCh0b2tlbml6ZXIpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gc3RhcnROb2RlKDYgLyogTGlua2VkICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XHJcbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSA5IC8qIExpbmtlZERvdCAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUxpbmtlZE1vZGlmaWVyKHRva2VuaXplcik7XHJcbiAgICAgICAgICAgIGxpbmtlZE5vZGUubW9kaWZpZXIgPSBwYXJzZWQubm9kZTtcclxuICAgICAgICAgICAgdG9rZW4gPSBwYXJzZWQubmV4dENvbnN1bWVUb2tlbiB8fCB0b2tlbml6ZXIubmV4dFRva2VuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFzc2V0IGNoZWNrIHRva2VuXHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09IDEwIC8qIExpbmtlZERlbGltaXRlciAqLykge1xyXG4gICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIubmV4dFRva2VuKCk7XHJcbiAgICAgICAgLy8gc2tpcCBicmFjZSBsZWZ0XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDIgLyogQnJhY2VMZWZ0ICovKSB7XHJcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAxMSAvKiBMaW5rZWRLZXkgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDUgLyogTmFtZWQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZU5hbWVkKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNiAvKiBMaXN0ICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXN0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNyAvKiBMaXRlcmFsICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXRlcmFsKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAvLyBlbXB0eSBrZXlcclxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEyIC8qIFVORVhQRUNURURfRU1QVFlfTElOS0VEX0tFWSAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlMaW5rZWRLZXlOb2RlID0gc3RhcnROb2RlKDcgLyogTGlua2VkS2V5ICovLCBuZXh0Q29udGV4dC5vZmZzZXQsIG5leHRDb250ZXh0LnN0YXJ0TG9jKTtcclxuICAgICAgICAgICAgICAgIGVtcHR5TGlua2VkS2V5Tm9kZS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZW5kTm9kZShlbXB0eUxpbmtlZEtleU5vZGUsIG5leHRDb250ZXh0Lm9mZnNldCwgbmV4dENvbnRleHQuc3RhcnRMb2MpO1xyXG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBlbXB0eUxpbmtlZEtleU5vZGU7XHJcbiAgICAgICAgICAgICAgICBlbmROb2RlKGxpbmtlZE5vZGUsIG5leHRDb250ZXh0Lm9mZnNldCwgbmV4dENvbnRleHQuc3RhcnRMb2MpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Q29uc3VtZVRva2VuOiB0b2tlbixcclxuICAgICAgICAgICAgICAgICAgICBub2RlOiBsaW5rZWROb2RlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbmROb2RlKGxpbmtlZE5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9kZTogbGlua2VkTm9kZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFBpcGUgKi9cclxuICAgICAgICAgICAgPyB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpXHJcbiAgICAgICAgICAgIDogY29udGV4dC5vZmZzZXQ7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRMb2MgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFBpcGUgKi9cclxuICAgICAgICAgICAgPyBjb250ZXh0LmVuZExvY1xyXG4gICAgICAgICAgICA6IGNvbnRleHQuc3RhcnRMb2M7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgyIC8qIE1lc3NhZ2UgKi8sIHN0YXJ0T2Zmc2V0LCBzdGFydExvYyk7XHJcbiAgICAgICAgbm9kZS5pdGVtcyA9IFtdO1xyXG4gICAgICAgIGxldCBuZXh0VG9rZW4gPSBudWxsO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBuZXh0VG9rZW4gfHwgdG9rZW5pemVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICBuZXh0VG9rZW4gPSBudWxsO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUZXh0ICovOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VUZXh0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNiAvKiBMaXN0ICovOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VMaXN0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBOYW1lZCAqLzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3IC8qIExpdGVyYWwgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZUxpdGVyYWwodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA4IC8qIExpbmtlZEFsaWFzICovOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlTGlua2VkKHRva2VuaXplcik7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlZC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4gPSBwYXJzZWQubmV4dENvbnN1bWVUb2tlbiB8fCBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSB3aGlsZSAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogRU9GICovICYmXHJcbiAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgIT09IDEgLyogUGlwZSAqLyk7XHJcbiAgICAgICAgLy8gYWRqdXN0IG1lc3NhZ2Ugbm9kZSBsb2NcclxuICAgICAgICBjb25zdCBlbmRPZmZzZXQgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFBpcGUgKi9cclxuICAgICAgICAgICAgPyBjb250ZXh0Lmxhc3RPZmZzZXRcclxuICAgICAgICAgICAgOiB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpO1xyXG4gICAgICAgIGNvbnN0IGVuZExvYyA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogUGlwZSAqL1xyXG4gICAgICAgICAgICA/IGNvbnRleHQubGFzdEVuZExvY1xyXG4gICAgICAgICAgICA6IHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKTtcclxuICAgICAgICBlbmROb2RlKG5vZGUsIGVuZE9mZnNldCwgZW5kTG9jKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlUGx1cmFsKHRva2VuaXplciwgb2Zmc2V0LCBsb2MsIG1zZ05vZGUpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBsZXQgaGFzRW1wdHlNZXNzYWdlID0gbXNnTm9kZS5pdGVtcy5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgxIC8qIFBsdXJhbCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUuY2FzZXMgPSBbXTtcclxuICAgICAgICBub2RlLmNhc2VzLnB1c2gobXNnTm9kZSk7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBjb25zdCBtc2cgPSBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKTtcclxuICAgICAgICAgICAgaWYgKCFoYXNFbXB0eU1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGhhc0VtcHR5TWVzc2FnZSA9IG1zZy5pdGVtcy5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZS5jYXNlcy5wdXNoKG1zZyk7XHJcbiAgICAgICAgfSB3aGlsZSAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogRU9GICovKTtcclxuICAgICAgICBpZiAoaGFzRW1wdHlNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEwIC8qIE1VU1RfSEFWRV9NRVNTQUdFU19JTl9QTFVSQUwgKi8sIGxvYywgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlUmVzb3VyY2UodG9rZW5pemVyKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXQsIHN0YXJ0TG9jIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IG1zZ05vZGUgPSBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKTtcclxuICAgICAgICBpZiAoY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMTQgLyogRU9GICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtc2dOb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGx1cmFsKHRva2VuaXplciwgb2Zmc2V0LCBzdGFydExvYywgbXNnTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFyc2Uoc291cmNlKSB7XHJcbiAgICAgICAgY29uc3QgdG9rZW5pemVyID0gY3JlYXRlVG9rZW5pemVyKHNvdXJjZSwgYXNzaWduKHt9LCBvcHRpb25zKSk7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgwIC8qIFJlc291cmNlICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uICYmIG5vZGUubG9jKSB7XHJcbiAgICAgICAgICAgIG5vZGUubG9jLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZS5ib2R5ID0gcGFyc2VSZXNvdXJjZSh0b2tlbml6ZXIpO1xyXG4gICAgICAgIC8vIGFzc2VydCB3aGV0aGVyIGFjaGlldmVkIHRvIEVPRlxyXG4gICAgICAgIGlmIChjb250ZXh0LmN1cnJlbnRUeXBlICE9PSAxNCAvKiBFT0YgKi8pIHtcclxuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgc291cmNlW2NvbnRleHQub2Zmc2V0XSB8fCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHBhcnNlIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSB7XHJcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gMTQgLyogRU9GICovKSB7XHJcbiAgICAgICAgcmV0dXJuICdFT0YnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmFtZSA9ICh0b2tlbi52YWx1ZSB8fCAnJykucmVwbGFjZSgvXFxyP1xcbi9ndSwgJ1xcXFxuJyk7XHJcbiAgICByZXR1cm4gbmFtZS5sZW5ndGggPiAxMCA/IG5hbWUuc2xpY2UoMCwgOSkgKyAn4oCmJyA6IG5hbWU7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtZXIoYXN0LCBvcHRpb25zID0ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4pIHtcclxuICAgIGNvbnN0IF9jb250ZXh0ID0ge1xyXG4gICAgICAgIGFzdCxcclxuICAgICAgICBoZWxwZXJzOiBuZXcgU2V0KClcclxuICAgIH07XHJcbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gX2NvbnRleHQ7XHJcbiAgICBjb25zdCBoZWxwZXIgPSAobmFtZSkgPT4ge1xyXG4gICAgICAgIF9jb250ZXh0LmhlbHBlcnMuYWRkKG5hbWUpO1xyXG4gICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfTtcclxuICAgIHJldHVybiB7IGNvbnRleHQsIGhlbHBlciB9O1xyXG59XHJcbmZ1bmN0aW9uIHRyYXZlcnNlTm9kZXMobm9kZXMsIHRyYW5zZm9ybWVyKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdHJhdmVyc2VOb2RlKG5vZGVzW2ldLCB0cmFuc2Zvcm1lcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdHJhdmVyc2VOb2RlKG5vZGUsIHRyYW5zZm9ybWVyKSB7XHJcbiAgICAvLyBUT0RPOiBpZiB3ZSBuZWVkIHByZS1ob29rIG9mIHRyYW5zZm9ybSwgc2hvdWxkIGJlIGltcGxlbWVudGVkIHRvIGhlcmVcclxuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAxIC8qIFBsdXJhbCAqLzpcclxuICAgICAgICAgICAgdHJhdmVyc2VOb2Rlcyhub2RlLmNhc2VzLCB0cmFuc2Zvcm1lcik7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcInBsdXJhbFwiIC8qIFBMVVJBTCAqLyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMiAvKiBNZXNzYWdlICovOlxyXG4gICAgICAgICAgICB0cmF2ZXJzZU5vZGVzKG5vZGUuaXRlbXMsIHRyYW5zZm9ybWVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA2IC8qIExpbmtlZCAqLzpcclxuICAgICAgICAgICAgY29uc3QgbGlua2VkID0gbm9kZTtcclxuICAgICAgICAgICAgdHJhdmVyc2VOb2RlKGxpbmtlZC5rZXksIHRyYW5zZm9ybWVyKTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwibGlua2VkXCIgLyogTElOS0VEICovKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA1IC8qIExpc3QgKi86XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImludGVycG9sYXRlXCIgLyogSU5URVJQT0xBVEUgKi8pO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJsaXN0XCIgLyogTElTVCAqLyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNCAvKiBOYW1lZCAqLzpcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBJTlRFUlBPTEFURSAqLyk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcIm5hbWVkXCIgLyogTkFNRUQgKi8pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIC8vIFRPRE86IGlmIHdlIG5lZWQgcG9zdC1ob29rIG9mIHRyYW5zZm9ybSwgc2hvdWxkIGJlIGltcGxlbWVudGVkIHRvIGhlcmVcclxufVxyXG4vLyB0cmFuc2Zvcm0gQVNUXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybShhc3QsIG9wdGlvbnMgPSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbikge1xyXG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVUcmFuc2Zvcm1lcihhc3QpO1xyXG4gICAgdHJhbnNmb3JtZXIuaGVscGVyKFwibm9ybWFsaXplXCIgLyogTk9STUFMSVpFICovKTtcclxuICAgIC8vIHRyYXZlcnNlXHJcbiAgICBhc3QuYm9keSAmJiB0cmF2ZXJzZU5vZGUoYXN0LmJvZHksIHRyYW5zZm9ybWVyKTtcclxuICAgIC8vIHNldCBtZXRhIGluZm9ybWF0aW9uXHJcbiAgICBjb25zdCBjb250ZXh0ID0gdHJhbnNmb3JtZXIuY29udGV4dCgpO1xyXG4gICAgYXN0LmhlbHBlcnMgPSBBcnJheS5mcm9tKGNvbnRleHQuaGVscGVycyk7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29kZUdlbmVyYXRvcihhc3QsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHsgc291cmNlTWFwLCBmaWxlbmFtZSwgYnJlYWtMaW5lQ29kZSwgbmVlZEluZGVudDogX25lZWRJbmRlbnQgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBfY29udGV4dCA9IHtcclxuICAgICAgICBzb3VyY2U6IGFzdC5sb2Muc291cmNlLFxyXG4gICAgICAgIGZpbGVuYW1lLFxyXG4gICAgICAgIGNvZGU6ICcnLFxyXG4gICAgICAgIGNvbHVtbjogMSxcclxuICAgICAgICBsaW5lOiAxLFxyXG4gICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICBtYXA6IHVuZGVmaW5lZCxcclxuICAgICAgICBicmVha0xpbmVDb2RlLFxyXG4gICAgICAgIG5lZWRJbmRlbnQ6IF9uZWVkSW5kZW50LFxyXG4gICAgICAgIGluZGVudExldmVsOiAwXHJcbiAgICB9O1xyXG4gICAgY29uc3QgY29udGV4dCA9ICgpID0+IF9jb250ZXh0O1xyXG4gICAgZnVuY3Rpb24gcHVzaChjb2RlLCBub2RlKSB7XHJcbiAgICAgICAgX2NvbnRleHQuY29kZSArPSBjb2RlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gX25ld2xpbmUobiwgd2l0aEJyZWFrTGluZSA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBfYnJlYWtMaW5lQ29kZSA9IHdpdGhCcmVha0xpbmUgPyBicmVha0xpbmVDb2RlIDogJyc7XHJcbiAgICAgICAgcHVzaChfbmVlZEluZGVudCA/IF9icmVha0xpbmVDb2RlICsgYCAgYC5yZXBlYXQobikgOiBfYnJlYWtMaW5lQ29kZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbmRlbnQod2l0aE5ld0xpbmUgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgbGV2ZWwgPSArK19jb250ZXh0LmluZGVudExldmVsO1xyXG4gICAgICAgIHdpdGhOZXdMaW5lICYmIF9uZXdsaW5lKGxldmVsKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRlaW5kZW50KHdpdGhOZXdMaW5lID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IGxldmVsID0gLS1fY29udGV4dC5pbmRlbnRMZXZlbDtcclxuICAgICAgICB3aXRoTmV3TGluZSAmJiBfbmV3bGluZShsZXZlbCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBuZXdsaW5lKCkge1xyXG4gICAgICAgIF9uZXdsaW5lKF9jb250ZXh0LmluZGVudExldmVsKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGhlbHBlciA9IChrZXkpID0+IGBfJHtrZXl9YDtcclxuICAgIGNvbnN0IG5lZWRJbmRlbnQgPSAoKSA9PiBfY29udGV4dC5uZWVkSW5kZW50O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIHB1c2gsXHJcbiAgICAgICAgaW5kZW50LFxyXG4gICAgICAgIGRlaW5kZW50LFxyXG4gICAgICAgIG5ld2xpbmUsXHJcbiAgICAgICAgaGVscGVyLFxyXG4gICAgICAgIG5lZWRJbmRlbnRcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5rZWROb2RlKGdlbmVyYXRvciwgbm9kZSkge1xyXG4gICAgY29uc3QgeyBoZWxwZXIgfSA9IGdlbmVyYXRvcjtcclxuICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcImxpbmtlZFwiIC8qIExJTktFRCAqLyl9KGApO1xyXG4gICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5rZXkpO1xyXG4gICAgaWYgKG5vZGUubW9kaWZpZXIpIHtcclxuICAgICAgICBnZW5lcmF0b3IucHVzaChgLCBgKTtcclxuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLm1vZGlmaWVyKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRvci5wdXNoKGApYCk7XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVNZXNzYWdlTm9kZShnZW5lcmF0b3IsIG5vZGUpIHtcclxuICAgIGNvbnN0IHsgaGVscGVyLCBuZWVkSW5kZW50IH0gPSBnZW5lcmF0b3I7XHJcbiAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJub3JtYWxpemVcIiAvKiBOT1JNQUxJWkUgKi8pfShbYCk7XHJcbiAgICBnZW5lcmF0b3IuaW5kZW50KG5lZWRJbmRlbnQoKSk7XHJcbiAgICBjb25zdCBsZW5ndGggPSBub2RlLml0ZW1zLmxlbmd0aDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLml0ZW1zW2ldKTtcclxuICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goJywgJyk7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0b3IuZGVpbmRlbnQobmVlZEluZGVudCgpKTtcclxuICAgIGdlbmVyYXRvci5wdXNoKCddKScpO1xyXG59XHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGx1cmFsTm9kZShnZW5lcmF0b3IsIG5vZGUpIHtcclxuICAgIGNvbnN0IHsgaGVscGVyLCBuZWVkSW5kZW50IH0gPSBnZW5lcmF0b3I7XHJcbiAgICBpZiAobm9kZS5jYXNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwicGx1cmFsXCIgLyogUExVUkFMICovKX0oW2ApO1xyXG4gICAgICAgIGdlbmVyYXRvci5pbmRlbnQobmVlZEluZGVudCgpKTtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBub2RlLmNhc2VzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUuY2FzZXNbaV0pO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goJywgJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KCkpO1xyXG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGBdKWApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdlbmVyYXRlUmVzb3VyY2UoZ2VuZXJhdG9yLCBub2RlKSB7XHJcbiAgICBpZiAobm9kZS5ib2R5KSB7XHJcbiAgICAgICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5ib2R5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdlbmVyYXRvci5wdXNoKCdudWxsJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZSkge1xyXG4gICAgY29uc3QgeyBoZWxwZXIgfSA9IGdlbmVyYXRvcjtcclxuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAwIC8qIFJlc291cmNlICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0ZVJlc291cmNlKGdlbmVyYXRvciwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMSAvKiBQbHVyYWwgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRlUGx1cmFsTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDIgLyogTWVzc2FnZSAqLzpcclxuICAgICAgICAgICAgZ2VuZXJhdGVNZXNzYWdlTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDYgLyogTGlua2VkICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0ZUxpbmtlZE5vZGUoZ2VuZXJhdG9yLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA4IC8qIExpbmtlZE1vZGlmaWVyICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNyAvKiBMaW5rZWRLZXkgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA1IC8qIExpc3QgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcImludGVycG9sYXRlXCIgLyogSU5URVJQT0xBVEUgKi8pfSgke2hlbHBlcihcImxpc3RcIiAvKiBMSVNUICovKX0oJHtub2RlLmluZGV4fSkpYCwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNCAvKiBOYW1lZCAqLzpcclxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBJTlRFUlBPTEFURSAqLyl9KCR7aGVscGVyKFwibmFtZWRcIiAvKiBOQU1FRCAqLyl9KCR7SlNPTi5zdHJpbmdpZnkobm9kZS5rZXkpfSkpYCwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgOSAvKiBMaXRlcmFsICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMyAvKiBUZXh0ICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5oYW5kbGVkIGNvZGVnZW4gbm9kZSB0eXBlOiAke25vZGUudHlwZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIGdlbmVyYXRlIGNvZGUgZnJvbSBBU1RcclxuY29uc3QgZ2VuZXJhdGUgPSAoYXN0LCBvcHRpb25zID0ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4pID0+IHtcclxuICAgIGNvbnN0IG1vZGUgPSBpc1N0cmluZyhvcHRpb25zLm1vZGUpID8gb3B0aW9ucy5tb2RlIDogJ25vcm1hbCc7XHJcbiAgICBjb25zdCBmaWxlbmFtZSA9IGlzU3RyaW5nKG9wdGlvbnMuZmlsZW5hbWUpXHJcbiAgICAgICAgPyBvcHRpb25zLmZpbGVuYW1lXHJcbiAgICAgICAgOiAnbWVzc2FnZS5pbnRsJztcclxuICAgIGNvbnN0IHNvdXJjZU1hcCA9ICEhb3B0aW9ucy5zb3VyY2VNYXA7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IGJyZWFrTGluZUNvZGUgPSBvcHRpb25zLmJyZWFrTGluZUNvZGUgIT0gbnVsbFxyXG4gICAgICAgID8gb3B0aW9ucy5icmVha0xpbmVDb2RlXHJcbiAgICAgICAgOiBtb2RlID09PSAnYXJyb3cnXHJcbiAgICAgICAgICAgID8gJzsnXHJcbiAgICAgICAgICAgIDogJ1xcbic7XHJcbiAgICBjb25zdCBuZWVkSW5kZW50ID0gb3B0aW9ucy5uZWVkSW5kZW50ID8gb3B0aW9ucy5uZWVkSW5kZW50IDogbW9kZSAhPT0gJ2Fycm93JztcclxuICAgIGNvbnN0IGhlbHBlcnMgPSBhc3QuaGVscGVycyB8fCBbXTtcclxuICAgIGNvbnN0IGdlbmVyYXRvciA9IGNyZWF0ZUNvZGVHZW5lcmF0b3IoYXN0LCB7XHJcbiAgICAgICAgbW9kZSxcclxuICAgICAgICBmaWxlbmFtZSxcclxuICAgICAgICBzb3VyY2VNYXAsXHJcbiAgICAgICAgYnJlYWtMaW5lQ29kZSxcclxuICAgICAgICBuZWVkSW5kZW50XHJcbiAgICB9KTtcclxuICAgIGdlbmVyYXRvci5wdXNoKG1vZGUgPT09ICdub3JtYWwnID8gYGZ1bmN0aW9uIF9fbXNnX18gKGN0eCkge2AgOiBgKGN0eCkgPT4ge2ApO1xyXG4gICAgZ2VuZXJhdG9yLmluZGVudChuZWVkSW5kZW50KTtcclxuICAgIGlmIChoZWxwZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBnZW5lcmF0b3IucHVzaChgY29uc3QgeyAke2hlbHBlcnMubWFwKHMgPT4gYCR7c306IF8ke3N9YCkuam9pbignLCAnKX0gfSA9IGN0eGApO1xyXG4gICAgICAgIGdlbmVyYXRvci5uZXdsaW5lKCk7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0b3IucHVzaChgcmV0dXJuIGApO1xyXG4gICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgYXN0KTtcclxuICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KTtcclxuICAgIGdlbmVyYXRvci5wdXNoKGB9YCk7XHJcbiAgICBjb25zdCB7IGNvZGUsIG1hcCB9ID0gZ2VuZXJhdG9yLmNvbnRleHQoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYXN0LFxyXG4gICAgICAgIGNvZGUsXHJcbiAgICAgICAgbWFwOiBtYXAgPyBtYXAudG9KU09OKCkgOiB1bmRlZmluZWQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB9O1xyXG59O1xuXG5mdW5jdGlvbiBiYXNlQ29tcGlsZShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgYXNzaWduZWRPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcclxuICAgIC8vIHBhcnNlIHNvdXJjZSBjb2Rlc1xyXG4gICAgY29uc3QgcGFyc2VyID0gY3JlYXRlUGFyc2VyKGFzc2lnbmVkT3B0aW9ucyk7XHJcbiAgICBjb25zdCBhc3QgPSBwYXJzZXIucGFyc2Uoc291cmNlKTtcclxuICAgIC8vIHRyYW5zZm9ybSBBU1RzXHJcbiAgICB0cmFuc2Zvcm0oYXN0LCBhc3NpZ25lZE9wdGlvbnMpO1xyXG4gICAgLy8gZ2VuZXJhdGUgamF2YXNjcmlwdCBjb2Rlc1xyXG4gICAgcmV0dXJuIGdlbmVyYXRlKGFzdCwgYXNzaWduZWRPcHRpb25zKTtcclxufVxuXG5leHBvcnQgeyBFUlJPUl9ET01BSU4sIExvY2F0aW9uU3R1YiwgYmFzZUNvbXBpbGUsIGNyZWF0ZUNvbXBpbGVFcnJvciwgY3JlYXRlTG9jYXRpb24sIGNyZWF0ZVBhcnNlciwgY3JlYXRlUG9zaXRpb24sIGRlZmF1bHRPbkVycm9yLCBlcnJvck1lc3NhZ2VzIH07XG4iLCIvKiFcbiAgKiBAaW50bGlmeS9kZXZ0b29scy1pZiB2OS4xLjlcbiAgKiAoYykgMjAyMSBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuY29uc3QgSW50bGlmeURldlRvb2xzSG9va3MgPSB7XHJcbiAgICBJMThuSW5pdDogJ2kxOG46aW5pdCcsXHJcbiAgICBGdW5jdGlvblRyYW5zbGF0ZTogJ2Z1bmN0aW9uOnRyYW5zbGF0ZSdcclxufTtcblxuZXhwb3J0IHsgSW50bGlmeURldlRvb2xzSG9va3MgfTtcbiIsIi8qIVxuICAqIEBpbnRsaWZ5L2NvcmUtYmFzZSB2OS4xLjlcbiAgKiAoYykgMjAyMSBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuaW1wb3J0IHsgZm9ybWF0LCBpc1N0cmluZywgaXNBcnJheSwgaXNQbGFpbk9iamVjdCwgYXNzaWduLCBpc0Z1bmN0aW9uLCBpc0Jvb2xlYW4sIGlzUmVnRXhwLCB3YXJuLCBpc09iamVjdCwgZXNjYXBlSHRtbCwgaW5Ccm93c2VyLCBtYXJrLCBtZWFzdXJlLCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2VuZXJhdGVGb3JtYXRDYWNoZUtleSwgaXNOdW1iZXIsIGlzRW1wdHlPYmplY3QsIGlzRGF0ZSwgZ2V0R2xvYmFsVGhpcyB9IGZyb20gJ0BpbnRsaWZ5L3NoYXJlZCc7XG5pbXBvcnQgeyByZXNvbHZlVmFsdWUgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLXJlc29sdmVyJztcbmV4cG9ydCAqIGZyb20gJ0BpbnRsaWZ5L21lc3NhZ2UtcmVzb2x2ZXInO1xuaW1wb3J0IHsgY3JlYXRlTWVzc2FnZUNvbnRleHQgfSBmcm9tICdAaW50bGlmeS9ydW50aW1lJztcbmV4cG9ydCAqIGZyb20gJ0BpbnRsaWZ5L3J1bnRpbWUnO1xuaW1wb3J0IHsgZGVmYXVsdE9uRXJyb3IsIGJhc2VDb21waWxlLCBjcmVhdGVDb21waWxlRXJyb3IgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyJztcbmV4cG9ydCB7IGNyZWF0ZUNvbXBpbGVFcnJvciB9IGZyb20gJ0BpbnRsaWZ5L21lc3NhZ2UtY29tcGlsZXInO1xuaW1wb3J0IHsgSW50bGlmeURldlRvb2xzSG9va3MgfSBmcm9tICdAaW50bGlmeS9kZXZ0b29scy1pZic7XG5cbmxldCBkZXZ0b29scyA9IG51bGw7XHJcbmZ1bmN0aW9uIHNldERldlRvb2xzSG9vayhob29rKSB7XHJcbiAgICBkZXZ0b29scyA9IGhvb2s7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RGV2VG9vbHNIb29rKCkge1xyXG4gICAgcmV0dXJuIGRldnRvb2xzO1xyXG59XHJcbmZ1bmN0aW9uIGluaXRJMThuRGV2VG9vbHMoaTE4biwgdmVyc2lvbiwgbWV0YSkge1xyXG4gICAgLy8gVE9ETzogcXVldWUgaWYgZGV2dG9vbHMgaXMgdW5kZWZpbmVkXHJcbiAgICBkZXZ0b29scyAmJlxyXG4gICAgICAgIGRldnRvb2xzLmVtaXQoSW50bGlmeURldlRvb2xzSG9va3MuSTE4bkluaXQsIHtcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICBpMThuLFxyXG4gICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICBtZXRhXHJcbiAgICAgICAgfSk7XHJcbn1cclxuY29uc3QgdHJhbnNsYXRlRGV2VG9vbHMgPSAvKiAjX19QVVJFX18qLyBjcmVhdGVEZXZUb29sc0hvb2soSW50bGlmeURldlRvb2xzSG9va3MuRnVuY3Rpb25UcmFuc2xhdGUpO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZUb29sc0hvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChwYXlsb2FkcykgPT4gZGV2dG9vbHMgJiYgZGV2dG9vbHMuZW1pdChob29rLCBwYXlsb2Fkcyk7XHJcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xyXG5jb25zdCB3YXJuTWVzc2FnZXMgPSB7XHJcbiAgICBbMCAvKiBOT1RfRk9VTkRfS0VZICovXTogYE5vdCBmb3VuZCAne2tleX0nIGtleSBpbiAne2xvY2FsZX0nIGxvY2FsZSBtZXNzYWdlcy5gLFxyXG4gICAgWzEgLyogRkFMTEJBQ0tfVE9fVFJBTlNMQVRFICovXTogYEZhbGwgYmFjayB0byB0cmFuc2xhdGUgJ3trZXl9JyBrZXkgd2l0aCAne3RhcmdldH0nIGxvY2FsZS5gLFxyXG4gICAgWzIgLyogQ0FOTk9UX0ZPUk1BVF9OVU1CRVIgKi9dOiBgQ2Fubm90IGZvcm1hdCBhIG51bWJlciB2YWx1ZSBkdWUgdG8gbm90IHN1cHBvcnRlZCBJbnRsLk51bWJlckZvcm1hdC5gLFxyXG4gICAgWzMgLyogRkFMTEJBQ0tfVE9fTlVNQkVSX0ZPUk1BVCAqL106IGBGYWxsIGJhY2sgdG8gbnVtYmVyIGZvcm1hdCAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmAsXHJcbiAgICBbNCAvKiBDQU5OT1RfRk9STUFUX0RBVEUgKi9dOiBgQ2Fubm90IGZvcm1hdCBhIGRhdGUgdmFsdWUgZHVlIHRvIG5vdCBzdXBwb3J0ZWQgSW50bC5EYXRlVGltZUZvcm1hdC5gLFxyXG4gICAgWzUgLyogRkFMTEJBQ0tfVE9fREFURV9GT1JNQVQgKi9dOiBgRmFsbCBiYWNrIHRvIGRhdGV0aW1lIGZvcm1hdCAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmBcclxufTtcclxuZnVuY3Rpb24gZ2V0V2Fybk1lc3NhZ2UoY29kZSwgLi4uYXJncykge1xyXG4gICAgcmV0dXJuIGZvcm1hdCh3YXJuTWVzc2FnZXNbY29kZV0sIC4uLmFyZ3MpO1xyXG59XG5cbi8qKlxyXG4gKiBJbnRsaWZ5IGNvcmUtYmFzZSB2ZXJzaW9uXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY29uc3QgVkVSU0lPTiA9ICc5LjEuOSc7XHJcbmNvbnN0IE5PVF9SRU9TTFZFRCA9IC0xO1xyXG5jb25zdCBNSVNTSU5HX1JFU09MVkVfVkFMVUUgPSAnJztcclxuZnVuY3Rpb24gZ2V0RGVmYXVsdExpbmtlZE1vZGlmaWVycygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXBwZXI6ICh2YWwpID0+IChpc1N0cmluZyh2YWwpID8gdmFsLnRvVXBwZXJDYXNlKCkgOiB2YWwpLFxyXG4gICAgICAgIGxvd2VyOiAodmFsKSA9PiAoaXNTdHJpbmcodmFsKSA/IHZhbC50b0xvd2VyQ2FzZSgpIDogdmFsKSxcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICBjYXBpdGFsaXplOiAodmFsKSA9PiAoaXNTdHJpbmcodmFsKVxyXG4gICAgICAgICAgICA/IGAke3ZhbC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKX0ke3ZhbC5zdWJzdHIoMSl9YFxyXG4gICAgICAgICAgICA6IHZhbClcclxuICAgIH07XHJcbn1cclxubGV0IF9jb21waWxlcjtcclxuZnVuY3Rpb24gcmVnaXN0ZXJNZXNzYWdlQ29tcGlsZXIoY29tcGlsZXIpIHtcclxuICAgIF9jb21waWxlciA9IGNvbXBpbGVyO1xyXG59XHJcbi8vIEFkZGl0aW9uYWwgTWV0YSBmb3IgSW50bGlmeSBEZXZUb29sc1xyXG5sZXQgX2FkZGl0aW9uYWxNZXRhID0gbnVsbDtcclxuY29uc3Qgc2V0QWRkaXRpb25hbE1ldGEgPSAvKiAjX19QVVJFX18qLyAobWV0YSkgPT4ge1xyXG4gICAgX2FkZGl0aW9uYWxNZXRhID0gbWV0YTtcclxufTtcclxuY29uc3QgZ2V0QWRkaXRpb25hbE1ldGEgPSAvKiAjX19QVVJFX18qLyAoKSA9PiBfYWRkaXRpb25hbE1ldGE7XHJcbi8vIElEIGZvciBDb3JlQ29udGV4dFxyXG5sZXQgX2NpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvcmVDb250ZXh0KG9wdGlvbnMgPSB7fSkge1xyXG4gICAgLy8gc2V0dXAgb3B0aW9uc1xyXG4gICAgY29uc3QgdmVyc2lvbiA9IGlzU3RyaW5nKG9wdGlvbnMudmVyc2lvbikgPyBvcHRpb25zLnZlcnNpb24gOiBWRVJTSU9OO1xyXG4gICAgY29uc3QgbG9jYWxlID0gaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpID8gb3B0aW9ucy5sb2NhbGUgOiAnZW4tVVMnO1xyXG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBpc0FycmF5KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XHJcbiAgICAgICAgaXNQbGFpbk9iamVjdChvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgIGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XHJcbiAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcclxuICAgICAgICA6IGxvY2FsZTtcclxuICAgIGNvbnN0IG1lc3NhZ2VzID0gaXNQbGFpbk9iamVjdChvcHRpb25zLm1lc3NhZ2VzKVxyXG4gICAgICAgID8gb3B0aW9ucy5tZXNzYWdlc1xyXG4gICAgICAgIDogeyBbbG9jYWxlXToge30gfTtcclxuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpXHJcbiAgICAgICAgPyBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1xyXG4gICAgICAgIDogeyBbbG9jYWxlXToge30gfTtcclxuICAgIGNvbnN0IG51bWJlckZvcm1hdHMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cylcclxuICAgICAgICA/IG9wdGlvbnMubnVtYmVyRm9ybWF0c1xyXG4gICAgICAgIDogeyBbbG9jYWxlXToge30gfTtcclxuICAgIGNvbnN0IG1vZGlmaWVycyA9IGFzc2lnbih7fSwgb3B0aW9ucy5tb2RpZmllcnMgfHwge30sIGdldERlZmF1bHRMaW5rZWRNb2RpZmllcnMoKSk7XHJcbiAgICBjb25zdCBwbHVyYWxSdWxlcyA9IG9wdGlvbnMucGx1cmFsUnVsZXMgfHwge307XHJcbiAgICBjb25zdCBtaXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpID8gb3B0aW9ucy5taXNzaW5nIDogbnVsbDtcclxuICAgIGNvbnN0IG1pc3NpbmdXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMubWlzc2luZ1dhcm4pXHJcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgY29uc3QgZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLmZhbGxiYWNrV2FybilcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgY29uc3QgZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZmFsbGJhY2tGb3JtYXQ7XHJcbiAgICBjb25zdCB1bnJlc29sdmluZyA9ICEhb3B0aW9ucy51bnJlc29sdmluZztcclxuICAgIGNvbnN0IHBvc3RUcmFuc2xhdGlvbiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5wb3N0VHJhbnNsYXRpb24pXHJcbiAgICAgICAgPyBvcHRpb25zLnBvc3RUcmFuc2xhdGlvblxyXG4gICAgICAgIDogbnVsbDtcclxuICAgIGNvbnN0IHByb2Nlc3NvciA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpID8gb3B0aW9ucy5wcm9jZXNzb3IgOiBudWxsO1xyXG4gICAgY29uc3Qgd2Fybkh0bWxNZXNzYWdlID0gaXNCb29sZWFuKG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlKVxyXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbE1lc3NhZ2VcclxuICAgICAgICA6IHRydWU7XHJcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyO1xyXG4gICAgY29uc3QgbWVzc2FnZUNvbXBpbGVyID0gaXNGdW5jdGlvbihvcHRpb25zLm1lc3NhZ2VDb21waWxlcilcclxuICAgICAgICA/IG9wdGlvbnMubWVzc2FnZUNvbXBpbGVyXHJcbiAgICAgICAgOiBfY29tcGlsZXI7XHJcbiAgICBjb25zdCBvbldhcm4gPSBpc0Z1bmN0aW9uKG9wdGlvbnMub25XYXJuKSA/IG9wdGlvbnMub25XYXJuIDogd2FybjtcclxuICAgIC8vIHNldHVwIGludGVybmFsIG9wdGlvbnNcclxuICAgIGNvbnN0IGludGVybmFsT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBfX2RhdGV0aW1lRm9ybWF0dGVycyA9IGlzT2JqZWN0KGludGVybmFsT3B0aW9ucy5fX2RhdGV0aW1lRm9ybWF0dGVycylcclxuICAgICAgICA/IGludGVybmFsT3B0aW9ucy5fX2RhdGV0aW1lRm9ybWF0dGVyc1xyXG4gICAgICAgIDogbmV3IE1hcCgpO1xyXG4gICAgY29uc3QgX19udW1iZXJGb3JtYXR0ZXJzID0gaXNPYmplY3QoaW50ZXJuYWxPcHRpb25zLl9fbnVtYmVyRm9ybWF0dGVycylcclxuICAgICAgICA/IGludGVybmFsT3B0aW9ucy5fX251bWJlckZvcm1hdHRlcnNcclxuICAgICAgICA6IG5ldyBNYXAoKTtcclxuICAgIGNvbnN0IF9fbWV0YSA9IGlzT2JqZWN0KGludGVybmFsT3B0aW9ucy5fX21ldGEpID8gaW50ZXJuYWxPcHRpb25zLl9fbWV0YSA6IHt9O1xyXG4gICAgX2NpZCsrO1xyXG4gICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgIGNpZDogX2NpZCxcclxuICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUsXHJcbiAgICAgICAgbWVzc2FnZXMsXHJcbiAgICAgICAgZGF0ZXRpbWVGb3JtYXRzLFxyXG4gICAgICAgIG51bWJlckZvcm1hdHMsXHJcbiAgICAgICAgbW9kaWZpZXJzLFxyXG4gICAgICAgIHBsdXJhbFJ1bGVzLFxyXG4gICAgICAgIG1pc3NpbmcsXHJcbiAgICAgICAgbWlzc2luZ1dhcm4sXHJcbiAgICAgICAgZmFsbGJhY2tXYXJuLFxyXG4gICAgICAgIGZhbGxiYWNrRm9ybWF0LFxyXG4gICAgICAgIHVucmVzb2x2aW5nLFxyXG4gICAgICAgIHBvc3RUcmFuc2xhdGlvbixcclxuICAgICAgICBwcm9jZXNzb3IsXHJcbiAgICAgICAgd2Fybkh0bWxNZXNzYWdlLFxyXG4gICAgICAgIGVzY2FwZVBhcmFtZXRlcixcclxuICAgICAgICBtZXNzYWdlQ29tcGlsZXIsXHJcbiAgICAgICAgb25XYXJuLFxyXG4gICAgICAgIF9fZGF0ZXRpbWVGb3JtYXR0ZXJzLFxyXG4gICAgICAgIF9fbnVtYmVyRm9ybWF0dGVycyxcclxuICAgICAgICBfX21ldGFcclxuICAgIH07XHJcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29udGV4dC5fX3ZfZW1pdHRlciA9XHJcbiAgICAgICAgICAgIGludGVybmFsT3B0aW9ucy5fX3ZfZW1pdHRlciAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICA/IGludGVybmFsT3B0aW9ucy5fX3ZfZW1pdHRlclxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBOT1RFOiBleHBlcmltZW50YWwgISFcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgIGluaXRJMThuRGV2VG9vbHMoY29udGV4dCwgdmVyc2lvbiwgX19tZXRhKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb250ZXh0O1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2ssIGtleSkge1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrIGluc3RhbmNlb2YgUmVnRXhwID8gZmFsbGJhY2sudGVzdChrZXkpIDogZmFsbGJhY2s7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuKG1pc3NpbmcsIGtleSkge1xyXG4gICAgcmV0dXJuIG1pc3NpbmcgaW5zdGFuY2VvZiBSZWdFeHAgPyBtaXNzaW5nLnRlc3Qoa2V5KSA6IG1pc3Npbmc7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIGtleSwgbG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSkge1xyXG4gICAgY29uc3QgeyBtaXNzaW5nLCBvbldhcm4gfSA9IGNvbnRleHQ7XHJcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWlzc2luZ1wiIC8qIE1JU1NJTkcgKi8sIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsZSxcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtaXNzaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gbWlzc2luZyhjb250ZXh0LCBsb2NhbGUsIGtleSwgdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHJldCkgPyByZXQgOiBrZXk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4obWlzc2luZ1dhcm4sIGtleSkpIHtcclxuICAgICAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKDAgLyogTk9UX0ZPVU5EX0tFWSAqLywgeyBrZXksIGxvY2FsZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBrZXk7XHJcbiAgICB9XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBnZXRMb2NhbGVDaGFpbihjdHgsIGZhbGxiYWNrLCBzdGFydCkge1xyXG4gICAgY29uc3QgY29udGV4dCA9IGN0eDtcclxuICAgIGlmICghY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUpIHtcclxuICAgICAgICBjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIGxldCBjaGFpbiA9IGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlLmdldChzdGFydCk7XHJcbiAgICBpZiAoIWNoYWluKSB7XHJcbiAgICAgICAgY2hhaW4gPSBbXTtcclxuICAgICAgICAvLyBmaXJzdCBibG9jayBkZWZpbmVkIGJ5IHN0YXJ0XHJcbiAgICAgICAgbGV0IGJsb2NrID0gW3N0YXJ0XTtcclxuICAgICAgICAvLyB3aGlsZSBhbnkgaW50ZXJ2ZW5pbmcgYmxvY2sgZm91bmRcclxuICAgICAgICB3aGlsZSAoaXNBcnJheShibG9jaykpIHtcclxuICAgICAgICAgICAgYmxvY2sgPSBhcHBlbmRCbG9ja1RvQ2hhaW4oY2hhaW4sIGJsb2NrLCBmYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIC8vIGxhc3QgYmxvY2sgZGVmaW5lZCBieSBkZWZhdWx0XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBpc0FycmF5KGZhbGxiYWNrKVxyXG4gICAgICAgICAgICA/IGZhbGxiYWNrXHJcbiAgICAgICAgICAgIDogaXNQbGFpbk9iamVjdChmYWxsYmFjaylcclxuICAgICAgICAgICAgICAgID8gZmFsbGJhY2tbJ2RlZmF1bHQnXVxyXG4gICAgICAgICAgICAgICAgICAgID8gZmFsbGJhY2tbJ2RlZmF1bHQnXVxyXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbFxyXG4gICAgICAgICAgICAgICAgOiBmYWxsYmFjaztcclxuICAgICAgICAvLyBjb252ZXJ0IGRlZmF1bHRzIHRvIGFycmF5XHJcbiAgICAgICAgYmxvY2sgPSBpc1N0cmluZyhkZWZhdWx0cykgPyBbZGVmYXVsdHNdIDogZGVmYXVsdHM7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoYmxvY2spKSB7XHJcbiAgICAgICAgICAgIGFwcGVuZEJsb2NrVG9DaGFpbihjaGFpbiwgYmxvY2ssIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUuc2V0KHN0YXJ0LCBjaGFpbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hhaW47XHJcbn1cclxuZnVuY3Rpb24gYXBwZW5kQmxvY2tUb0NoYWluKGNoYWluLCBibG9jaywgYmxvY2tzKSB7XHJcbiAgICBsZXQgZm9sbG93ID0gdHJ1ZTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2subGVuZ3RoICYmIGlzQm9vbGVhbihmb2xsb3cpOyBpKyspIHtcclxuICAgICAgICBjb25zdCBsb2NhbGUgPSBibG9ja1tpXTtcclxuICAgICAgICBpZiAoaXNTdHJpbmcobG9jYWxlKSkge1xyXG4gICAgICAgICAgICBmb2xsb3cgPSBhcHBlbmRMb2NhbGVUb0NoYWluKGNoYWluLCBibG9ja1tpXSwgYmxvY2tzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZm9sbG93O1xyXG59XHJcbmZ1bmN0aW9uIGFwcGVuZExvY2FsZVRvQ2hhaW4oY2hhaW4sIGxvY2FsZSwgYmxvY2tzKSB7XHJcbiAgICBsZXQgZm9sbG93O1xyXG4gICAgY29uc3QgdG9rZW5zID0gbG9jYWxlLnNwbGl0KCctJyk7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9rZW5zLmpvaW4oJy0nKTtcclxuICAgICAgICBmb2xsb3cgPSBhcHBlbmRJdGVtVG9DaGFpbihjaGFpbiwgdGFyZ2V0LCBibG9ja3MpO1xyXG4gICAgICAgIHRva2Vucy5zcGxpY2UoLTEsIDEpO1xyXG4gICAgfSB3aGlsZSAodG9rZW5zLmxlbmd0aCAmJiBmb2xsb3cgPT09IHRydWUpO1xyXG4gICAgcmV0dXJuIGZvbGxvdztcclxufVxyXG5mdW5jdGlvbiBhcHBlbmRJdGVtVG9DaGFpbihjaGFpbiwgdGFyZ2V0LCBibG9ja3MpIHtcclxuICAgIGxldCBmb2xsb3cgPSBmYWxzZTtcclxuICAgIGlmICghY2hhaW4uaW5jbHVkZXModGFyZ2V0KSkge1xyXG4gICAgICAgIGZvbGxvdyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBmb2xsb3cgPSB0YXJnZXRbdGFyZ2V0Lmxlbmd0aCAtIDFdICE9PSAnISc7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZSA9IHRhcmdldC5yZXBsYWNlKC8hL2csICcnKTtcclxuICAgICAgICAgICAgY2hhaW4ucHVzaChsb2NhbGUpO1xyXG4gICAgICAgICAgICBpZiAoKGlzQXJyYXkoYmxvY2tzKSB8fCBpc1BsYWluT2JqZWN0KGJsb2NrcykpICYmXHJcbiAgICAgICAgICAgICAgICBibG9ja3NbbG9jYWxlXSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgZm9sbG93ID0gYmxvY2tzW2xvY2FsZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZm9sbG93O1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gdXBkYXRlRmFsbGJhY2tMb2NhbGUoY3R4LCBsb2NhbGUsIGZhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gY3R4O1xyXG4gICAgY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICBnZXRMb2NhbGVDaGFpbihjdHgsIGZhbGxiYWNrLCBsb2NhbGUpO1xyXG59XG5cbmNvbnN0IFJFX0hUTUxfVEFHID0gLzxcXC8/W1xcd1xccz1cIi8uJzo7Iy1cXC9dKz4vO1xyXG5jb25zdCBXQVJOX01FU1NBR0UgPSBgRGV0ZWN0ZWQgSFRNTCBpbiAne3NvdXJjZX0nIG1lc3NhZ2UuIFJlY29tbWVuZCBub3QgdXNpbmcgSFRNTCBtZXNzYWdlcyB0byBhdm9pZCBYU1MuYDtcclxuZnVuY3Rpb24gY2hlY2tIdG1sTWVzc2FnZShzb3VyY2UsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHdhcm5IdG1sTWVzc2FnZSA9IGlzQm9vbGVhbihvcHRpb25zLndhcm5IdG1sTWVzc2FnZSlcclxuICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlXHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgaWYgKHdhcm5IdG1sTWVzc2FnZSAmJiBSRV9IVE1MX1RBRy50ZXN0KHNvdXJjZSkpIHtcclxuICAgICAgICB3YXJuKGZvcm1hdChXQVJOX01FU1NBR0UsIHsgc291cmNlIH0pKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBkZWZhdWx0T25DYWNoZUtleSA9IChzb3VyY2UpID0+IHNvdXJjZTtcclxubGV0IGNvbXBpbGVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmZ1bmN0aW9uIGNsZWFyQ29tcGlsZUNhY2hlKCkge1xyXG4gICAgY29tcGlsZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxufVxyXG5mdW5jdGlvbiBjb21waWxlVG9GdW5jdGlvbihzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAge1xyXG4gICAgICAgIC8vIGNoZWNrIEhUTUwgbWVzc2FnZVxyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0h0bWxNZXNzYWdlKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgLy8gY2hlY2sgY2FjaGVzXHJcbiAgICAgICAgY29uc3Qgb25DYWNoZUtleSA9IG9wdGlvbnMub25DYWNoZUtleSB8fCBkZWZhdWx0T25DYWNoZUtleTtcclxuICAgICAgICBjb25zdCBrZXkgPSBvbkNhY2hlS2V5KHNvdXJjZSk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkID0gY29tcGlsZUNhY2hlW2tleV07XHJcbiAgICAgICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb21waWxlIGVycm9yIGRldGVjdGluZ1xyXG4gICAgICAgIGxldCBvY2N1cnJlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IG9uRXJyb3IgPSBvcHRpb25zLm9uRXJyb3IgfHwgZGVmYXVsdE9uRXJyb3I7XHJcbiAgICAgICAgb3B0aW9ucy5vbkVycm9yID0gKGVycikgPT4ge1xyXG4gICAgICAgICAgICBvY2N1cnJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGNvbXBpbGVcclxuICAgICAgICBjb25zdCB7IGNvZGUgfSA9IGJhc2VDb21waWxlKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgLy8gZXZhbHVhdGUgZnVuY3Rpb25cclxuICAgICAgICBjb25zdCBtc2cgPSBuZXcgRnVuY3Rpb24oYHJldHVybiAke2NvZGV9YCkoKTtcclxuICAgICAgICAvLyBpZiBvY2N1cnJlZCBjb21waWxlIGVycm9yLCBkb24ndCBjYWNoZVxyXG4gICAgICAgIHJldHVybiAhb2NjdXJyZWQgPyAoY29tcGlsZUNhY2hlW2tleV0gPSBtc2cpIDogbXNnO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvcmVFcnJvcihjb2RlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHsgbWVzc2FnZXM6IGVycm9yTWVzc2FnZXMgfSA6IHVuZGVmaW5lZCk7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xyXG4gICAgWzE0IC8qIElOVkFMSURfQVJHVU1FTlQgKi9dOiAnSW52YWxpZCBhcmd1bWVudHMnLFxyXG4gICAgWzE1IC8qIElOVkFMSURfREFURV9BUkdVTUVOVCAqL106ICdUaGUgZGF0ZSBwcm92aWRlZCBpcyBhbiBpbnZhbGlkIERhdGUgb2JqZWN0LicgK1xyXG4gICAgICAgICdNYWtlIHN1cmUgeW91ciBEYXRlIHJlcHJlc2VudHMgYSB2YWxpZCBkYXRlLicsXHJcbiAgICBbMTYgLyogSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCAqL106ICdUaGUgYXJndW1lbnQgcHJvdmlkZWQgaXMgbm90IGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nJ1xyXG59O1xuXG5jb25zdCBOT09QX01FU1NBR0VfRlVOQ1RJT04gPSAoKSA9PiAnJztcclxuY29uc3QgaXNNZXNzYWdlRnVuY3Rpb24gPSAodmFsKSA9PiBpc0Z1bmN0aW9uKHZhbCk7XHJcbi8vIGltcGxlbWVudGF0aW9uIG9mIGB0cmFuc2xhdGVgIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIHRyYW5zbGF0ZShjb250ZXh0LCAuLi5hcmdzKSB7XHJcbiAgICBjb25zdCB7IGZhbGxiYWNrRm9ybWF0LCBwb3N0VHJhbnNsYXRpb24sIHVucmVzb2x2aW5nLCBmYWxsYmFja0xvY2FsZSwgbWVzc2FnZXMgfSA9IGNvbnRleHQ7XHJcbiAgICBjb25zdCBba2V5LCBvcHRpb25zXSA9IHBhcnNlVHJhbnNsYXRlQXJncyguLi5hcmdzKTtcclxuICAgIGNvbnN0IG1pc3NpbmdXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pXHJcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXHJcbiAgICAgICAgOiBjb250ZXh0Lm1pc3NpbmdXYXJuO1xyXG4gICAgY29uc3QgZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxyXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cclxuICAgICAgICA6IGNvbnRleHQuZmFsbGJhY2tXYXJuO1xyXG4gICAgY29uc3QgZXNjYXBlUGFyYW1ldGVyID0gaXNCb29sZWFuKG9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyKVxyXG4gICAgICAgID8gb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXJcclxuICAgICAgICA6IGNvbnRleHQuZXNjYXBlUGFyYW1ldGVyO1xyXG4gICAgY29uc3QgcmVzb2x2ZWRNZXNzYWdlID0gISFvcHRpb25zLnJlc29sdmVkTWVzc2FnZTtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgZGVmYXVsdE1zZ09yS2V5ID0gaXNTdHJpbmcob3B0aW9ucy5kZWZhdWx0KSB8fCBpc0Jvb2xlYW4ob3B0aW9ucy5kZWZhdWx0KSAvLyBkZWZhdWx0IGJ5IGZ1bmN0aW9uIG9wdGlvblxyXG4gICAgICAgID8gIWlzQm9vbGVhbihvcHRpb25zLmRlZmF1bHQpXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5kZWZhdWx0XHJcbiAgICAgICAgICAgIDoga2V5XHJcbiAgICAgICAgOiBmYWxsYmFja0Zvcm1hdCAvLyBkZWZhdWx0IGJ5IGBmYWxsYmFja0Zvcm1hdGAgb3B0aW9uXHJcbiAgICAgICAgICAgID8ga2V5XHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICBjb25zdCBlbmFibGVEZWZhdWx0TXNnID0gZmFsbGJhY2tGb3JtYXQgfHwgZGVmYXVsdE1zZ09yS2V5ICE9PSAnJztcclxuICAgIGNvbnN0IGxvY2FsZSA9IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKSA/IG9wdGlvbnMubG9jYWxlIDogY29udGV4dC5sb2NhbGU7XHJcbiAgICAvLyBlc2NhcGUgcGFyYW1zXHJcbiAgICBlc2NhcGVQYXJhbWV0ZXIgJiYgZXNjYXBlUGFyYW1zKG9wdGlvbnMpO1xyXG4gICAgLy8gcmVzb2x2ZSBtZXNzYWdlIGZvcm1hdFxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxyXG4gICAgbGV0IFtmb3JtYXQsIHRhcmdldExvY2FsZSwgbWVzc2FnZV0gPSAhcmVzb2x2ZWRNZXNzYWdlXHJcbiAgICAgICAgPyByZXNvbHZlTWVzc2FnZUZvcm1hdChjb250ZXh0LCBrZXksIGxvY2FsZSwgZmFsbGJhY2tMb2NhbGUsIGZhbGxiYWNrV2FybiwgbWlzc2luZ1dhcm4pXHJcbiAgICAgICAgOiBbXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgICAgICBtZXNzYWdlc1tsb2NhbGVdIHx8IHt9XHJcbiAgICAgICAgXTtcclxuICAgIC8vIGlmIHlvdSB1c2UgZGVmYXVsdCBtZXNzYWdlLCBzZXQgaXQgYXMgbWVzc2FnZSBmb3JtYXQhXHJcbiAgICBsZXQgY2FjaGVCYXNlS2V5ID0ga2V5O1xyXG4gICAgaWYgKCFyZXNvbHZlZE1lc3NhZ2UgJiZcclxuICAgICAgICAhKGlzU3RyaW5nKGZvcm1hdCkgfHwgaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KSkpIHtcclxuICAgICAgICBpZiAoZW5hYmxlRGVmYXVsdE1zZykge1xyXG4gICAgICAgICAgICBmb3JtYXQgPSBkZWZhdWx0TXNnT3JLZXk7XHJcbiAgICAgICAgICAgIGNhY2hlQmFzZUtleSA9IGZvcm1hdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjaGVja2luZyBtZXNzYWdlIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxyXG4gICAgaWYgKCFyZXNvbHZlZE1lc3NhZ2UgJiZcclxuICAgICAgICAoIShpc1N0cmluZyhmb3JtYXQpIHx8IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpIHx8XHJcbiAgICAgICAgICAgICFpc1N0cmluZyh0YXJnZXRMb2NhbGUpKSkge1xyXG4gICAgICAgIHJldHVybiB1bnJlc29sdmluZyA/IE5PVF9SRU9TTFZFRCA6IGtleTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNTdHJpbmcoZm9ybWF0KSAmJiBjb250ZXh0Lm1lc3NhZ2VDb21waWxlciA9PSBudWxsKSB7XHJcbiAgICAgICAgd2FybihgVGhlIG1lc3NhZ2UgZm9ybWF0IGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZC4gYCArXHJcbiAgICAgICAgICAgIGBCZWNhdXNlIG1lc3NhZ2UgY29tcGlsZXIgaXNuJ3QgaW5jbHVkZWQuIGAgK1xyXG4gICAgICAgICAgICBgWW91IG5lZWQgdG8gcHJlLWNvbXBpbGF0aW9uIGFsbCBtZXNzYWdlIGZvcm1hdC4gYCArXHJcbiAgICAgICAgICAgIGBTbyB0cmFuc2xhdGUgZnVuY3Rpb24gcmV0dXJuICcke2tleX0nLmApO1xyXG4gICAgICAgIHJldHVybiBrZXk7XHJcbiAgICB9XHJcbiAgICAvLyBzZXR1cCBjb21waWxlIGVycm9yIGRldGVjdGluZ1xyXG4gICAgbGV0IG9jY3VycmVkID0gZmFsc2U7XHJcbiAgICBjb25zdCBlcnJvckRldGVjdG9yID0gKCkgPT4ge1xyXG4gICAgICAgIG9jY3VycmVkID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvLyBjb21waWxlIG1lc3NhZ2UgZm9ybWF0XHJcbiAgICBjb25zdCBtc2cgPSAhaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KVxyXG4gICAgICAgID8gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIGZvcm1hdCwgY2FjaGVCYXNlS2V5LCBlcnJvckRldGVjdG9yKVxyXG4gICAgICAgIDogZm9ybWF0O1xyXG4gICAgLy8gaWYgb2NjdXJyZWQgY29tcGlsZSBlcnJvciwgcmV0dXJuIHRoZSBtZXNzYWdlIGZvcm1hdFxyXG4gICAgaWYgKG9jY3VycmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcclxuICAgIH1cclxuICAgIC8vIGV2YWx1YXRlIG1lc3NhZ2Ugd2l0aCBjb250ZXh0XHJcbiAgICBjb25zdCBjdHhPcHRpb25zID0gZ2V0TWVzc2FnZUNvbnRleHRPcHRpb25zKGNvbnRleHQsIHRhcmdldExvY2FsZSwgbWVzc2FnZSwgb3B0aW9ucyk7XHJcbiAgICBjb25zdCBtc2dDb250ZXh0ID0gY3JlYXRlTWVzc2FnZUNvbnRleHQoY3R4T3B0aW9ucyk7XHJcbiAgICBjb25zdCBtZXNzYWdlZCA9IGV2YWx1YXRlTWVzc2FnZShjb250ZXh0LCBtc2csIG1zZ0NvbnRleHQpO1xyXG4gICAgLy8gaWYgdXNlIHBvc3QgdHJhbnNsYXRpb24gb3B0aW9uLCBwcm9jZWVkIGl0IHdpdGggaGFuZGxlclxyXG4gICAgY29uc3QgcmV0ID0gcG9zdFRyYW5zbGF0aW9uID8gcG9zdFRyYW5zbGF0aW9uKG1lc3NhZ2VkKSA6IG1lc3NhZ2VkO1xyXG4gICAgLy8gTk9URTogZXhwZXJpbWVudGFsICEhXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICBjb25zdCBwYXlsb2FkcyA9IHtcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICBrZXk6IGlzU3RyaW5nKGtleSlcclxuICAgICAgICAgICAgICAgID8ga2V5XHJcbiAgICAgICAgICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdC5rZXlcclxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxyXG4gICAgICAgICAgICBsb2NhbGU6IHRhcmdldExvY2FsZSB8fCAoaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgPyBmb3JtYXQubG9jYWxlXHJcbiAgICAgICAgICAgICAgICA6ICcnKSxcclxuICAgICAgICAgICAgZm9ybWF0OiBpc1N0cmluZyhmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICA/IGZvcm1hdFxyXG4gICAgICAgICAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXQuc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogcmV0XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwYXlsb2Fkcy5tZXRhID0gYXNzaWduKHt9LCBjb250ZXh0Ll9fbWV0YSwgZ2V0QWRkaXRpb25hbE1ldGEoKSB8fCB7fSk7XHJcbiAgICAgICAgdHJhbnNsYXRlRGV2VG9vbHMocGF5bG9hZHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBlc2NhcGVQYXJhbXMob3B0aW9ucykge1xyXG4gICAgaWYgKGlzQXJyYXkob3B0aW9ucy5saXN0KSkge1xyXG4gICAgICAgIG9wdGlvbnMubGlzdCA9IG9wdGlvbnMubGlzdC5tYXAoaXRlbSA9PiBpc1N0cmluZyhpdGVtKSA/IGVzY2FwZUh0bWwoaXRlbSkgOiBpdGVtKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMubmFtZWQpKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5uYW1lZCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcob3B0aW9ucy5uYW1lZFtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5uYW1lZFtrZXldID0gZXNjYXBlSHRtbChvcHRpb25zLm5hbWVkW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuKSB7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2VzLCBvbldhcm4gfSA9IGNvbnRleHQ7XHJcbiAgICBjb25zdCBsb2NhbGVzID0gZ2V0TG9jYWxlQ2hhaW4oY29udGV4dCwgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSk7XHJcbiAgICBsZXQgbWVzc2FnZSA9IHt9O1xyXG4gICAgbGV0IHRhcmdldExvY2FsZTtcclxuICAgIGxldCBmb3JtYXQgPSBudWxsO1xyXG4gICAgbGV0IGZyb20gPSBsb2NhbGU7XHJcbiAgICBsZXQgdG8gPSBudWxsO1xyXG4gICAgY29uc3QgdHlwZSA9ICd0cmFuc2xhdGUnO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGFyZ2V0TG9jYWxlID0gdG8gPSBsb2NhbGVzW2ldO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcclxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSgxIC8qIEZBTExCQUNLX1RPX1RSQU5TTEFURSAqLywge1xyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRMb2NhbGVcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBsb2NhbGUgIT09IHRhcmdldExvY2FsZSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcclxuICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogRkFMQkFDSyAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXHJcbiAgICAgICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbWVzc2FnZSA9XHJcbiAgICAgICAgICAgIG1lc3NhZ2VzW3RhcmdldExvY2FsZV0gfHwge307XHJcbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgICAgIGxldCBzdGFydCA9IG51bGw7XHJcbiAgICAgICAgbGV0IHN0YXJ0VGFnO1xyXG4gICAgICAgIGxldCBlbmRUYWc7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcclxuICAgICAgICAgICAgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgICAgIHN0YXJ0VGFnID0gJ2ludGxpZnktbWVzc2FnZS1yZXNvbHZlLXN0YXJ0JztcclxuICAgICAgICAgICAgZW5kVGFnID0gJ2ludGxpZnktbWVzc2FnZS1yZXNvbHZlLWVuZCc7XHJcbiAgICAgICAgICAgIG1hcmsgJiYgbWFyayhzdGFydFRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoZm9ybWF0ID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSkpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG51bGwsIHJlc29sdmUgd2l0aCBvYmplY3Qga2V5IHBhdGhcclxuICAgICAgICAgICAgZm9ybWF0ID0gbWVzc2FnZVtrZXldOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgICAgIGlmIChlbWl0dGVyICYmIHN0YXJ0ICYmIGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWVzc2FnZS1yZXNvbHZlXCIgLyogTUVTU0FHRV9SRVNPTFZFICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLXJlc29sdmVcIiAvKiBNRVNTQUdFX1JFU09MVkUgKi8sXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZvcm1hdCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBlbmQgLSBzdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xyXG4gICAgICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xyXG4gICAgICAgICAgICAgICAgbWVhc3VyZSgnaW50bGlmeSBtZXNzYWdlIHJlc29sdmUnLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNTdHJpbmcoZm9ybWF0KSB8fCBpc0Z1bmN0aW9uKGZvcm1hdCkpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNvbnN0IG1pc3NpbmdSZXQgPSBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSk7XHJcbiAgICAgICAgaWYgKG1pc3NpbmdSZXQgIT09IGtleSkge1xyXG4gICAgICAgICAgICBmb3JtYXQgPSBtaXNzaW5nUmV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmcm9tID0gdG87XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2Zvcm1hdCwgdGFyZ2V0TG9jYWxlLCBtZXNzYWdlXTtcclxufVxyXG5mdW5jdGlvbiBjb21waWxlTWVzc2FnZUZvcm1hdChjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgZm9ybWF0LCBjYWNoZUJhc2VLZXksIGVycm9yRGV0ZWN0b3IpIHtcclxuICAgIGNvbnN0IHsgbWVzc2FnZUNvbXBpbGVyLCB3YXJuSHRtbE1lc3NhZ2UgfSA9IGNvbnRleHQ7XHJcbiAgICBpZiAoaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KSkge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IGZvcm1hdDtcclxuICAgICAgICBtc2cubG9jYWxlID0gbXNnLmxvY2FsZSB8fCB0YXJnZXRMb2NhbGU7XHJcbiAgICAgICAgbXNnLmtleSA9IG1zZy5rZXkgfHwga2V5O1xyXG4gICAgICAgIHJldHVybiBtc2c7XHJcbiAgICB9XHJcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICBsZXQgc3RhcnQgPSBudWxsO1xyXG4gICAgbGV0IHN0YXJ0VGFnO1xyXG4gICAgbGV0IGVuZFRhZztcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWNvbXBpbGF0aW9uLXN0YXJ0JztcclxuICAgICAgICBlbmRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWNvbXBpbGF0aW9uLWVuZCc7XHJcbiAgICAgICAgbWFyayAmJiBtYXJrKHN0YXJ0VGFnKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2VDb21waWxlcihmb3JtYXQsIGdldENvbXBpbGVPcHRpb25zKGNvbnRleHQsIHRhcmdldExvY2FsZSwgY2FjaGVCYXNlS2V5LCBmb3JtYXQsIHdhcm5IdG1sTWVzc2FnZSwgZXJyb3JEZXRlY3RvcikpO1xyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcclxuICAgICAgICBjb25zdCBlbmQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQpIHtcclxuICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWVzc2FnZS1jb21waWxhdGlvblwiIC8qIE1FU1NBR0VfQ09NUElMQVRJT04gKi8sIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwibWVzc2FnZS1jb21waWxhdGlvblwiIC8qIE1FU1NBR0VfQ09NUElMQVRJT04gKi8sXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBmb3JtYXQsXHJcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmQgLSBzdGFydCxcclxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAkeyd0cmFuc2xhdGUnfToke2tleX1gXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xyXG4gICAgICAgICAgICBtYXJrKGVuZFRhZyk7XHJcbiAgICAgICAgICAgIG1lYXN1cmUoJ2ludGxpZnkgbWVzc2FnZSBjb21waWxhdGlvbicsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1zZy5sb2NhbGUgPSB0YXJnZXRMb2NhbGU7XHJcbiAgICBtc2cua2V5ID0ga2V5O1xyXG4gICAgbXNnLnNvdXJjZSA9IGZvcm1hdDtcclxuICAgIHJldHVybiBtc2c7XHJcbn1cclxuZnVuY3Rpb24gZXZhbHVhdGVNZXNzYWdlKGNvbnRleHQsIG1zZywgbXNnQ3R4KSB7XHJcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICBsZXQgc3RhcnQgPSBudWxsO1xyXG4gICAgbGV0IHN0YXJ0VGFnO1xyXG4gICAgbGV0IGVuZFRhZztcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWV2YWx1YXRpb24tc3RhcnQnO1xyXG4gICAgICAgIGVuZFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtZXZhbHVhdGlvbi1lbmQnO1xyXG4gICAgICAgIG1hcmsgJiYgbWFyayhzdGFydFRhZyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBtZXNzYWdlZCA9IG1zZyhtc2dDdHgpO1xyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcclxuICAgICAgICBjb25zdCBlbmQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQpIHtcclxuICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWVzc2FnZS1ldmFsdWF0aW9uXCIgLyogTUVTU0FHRV9FVkFMVUFUSU9OICovLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2UtZXZhbHVhdGlvblwiIC8qIE1FU1NBR0VfRVZBTFVBVElPTiAqLyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlZCxcclxuICAgICAgICAgICAgICAgIHRpbWU6IGVuZCAtIHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7J3RyYW5zbGF0ZSd9OiR7bXNnLmtleX1gXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xyXG4gICAgICAgICAgICBtYXJrKGVuZFRhZyk7XHJcbiAgICAgICAgICAgIG1lYXN1cmUoJ2ludGxpZnkgbWVzc2FnZSBldmFsdWF0aW9uJywgc3RhcnRUYWcsIGVuZFRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lc3NhZ2VkO1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gcGFyc2VUcmFuc2xhdGVBcmdzKC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge307XHJcbiAgICBpZiAoIWlzU3RyaW5nKGFyZzEpICYmICFpc051bWJlcihhcmcxKSAmJiAhaXNNZXNzYWdlRnVuY3Rpb24oYXJnMSkpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoMTQgLyogSU5WQUxJRF9BUkdVTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IGtleSA9IGlzTnVtYmVyKGFyZzEpXHJcbiAgICAgICAgPyBTdHJpbmcoYXJnMSlcclxuICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGFyZzEpXHJcbiAgICAgICAgICAgID8gYXJnMVxyXG4gICAgICAgICAgICA6IGFyZzE7XHJcbiAgICBpZiAoaXNOdW1iZXIoYXJnMikpIHtcclxuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IGFyZzI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N0cmluZyhhcmcyKSkge1xyXG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdCA9IGFyZzI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpICYmICFpc0VtcHR5T2JqZWN0KGFyZzIpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5uYW1lZCA9IGFyZzI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGFyZzIpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5saXN0ID0gYXJnMjtcclxuICAgIH1cclxuICAgIGlmIChpc051bWJlcihhcmczKSkge1xyXG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gYXJnMztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKGFyZzMpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0ID0gYXJnMztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcclxuICAgICAgICBhc3NpZ24ob3B0aW9ucywgYXJnMyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2tleSwgb3B0aW9uc107XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29tcGlsZU9wdGlvbnMoY29udGV4dCwgbG9jYWxlLCBrZXksIHNvdXJjZSwgd2Fybkh0bWxNZXNzYWdlLCBlcnJvckRldGVjdG9yKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHdhcm5IdG1sTWVzc2FnZSxcclxuICAgICAgICBvbkVycm9yOiAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGVycm9yRGV0ZWN0b3IgJiYgZXJyb3JEZXRlY3RvcihlcnIpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYE1lc3NhZ2UgY29tcGlsYXRpb24gZXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVGcmFtZSA9IGVyci5sb2NhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgZXJyLmxvY2F0aW9uLnN0YXJ0Lm9mZnNldCwgZXJyLmxvY2F0aW9uLmVuZC5vZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHRcclxuICAgICAgICAgICAgICAgICAgICAuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImNvbXBpbGUtZXJyb3JcIiAvKiBDT01QSUxFX0VSUk9SICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNvdXJjZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogZXJyLmxvY2F0aW9uICYmIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZXJyLmxvY2F0aW9uICYmIGVyci5sb2NhdGlvbi5lbmQub2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHsndHJhbnNsYXRlJ306JHtrZXl9YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihjb2RlRnJhbWUgPyBgJHttZXNzYWdlfVxcbiR7Y29kZUZyYW1lfWAgOiBtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DYWNoZUtleTogKHNvdXJjZSkgPT4gZ2VuZXJhdGVGb3JtYXRDYWNoZUtleShsb2NhbGUsIGtleSwgc291cmNlKVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRNZXNzYWdlQ29udGV4dE9wdGlvbnMoY29udGV4dCwgbG9jYWxlLCBtZXNzYWdlLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IG1vZGlmaWVycywgcGx1cmFsUnVsZXMgfSA9IGNvbnRleHQ7XHJcbiAgICBjb25zdCByZXNvbHZlTWVzc2FnZSA9IChrZXkpID0+IHtcclxuICAgICAgICBjb25zdCB2YWwgPSByZXNvbHZlVmFsdWUobWVzc2FnZSwga2V5KTtcclxuICAgICAgICBpZiAoaXNTdHJpbmcodmFsKSkge1xyXG4gICAgICAgICAgICBsZXQgb2NjdXJyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JEZXRlY3RvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG9jY3VycmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgbXNnID0gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIHZhbCwga2V5LCBlcnJvckRldGVjdG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuICFvY2N1cnJlZFxyXG4gICAgICAgICAgICAgICAgPyBtc2dcclxuICAgICAgICAgICAgICAgIDogTk9PUF9NRVNTQUdFX0ZVTkNUSU9OO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc01lc3NhZ2VGdW5jdGlvbih2YWwpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUgaW1wbGVtZW50ZWQgd2FybmluZyBtZXNzYWdlXHJcbiAgICAgICAgICAgIHJldHVybiBOT09QX01FU1NBR0VfRlVOQ1RJT047XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGN0eE9wdGlvbnMgPSB7XHJcbiAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgIG1vZGlmaWVycyxcclxuICAgICAgICBwbHVyYWxSdWxlcyxcclxuICAgICAgICBtZXNzYWdlczogcmVzb2x2ZU1lc3NhZ2VcclxuICAgIH07XHJcbiAgICBpZiAoY29udGV4dC5wcm9jZXNzb3IpIHtcclxuICAgICAgICBjdHhPcHRpb25zLnByb2Nlc3NvciA9IGNvbnRleHQucHJvY2Vzc29yO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMubGlzdCkge1xyXG4gICAgICAgIGN0eE9wdGlvbnMubGlzdCA9IG9wdGlvbnMubGlzdDtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLm5hbWVkKSB7XHJcbiAgICAgICAgY3R4T3B0aW9ucy5uYW1lZCA9IG9wdGlvbnMubmFtZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5wbHVyYWwpKSB7XHJcbiAgICAgICAgY3R4T3B0aW9ucy5wbHVyYWxJbmRleCA9IG9wdGlvbnMucGx1cmFsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN0eE9wdGlvbnM7XHJcbn1cblxuY29uc3QgaW50bERlZmluZWQgPSB0eXBlb2YgSW50bCAhPT0gJ3VuZGVmaW5lZCc7XHJcbmNvbnN0IEF2YWlsYWJpbGl0aWVzID0ge1xyXG4gICAgZGF0ZVRpbWVGb3JtYXQ6IGludGxEZWZpbmVkICYmIHR5cGVvZiBJbnRsLkRhdGVUaW1lRm9ybWF0ICE9PSAndW5kZWZpbmVkJyxcclxuICAgIG51bWJlckZvcm1hdDogaW50bERlZmluZWQgJiYgdHlwZW9mIEludGwuTnVtYmVyRm9ybWF0ICE9PSAndW5kZWZpbmVkJ1xyXG59O1xuXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgZGF0ZXRpbWVgIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGRhdGV0aW1lKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IHsgZGF0ZXRpbWVGb3JtYXRzLCB1bnJlc29sdmluZywgZmFsbGJhY2tMb2NhbGUsIG9uV2FybiB9ID0gY29udGV4dDtcclxuICAgIGNvbnN0IHsgX19kYXRldGltZUZvcm1hdHRlcnMgfSA9IGNvbnRleHQ7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFBdmFpbGFiaWxpdGllcy5kYXRlVGltZUZvcm1hdCkge1xyXG4gICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSg0IC8qIENBTk5PVF9GT1JNQVRfREFURSAqLykpO1xyXG4gICAgICAgIHJldHVybiBNSVNTSU5HX1JFU09MVkVfVkFMVUU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBba2V5LCB2YWx1ZSwgb3B0aW9ucywgb3ZlcnJpZGVzXSA9IHBhcnNlRGF0ZVRpbWVBcmdzKC4uLmFyZ3MpO1xyXG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcclxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cclxuICAgICAgICA6IGNvbnRleHQubWlzc2luZ1dhcm47XHJcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXHJcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogY29udGV4dC5mYWxsYmFja1dhcm47XHJcbiAgICBjb25zdCBwYXJ0ID0gISFvcHRpb25zLnBhcnQ7XHJcbiAgICBjb25zdCBsb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSkgPyBvcHRpb25zLmxvY2FsZSA6IGNvbnRleHQubG9jYWxlO1xyXG4gICAgY29uc3QgbG9jYWxlcyA9IGdldExvY2FsZUNoYWluKGNvbnRleHQsIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUpO1xyXG4gICAgaWYgKCFpc1N0cmluZyhrZXkpIHx8IGtleSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlKS5mb3JtYXQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcclxuICAgIGxldCBkYXRldGltZUZvcm1hdCA9IHt9O1xyXG4gICAgbGV0IHRhcmdldExvY2FsZTtcclxuICAgIGxldCBmb3JtYXQgPSBudWxsO1xyXG4gICAgbGV0IGZyb20gPSBsb2NhbGU7XHJcbiAgICBsZXQgdG8gPSBudWxsO1xyXG4gICAgY29uc3QgdHlwZSA9ICdkYXRldGltZSBmb3JtYXQnO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGFyZ2V0TG9jYWxlID0gdG8gPSBsb2NhbGVzW2ldO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcclxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSg1IC8qIEZBTExCQUNLX1RPX0RBVEVfRk9STUFUICovLCB7XHJcbiAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldExvY2FsZVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xyXG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBGQUxCQUNLICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgICAgICAgICB0byxcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRldGltZUZvcm1hdCA9XHJcbiAgICAgICAgICAgIGRhdGV0aW1lRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xyXG4gICAgICAgIGZvcm1hdCA9IGRhdGV0aW1lRm9ybWF0W2tleV07XHJcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoZm9ybWF0KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgaGFuZGxlTWlzc2luZyhjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpO1xyXG4gICAgICAgIGZyb20gPSB0bztcclxuICAgIH1cclxuICAgIC8vIGNoZWNraW5nIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxyXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGZvcm1hdCkgfHwgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpIHtcclxuICAgICAgICByZXR1cm4gdW5yZXNvbHZpbmcgPyBOT1RfUkVPU0xWRUQgOiBrZXk7XHJcbiAgICB9XHJcbiAgICBsZXQgaWQgPSBgJHt0YXJnZXRMb2NhbGV9X18ke2tleX1gO1xyXG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KG92ZXJyaWRlcykpIHtcclxuICAgICAgICBpZCA9IGAke2lkfV9fJHtKU09OLnN0cmluZ2lmeShvdmVycmlkZXMpfWA7XHJcbiAgICB9XHJcbiAgICBsZXQgZm9ybWF0dGVyID0gX19kYXRldGltZUZvcm1hdHRlcnMuZ2V0KGlkKTtcclxuICAgIGlmICghZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XHJcbiAgICAgICAgX19kYXRldGltZUZvcm1hdHRlcnMuc2V0KGlkLCBmb3JtYXR0ZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICFwYXJ0ID8gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkgOiBmb3JtYXR0ZXIuZm9ybWF0VG9QYXJ0cyh2YWx1ZSk7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKSB7XHJcbiAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNF0gPSBhcmdzO1xyXG4gICAgbGV0IG9wdGlvbnMgPSB7fTtcclxuICAgIGxldCBvdmVycmlkZXMgPSB7fTtcclxuICAgIGxldCB2YWx1ZTtcclxuICAgIGlmIChpc1N0cmluZyhhcmcxKSkge1xyXG4gICAgICAgIC8vIE9ubHkgYWxsb3cgSVNPIHN0cmluZ3MgLSBvdGhlciBkYXRlIGZvcm1hdHMgYXJlIG9mdGVuIHN1cHBvcnRlZCxcclxuICAgICAgICAvLyBidXQgbWF5IGNhdXNlIGRpZmZlcmVudCByZXN1bHRzIGluIGRpZmZlcmVudCBicm93c2Vycy5cclxuICAgICAgICBpZiAoIS9cXGR7NH0tXFxkezJ9LVxcZHsyfShULiopPy8udGVzdChhcmcxKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoMTYgLyogSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoYXJnMSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGZhaWwgaWYgdGhlIGRhdGUgaXMgbm90IHZhbGlkXHJcbiAgICAgICAgICAgIHZhbHVlLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNiAvKiBJTlZBTElEX0lTT19EQVRFX0FSR1VNRU5UICovKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0RhdGUoYXJnMSkpIHtcclxuICAgICAgICBpZiAoaXNOYU4oYXJnMS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNSAvKiBJTlZBTElEX0RBVEVfQVJHVU1FTlQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZSA9IGFyZzE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc051bWJlcihhcmcxKSkge1xyXG4gICAgICAgIHZhbHVlID0gYXJnMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNCAvKiBJTlZBTElEX0FSR1VNRU5UICovKTtcclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xyXG4gICAgICAgIG9wdGlvbnMua2V5ID0gYXJnMjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcclxuICAgICAgICBvcHRpb25zID0gYXJnMjtcclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xyXG4gICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcclxuICAgICAgICBvdmVycmlkZXMgPSBhcmczO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnNCkpIHtcclxuICAgICAgICBvdmVycmlkZXMgPSBhcmc0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtvcHRpb25zLmtleSB8fCAnJywgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc107XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBjbGVhckRhdGVUaW1lRm9ybWF0KGN0eCwgbG9jYWxlLCBmb3JtYXQpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtYXQpIHtcclxuICAgICAgICBjb25zdCBpZCA9IGAke2xvY2FsZX1fXyR7a2V5fWA7XHJcbiAgICAgICAgaWYgKCFjb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuX19kYXRldGltZUZvcm1hdHRlcnMuZGVsZXRlKGlkKTtcclxuICAgIH1cclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgbnVtYmVyYCBmdW5jdGlvblxyXG5mdW5jdGlvbiBudW1iZXIoY29udGV4dCwgLi4uYXJncykge1xyXG4gICAgY29uc3QgeyBudW1iZXJGb3JtYXRzLCB1bnJlc29sdmluZywgZmFsbGJhY2tMb2NhbGUsIG9uV2FybiB9ID0gY29udGV4dDtcclxuICAgIGNvbnN0IHsgX19udW1iZXJGb3JtYXR0ZXJzIH0gPSBjb250ZXh0O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQXZhaWxhYmlsaXRpZXMubnVtYmVyRm9ybWF0KSB7XHJcbiAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKDIgLyogQ0FOTk9UX0ZPUk1BVF9OVU1CRVIgKi8pKTtcclxuICAgICAgICByZXR1cm4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFO1xyXG4gICAgfVxyXG4gICAgY29uc3QgW2tleSwgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc10gPSBwYXJzZU51bWJlckFyZ3MoLi4uYXJncyk7XHJcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKVxyXG4gICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxyXG4gICAgICAgIDogY29udGV4dC5taXNzaW5nV2FybjtcclxuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybilcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXHJcbiAgICAgICAgOiBjb250ZXh0LmZhbGxiYWNrV2FybjtcclxuICAgIGNvbnN0IHBhcnQgPSAhIW9wdGlvbnMucGFydDtcclxuICAgIGNvbnN0IGxvY2FsZSA9IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKSA/IG9wdGlvbnMubG9jYWxlIDogY29udGV4dC5sb2NhbGU7XHJcbiAgICBjb25zdCBsb2NhbGVzID0gZ2V0TG9jYWxlQ2hhaW4oY29udGV4dCwgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSk7XHJcbiAgICBpZiAoIWlzU3RyaW5nKGtleSkgfHwga2V5ID09PSAnJykge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlKS5mb3JtYXQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcclxuICAgIGxldCBudW1iZXJGb3JtYXQgPSB7fTtcclxuICAgIGxldCB0YXJnZXRMb2NhbGU7XHJcbiAgICBsZXQgZm9ybWF0ID0gbnVsbDtcclxuICAgIGxldCBmcm9tID0gbG9jYWxlO1xyXG4gICAgbGV0IHRvID0gbnVsbDtcclxuICAgIGNvbnN0IHR5cGUgPSAnbnVtYmVyIGZvcm1hdCc7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0YXJnZXRMb2NhbGUgPSB0byA9IGxvY2FsZXNbaV07XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICBsb2NhbGUgIT09IHRhcmdldExvY2FsZSAmJlxyXG4gICAgICAgICAgICBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybihmYWxsYmFja1dhcm4sIGtleSkpIHtcclxuICAgICAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKDMgLyogRkFMTEJBQ0tfVE9fTlVNQkVSX0ZPUk1BVCAqLywge1xyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRMb2NhbGVcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBsb2NhbGUgIT09IHRhcmdldExvY2FsZSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcclxuICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogRkFMQkFDSyAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXHJcbiAgICAgICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbnVtYmVyRm9ybWF0ID1cclxuICAgICAgICAgICAgbnVtYmVyRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xyXG4gICAgICAgIGZvcm1hdCA9IG51bWJlckZvcm1hdFtrZXldO1xyXG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KGZvcm1hdCkpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGhhbmRsZU1pc3NpbmcoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIG1pc3NpbmdXYXJuLCB0eXBlKTtcclxuICAgICAgICBmcm9tID0gdG87XHJcbiAgICB9XHJcbiAgICAvLyBjaGVja2luZyBmb3JtYXQgYW5kIHRhcmdldCBsb2NhbGVcclxuICAgIGlmICghaXNQbGFpbk9iamVjdChmb3JtYXQpIHx8ICFpc1N0cmluZyh0YXJnZXRMb2NhbGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHVucmVzb2x2aW5nID8gTk9UX1JFT1NMVkVEIDoga2V5O1xyXG4gICAgfVxyXG4gICAgbGV0IGlkID0gYCR7dGFyZ2V0TG9jYWxlfV9fJHtrZXl9YDtcclxuICAgIGlmICghaXNFbXB0eU9iamVjdChvdmVycmlkZXMpKSB7XHJcbiAgICAgICAgaWQgPSBgJHtpZH1fXyR7SlNPTi5zdHJpbmdpZnkob3ZlcnJpZGVzKX1gO1xyXG4gICAgfVxyXG4gICAgbGV0IGZvcm1hdHRlciA9IF9fbnVtYmVyRm9ybWF0dGVycy5nZXQoaWQpO1xyXG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcclxuICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XHJcbiAgICAgICAgX19udW1iZXJGb3JtYXR0ZXJzLnNldChpZCwgZm9ybWF0dGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiAhcGFydCA/IGZvcm1hdHRlci5mb3JtYXQodmFsdWUpIDogZm9ybWF0dGVyLmZvcm1hdFRvUGFydHModmFsdWUpO1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczLCBhcmc0XSA9IGFyZ3M7XHJcbiAgICBsZXQgb3B0aW9ucyA9IHt9O1xyXG4gICAgbGV0IG92ZXJyaWRlcyA9IHt9O1xyXG4gICAgaWYgKCFpc051bWJlcihhcmcxKSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNCAvKiBJTlZBTElEX0FSR1VNRU5UICovKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbHVlID0gYXJnMTtcclxuICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xyXG4gICAgICAgIG9wdGlvbnMua2V5ID0gYXJnMjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcclxuICAgICAgICBvcHRpb25zID0gYXJnMjtcclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xyXG4gICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcclxuICAgICAgICBvdmVycmlkZXMgPSBhcmczO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnNCkpIHtcclxuICAgICAgICBvdmVycmlkZXMgPSBhcmc0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtvcHRpb25zLmtleSB8fCAnJywgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc107XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBjbGVhck51bWJlckZvcm1hdChjdHgsIGxvY2FsZSwgZm9ybWF0KSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gY3R4O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybWF0KSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBgJHtsb2NhbGV9X18ke2tleX1gO1xyXG4gICAgICAgIGlmICghY29udGV4dC5fX251bWJlckZvcm1hdHRlcnMuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5fX251bWJlckZvcm1hdHRlcnMuZGVsZXRlKGlkKTtcclxuICAgIH1cclxufVxuXG57XHJcbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX0lOVExJRllfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCBOT1RfUkVPU0xWRUQsIFZFUlNJT04sIGNsZWFyQ29tcGlsZUNhY2hlLCBjbGVhckRhdGVUaW1lRm9ybWF0LCBjbGVhck51bWJlckZvcm1hdCwgY29tcGlsZVRvRnVuY3Rpb24sIGNyZWF0ZUNvcmVDb250ZXh0LCBjcmVhdGVDb3JlRXJyb3IsIGRhdGV0aW1lLCBnZXRBZGRpdGlvbmFsTWV0YSwgZ2V0RGV2VG9vbHNIb29rLCBnZXRMb2NhbGVDaGFpbiwgZ2V0V2Fybk1lc3NhZ2UsIGhhbmRsZU1pc3NpbmcsIGluaXRJMThuRGV2VG9vbHMsIGlzTWVzc2FnZUZ1bmN0aW9uLCBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybiwgaXNUcmFuc2xhdGVNaXNzaW5nV2FybiwgbnVtYmVyLCBwYXJzZURhdGVUaW1lQXJncywgcGFyc2VOdW1iZXJBcmdzLCBwYXJzZVRyYW5zbGF0ZUFyZ3MsIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyLCBzZXRBZGRpdGlvbmFsTWV0YSwgc2V0RGV2VG9vbHNIb29rLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZURldlRvb2xzLCB1cGRhdGVGYWxsYmFja0xvY2FsZSB9O1xuIiwiLyohXG4gICogdnVlLWkxOG4gdjkuMS45XG4gICogKGMpIDIwMjEga2F6dXlhIGthd2FndWNoaVxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAgKi9cbmltcG9ydCB7IGdldEdsb2JhbFRoaXMsIGZvcm1hdCwgbWFrZVN5bWJvbCwgaXNQbGFpbk9iamVjdCwgaXNBcnJheSwgaGFzT3duLCBpc09iamVjdCwgaXNCb29sZWFuLCBpc1N0cmluZywgaXNSZWdFeHAsIGlzRnVuY3Rpb24sIGFzc2lnbiwgaXNOdW1iZXIsIHdhcm4sIGNyZWF0ZUVtaXR0ZXIsIGlzRW1wdHlPYmplY3QgfSBmcm9tICdAaW50bGlmeS9zaGFyZWQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcGlsZUVycm9yLCBoYW5kbGVGbGF0SnNvbiwgY3JlYXRlQ29yZUNvbnRleHQsIHVwZGF0ZUZhbGxiYWNrTG9jYWxlLCByZXNvbHZlVmFsdWUsIGNsZWFyRGF0ZVRpbWVGb3JtYXQsIGNsZWFyTnVtYmVyRm9ybWF0LCBzZXRBZGRpdGlvbmFsTWV0YSwgTk9UX1JFT1NMVkVELCBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybiwgaXNUcmFuc2xhdGVNaXNzaW5nV2FybiwgcGFyc2VUcmFuc2xhdGVBcmdzLCB0cmFuc2xhdGUsIE1JU1NJTkdfUkVTT0xWRV9WQUxVRSwgcGFyc2VEYXRlVGltZUFyZ3MsIGRhdGV0aW1lLCBwYXJzZU51bWJlckFyZ3MsIG51bWJlciwgZ2V0TG9jYWxlQ2hhaW4sIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyLCBjb21waWxlVG9GdW5jdGlvbiwgc2V0RGV2VG9vbHNIb29rIH0gZnJvbSAnQGludGxpZnkvY29yZS1iYXNlJztcbmltcG9ydCB7IHJlZiwgZ2V0Q3VycmVudEluc3RhbmNlLCBjb21wdXRlZCwgd2F0Y2gsIGNyZWF0ZVZOb2RlLCBUZXh0LCBoLCBGcmFnbWVudCwgaW5qZWN0LCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCBpc1JlZiB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuaW1wb3J0IHsgVnVlRGV2VG9vbHNMYWJlbHMsIFZ1ZURldlRvb2xzUGxhY2Vob2xkZXJzLCBWdWVEZXZUb29sc1RpbWVsaW5lQ29sb3JzIH0gZnJvbSAnQGludGxpZnkvdnVlLWRldnRvb2xzJztcblxuLyoqXHJcbiAqIFZ1ZSBJMThuIFZlcnNpb25cclxuICpcclxuICogQHJlbWFya3NcclxuICogU2VtdmVyIGZvcm1hdC4gU2FtZSBmb3JtYXQgYXMgdGhlIHBhY2thZ2UuanNvbiBgdmVyc2lvbmAgZmllbGQuXHJcbiAqXHJcbiAqIEBWdWVJMThuR2VuZXJhbFxyXG4gKi9cclxuY29uc3QgVkVSU0lPTiA9ICc5LjEuOSc7XHJcbi8qKlxyXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIGluIGVzbS1idW5kbGVyIGJ1aWxkcy5cclxuICogaXN0YW5idWwtaWdub3JlLW5leHRcclxuICovXHJcbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbmVlZFdhcm4gPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgX19WVUVfSTE4Tl9GVUxMX0lOU1RBTExfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9JMThOX0ZVTExfSU5TVEFMTF9fID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgIG5lZWRXYXJuID0gdHJ1ZTtcclxuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9JMThOX1BST0RfREVWVE9PTFNfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9JMThOX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB0eXBlb2YgdHJ1ZSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiB2dWUtaTE4bi4gSXQgaXMgcmVjb21tZW5kZWQgdG8gYCArXHJcbiAgICAgICAgICAgIGBjb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGV4cGxpY2l0bHkgcmVwbGFjZSBmZWF0dXJlIGZsYWcgZ2xvYmFscyBgICtcclxuICAgICAgICAgICAgYHdpdGggYm9vbGVhbiBsaXRlcmFscyB0byBnZXQgcHJvcGVyIHRyZWUtc2hha2luZyBpbiB0aGUgZmluYWwgYnVuZGxlLmApO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHdhcm5NZXNzYWdlcyA9IHtcclxuICAgIFs2IC8qIEZBTExCQUNLX1RPX1JPT1QgKi9dOiBgRmFsbCBiYWNrIHRvIHt0eXBlfSAne2tleX0nIHdpdGggcm9vdCBsb2NhbGUuYCxcclxuICAgIFs3IC8qIE5PVF9TVVBQT1JURURfUFJFU0VSVkUgKi9dOiBgTm90IHN1cHBvcnRlZCAncHJlc2VydmUnLmAsXHJcbiAgICBbOCAvKiBOT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUiAqL106IGBOb3Qgc3VwcG9ydGVkICdmb3JtYXR0ZXInLmAsXHJcbiAgICBbOSAvKiBOT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSAqL106IGBOb3Qgc3VwcG9ydGVkICdwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQnLmAsXHJcbiAgICBbMTAgLyogTk9UX1NVUFBPUlRFRF9HRVRfQ0hPSUNFX0lOREVYICovXTogYE5vdCBzdXBwb3J0ZWQgJ2dldENob2ljZUluZGV4Jy5gLFxyXG4gICAgWzExIC8qIENPTVBPTkVOVF9OQU1FX0xFR0FDWV9DT01QQVRJQkxFICovXTogYENvbXBvbmVudCBuYW1lIGxlZ2FjeSBjb21wYXRpYmxlOiAne25hbWV9JyAtPiAnaTE4bidgLFxyXG4gICAgWzEyIC8qIE5PVF9GT1VORF9QQVJFTlRfU0NPUEUgKi9dOiBgTm90IGZvdW5kIHBhcmVudCBzY29wZS4gdXNlIHRoZSBnbG9iYWwgc2NvcGUuYFxyXG59O1xyXG5mdW5jdGlvbiBnZXRXYXJuTWVzc2FnZShjb2RlLCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gZm9ybWF0KHdhcm5NZXNzYWdlc1tjb2RlXSwgLi4uYXJncyk7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlSTE4bkVycm9yKGNvZGUsIC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiBjcmVhdGVDb21waWxlRXJyb3IoY29kZSwgbnVsbCwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8geyBtZXNzYWdlczogZXJyb3JNZXNzYWdlcywgYXJncyB9IDogdW5kZWZpbmVkKTtcclxufVxyXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xyXG4gICAgWzE0IC8qIFVORVhQRUNURURfUkVUVVJOX1RZUEUgKi9dOiAnVW5leHBlY3RlZCByZXR1cm4gdHlwZSBpbiBjb21wb3NlcicsXHJcbiAgICBbMTUgLyogSU5WQUxJRF9BUkdVTUVOVCAqL106ICdJbnZhbGlkIGFyZ3VtZW50JyxcclxuICAgIFsxNiAvKiBNVVNUX0JFX0NBTExfU0VUVVBfVE9QICovXTogJ011c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBgc2V0dXBgIGZ1bmN0aW9uJyxcclxuICAgIFsxNyAvKiBOT1RfSU5TTEFMTEVEICovXTogJ05lZWQgdG8gaW5zdGFsbCB3aXRoIGBhcHAudXNlYCBmdW5jdGlvbicsXHJcbiAgICBbMjIgLyogVU5FWFBFQ1RFRF9FUlJPUiAqL106ICdVbmV4cGVjdGVkIGVycm9yJyxcclxuICAgIFsxOCAvKiBOT1RfQVZBSUxBQkxFX0lOX0xFR0FDWV9NT0RFICovXTogJ05vdCBhdmFpbGFibGUgaW4gbGVnYWN5IG1vZGUnLFxyXG4gICAgWzE5IC8qIFJFUVVJUkVEX1ZBTFVFICovXTogYFJlcXVpcmVkIGluIHZhbHVlOiB7MH1gLFxyXG4gICAgWzIwIC8qIElOVkFMSURfVkFMVUUgKi9dOiBgSW52YWxpZCB2YWx1ZWAsXHJcbiAgICBbMjEgLyogQ0FOTk9UX1NFVFVQX1ZVRV9ERVZUT09MU19QTFVHSU4gKi9dOiBgQ2Fubm90IHNldHVwIHZ1ZS1kZXZ0b29scyBwbHVnaW5gXHJcbn07XG5cbmNvbnN0IERFVlRPT0xTX01FVEEgPSAnX19JTlRMSUZZX01FVEFfXyc7XHJcbmNvbnN0IFRyYW5zcmF0ZVZOb2RlU3ltYm9sID0gbWFrZVN5bWJvbCgnX190cmFuc3JhdGVWTm9kZScpO1xyXG5jb25zdCBEYXRldGltZVBhcnRzU3ltYm9sID0gbWFrZVN5bWJvbCgnX19kYXRldGltZVBhcnRzJyk7XHJcbmNvbnN0IE51bWJlclBhcnRzU3ltYm9sID0gbWFrZVN5bWJvbCgnX19udW1iZXJQYXJ0cycpO1xyXG5jb25zdCBFbmFibGVFbWl0dGVyID0gbWFrZVN5bWJvbCgnX19lbmFibGVFbWl0dGVyJyk7XHJcbmNvbnN0IERpc2FibGVFbWl0dGVyID0gbWFrZVN5bWJvbCgnX19kaXNhYmxlRW1pdHRlcicpO1xyXG5jb25zdCBTZXRQbHVyYWxSdWxlc1N5bWJvbCA9IG1ha2VTeW1ib2woJ19fc2V0UGx1cmFsUnVsZXMnKTtcclxubWFrZVN5bWJvbCgnX19pbnRsaWZ5TWV0YScpO1xyXG5jb25zdCBJbmVqY3RXaXRoT3B0aW9uID0gbWFrZVN5bWJvbCgnX19pbmplY3RXaXRoT3B0aW9uJyk7XHJcbmxldCBjb21wb3NlcklEID0gMDtcclxuZnVuY3Rpb24gZGVmaW5lQ29yZU1pc3NpbmdIYW5kbGVyKG1pc3NpbmcpIHtcclxuICAgIHJldHVybiAoKGN0eCwgbG9jYWxlLCBrZXksIHR5cGUpID0+IHtcclxuICAgICAgICByZXR1cm4gbWlzc2luZyhsb2NhbGUsIGtleSwgZ2V0Q3VycmVudEluc3RhbmNlKCkgfHwgdW5kZWZpbmVkLCB0eXBlKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2VzKGxvY2FsZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgeyBtZXNzYWdlcywgX19pMThuIH0gPSBvcHRpb25zO1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCByZXQgPSBpc1BsYWluT2JqZWN0KG1lc3NhZ2VzKVxyXG4gICAgICAgID8gbWVzc2FnZXNcclxuICAgICAgICA6IGlzQXJyYXkoX19pMThuKVxyXG4gICAgICAgICAgICA/IHt9XHJcbiAgICAgICAgICAgIDogeyBbbG9jYWxlXToge30gfTtcclxuICAgIC8vIG1lcmdlIGxvY2FsZSBtZXNzYWdlcyBvZiBpMThuIGN1c3RvbSBibG9ja1xyXG4gICAgaWYgKGlzQXJyYXkoX19pMThuKSkge1xyXG4gICAgICAgIF9faTE4bi5mb3JFYWNoKCh7IGxvY2FsZSwgcmVzb3VyY2UgfSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobG9jYWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXRbbG9jYWxlXSA9IHJldFtsb2NhbGVdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgZGVlcENvcHkocmVzb3VyY2UsIHJldFtsb2NhbGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlZXBDb3B5KHJlc291cmNlLCByZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBoYW5kbGUgbWVzc2FnZXMgZm9yIGZsYXQganNvblxyXG4gICAgaWYgKG9wdGlvbnMuZmxhdEpzb24pIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXQpIHtcclxuICAgICAgICAgICAgaWYgKGhhc093bihyZXQsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUZsYXRKc29uKHJldFtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuY29uc3QgaXNOb3RPYmplY3RPcklzQXJyYXkgPSAodmFsKSA9PiAhaXNPYmplY3QodmFsKSB8fCBpc0FycmF5KHZhbCk7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHNyYywgZGVzKSB7XHJcbiAgICAvLyBzcmMgYW5kIGRlcyBzaG91bGQgYm90aCBiZSBvYmplY3RzLCBhbmQgbm9uIG9mIHRoZW4gY2FuIGJlIGEgYXJyYXlcclxuICAgIGlmIChpc05vdE9iamVjdE9ySXNBcnJheShzcmMpIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KGRlcykpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjAgLyogSU5WQUxJRF9WQUxVRSAqLyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzcmMpIHtcclxuICAgICAgICBpZiAoaGFzT3duKHNyYywga2V5KSkge1xyXG4gICAgICAgICAgICBpZiAoaXNOb3RPYmplY3RPcklzQXJyYXkoc3JjW2tleV0pIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KGRlc1trZXldKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB3aXRoIHNyY1trZXldIHdoZW46XHJcbiAgICAgICAgICAgICAgICAvLyBzcmNba2V5XSBvciBkZXNba2V5XSBpcyBub3QgYSBvYmplY3QsIG9yXHJcbiAgICAgICAgICAgICAgICAvLyBzcmNba2V5XSBvciBkZXNba2V5XSBpcyBhIGFycmF5XHJcbiAgICAgICAgICAgICAgICBkZXNba2V5XSA9IHNyY1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gYW5kIGRlc1trZXldIGFyZSBib3RoIG9iamVjdCwgbWVyZ2UgdGhlbVxyXG4gICAgICAgICAgICAgICAgZGVlcENvcHkoc3JjW2tleV0sIGRlc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBmb3IgSW50bGlmeSBEZXZUb29sc1xyXG5jb25zdCBnZXRNZXRhSW5mbyA9IC8qICNfX1BVUkVfXyovICgpID0+IHtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZVtERVZUT09MU19NRVRBXSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICA/IHsgW0RFVlRPT0xTX01FVEFdOiBpbnN0YW5jZS50eXBlW0RFVlRPT0xTX01FVEFdIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgOiBudWxsO1xyXG59O1xyXG4vKipcclxuICogQ3JlYXRlIGNvbXBvc2VyIGludGVyZmFjZSBmYWN0b3J5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29tcG9zZXIob3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IF9fcm9vdCB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IF9pc0dsb2JhbCA9IF9fcm9vdCA9PT0gdW5kZWZpbmVkO1xyXG4gICAgbGV0IF9pbmhlcml0TG9jYWxlID0gaXNCb29sZWFuKG9wdGlvbnMuaW5oZXJpdExvY2FsZSlcclxuICAgICAgICA/IG9wdGlvbnMuaW5oZXJpdExvY2FsZVxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IF9sb2NhbGUgPSByZWYoXHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIF9fcm9vdCAmJiBfaW5oZXJpdExvY2FsZVxyXG4gICAgICAgID8gX19yb290LmxvY2FsZS52YWx1ZVxyXG4gICAgICAgIDogaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5sb2NhbGVcclxuICAgICAgICAgICAgOiAnZW4tVVMnKTtcclxuICAgIGNvbnN0IF9mYWxsYmFja0xvY2FsZSA9IHJlZihcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgX19yb290ICYmIF9pbmhlcml0TG9jYWxlXHJcbiAgICAgICAgPyBfX3Jvb3QuZmFsbGJhY2tMb2NhbGUudmFsdWVcclxuICAgICAgICA6IGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XHJcbiAgICAgICAgICAgIGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgICAgICBvcHRpb25zLmZhbGxiYWNrTG9jYWxlID09PSBmYWxzZVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcclxuICAgICAgICAgICAgOiBfbG9jYWxlLnZhbHVlKTtcclxuICAgIGNvbnN0IF9tZXNzYWdlcyA9IHJlZihnZXRMb2NhbGVNZXNzYWdlcyhfbG9jYWxlLnZhbHVlLCBvcHRpb25zKSk7XHJcbiAgICBjb25zdCBfZGF0ZXRpbWVGb3JtYXRzID0gcmVmKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpXHJcbiAgICAgICAgPyBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1xyXG4gICAgICAgIDogeyBbX2xvY2FsZS52YWx1ZV06IHt9IH0pO1xyXG4gICAgY29uc3QgX251bWJlckZvcm1hdHMgPSByZWYoaXNQbGFpbk9iamVjdChvcHRpb25zLm51bWJlckZvcm1hdHMpXHJcbiAgICAgICAgPyBvcHRpb25zLm51bWJlckZvcm1hdHNcclxuICAgICAgICA6IHsgW19sb2NhbGUudmFsdWVdOiB7fSB9KTtcclxuICAgIC8vIHdhcm5pbmcgc3VwcHJlc3Mgb3B0aW9uc1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBsZXQgX21pc3NpbmdXYXJuID0gX19yb290XHJcbiAgICAgICAgPyBfX3Jvb3QubWlzc2luZ1dhcm5cclxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLm1pc3NpbmdXYXJuKVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cclxuICAgICAgICAgICAgOiB0cnVlO1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBsZXQgX2ZhbGxiYWNrV2FybiA9IF9fcm9vdFxyXG4gICAgICAgID8gX19yb290LmZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLmZhbGxiYWNrV2FybilcclxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxyXG4gICAgICAgICAgICA6IHRydWU7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGxldCBfZmFsbGJhY2tSb290ID0gX19yb290XHJcbiAgICAgICAgPyBfX3Jvb3QuZmFsbGJhY2tSb290XHJcbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1Jvb3QpXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1Jvb3RcclxuICAgICAgICAgICAgOiB0cnVlO1xyXG4gICAgLy8gY29uZmlndXJlIGZhbGwgYmFjayB0byByb290XHJcbiAgICBsZXQgX2ZhbGxiYWNrRm9ybWF0ID0gISFvcHRpb25zLmZhbGxiYWNrRm9ybWF0O1xyXG4gICAgLy8gcnVudGltZSBtaXNzaW5nXHJcbiAgICBsZXQgX21pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiBudWxsO1xyXG4gICAgbGV0IF9ydW50aW1lTWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKVxyXG4gICAgICAgID8gZGVmaW5lQ29yZU1pc3NpbmdIYW5kbGVyKG9wdGlvbnMubWlzc2luZylcclxuICAgICAgICA6IG51bGw7XHJcbiAgICAvLyBwb3N0VHJhbnNsYXRpb24gaGFuZGxlclxyXG4gICAgbGV0IF9wb3N0VHJhbnNsYXRpb24gPSBpc0Z1bmN0aW9uKG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uKVxyXG4gICAgICAgID8gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb25cclxuICAgICAgICA6IG51bGw7XHJcbiAgICBsZXQgX3dhcm5IdG1sTWVzc2FnZSA9IGlzQm9vbGVhbihvcHRpb25zLndhcm5IdG1sTWVzc2FnZSlcclxuICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlXHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgbGV0IF9lc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyO1xyXG4gICAgLy8gY3VzdG9tIGxpbmtlZCBtb2RpZmllcnNcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgX21vZGlmaWVycyA9IF9fcm9vdFxyXG4gICAgICAgID8gX19yb290Lm1vZGlmaWVyc1xyXG4gICAgICAgIDogaXNQbGFpbk9iamVjdChvcHRpb25zLm1vZGlmaWVycylcclxuICAgICAgICAgICAgPyBvcHRpb25zLm1vZGlmaWVyc1xyXG4gICAgICAgICAgICA6IHt9O1xyXG4gICAgLy8gcGx1cmFsUnVsZXNcclxuICAgIGxldCBfcGx1cmFsUnVsZXMgPSBvcHRpb25zLnBsdXJhbFJ1bGVzIHx8IChfX3Jvb3QgJiYgX19yb290LnBsdXJhbFJ1bGVzKTtcclxuICAgIC8vIHJ1bnRpbWUgY29udGV4dFxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxyXG4gICAgbGV0IF9jb250ZXh0O1xyXG4gICAgZnVuY3Rpb24gZ2V0Q29yZUNvbnRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNvcmVDb250ZXh0KHtcclxuICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTixcclxuICAgICAgICAgICAgbG9jYWxlOiBfbG9jYWxlLnZhbHVlLFxyXG4gICAgICAgICAgICBmYWxsYmFja0xvY2FsZTogX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlczogX21lc3NhZ2VzLnZhbHVlLFxyXG4gICAgICAgICAgICBkYXRldGltZUZvcm1hdHM6IF9kYXRldGltZUZvcm1hdHMudmFsdWUsXHJcbiAgICAgICAgICAgIG51bWJlckZvcm1hdHM6IF9udW1iZXJGb3JtYXRzLnZhbHVlLFxyXG4gICAgICAgICAgICBtb2RpZmllcnM6IF9tb2RpZmllcnMsXHJcbiAgICAgICAgICAgIHBsdXJhbFJ1bGVzOiBfcGx1cmFsUnVsZXMsXHJcbiAgICAgICAgICAgIG1pc3Npbmc6IF9ydW50aW1lTWlzc2luZyA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IF9ydW50aW1lTWlzc2luZyxcclxuICAgICAgICAgICAgbWlzc2luZ1dhcm46IF9taXNzaW5nV2FybixcclxuICAgICAgICAgICAgZmFsbGJhY2tXYXJuOiBfZmFsbGJhY2tXYXJuLFxyXG4gICAgICAgICAgICBmYWxsYmFja0Zvcm1hdDogX2ZhbGxiYWNrRm9ybWF0LFxyXG4gICAgICAgICAgICB1bnJlc29sdmluZzogdHJ1ZSxcclxuICAgICAgICAgICAgcG9zdFRyYW5zbGF0aW9uOiBfcG9zdFRyYW5zbGF0aW9uID09PSBudWxsID8gdW5kZWZpbmVkIDogX3Bvc3RUcmFuc2xhdGlvbixcclxuICAgICAgICAgICAgd2Fybkh0bWxNZXNzYWdlOiBfd2Fybkh0bWxNZXNzYWdlLFxyXG4gICAgICAgICAgICBlc2NhcGVQYXJhbWV0ZXI6IF9lc2NhcGVQYXJhbWV0ZXIsXHJcbiAgICAgICAgICAgIF9fZGF0ZXRpbWVGb3JtYXR0ZXJzOiBpc1BsYWluT2JqZWN0KF9jb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgPyBfY29udGV4dC5fX2RhdGV0aW1lRm9ybWF0dGVyc1xyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIF9fbnVtYmVyRm9ybWF0dGVyczogaXNQbGFpbk9iamVjdChfY29udGV4dClcclxuICAgICAgICAgICAgICAgID8gX2NvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgX192X2VtaXR0ZXI6IGlzUGxhaW5PYmplY3QoX2NvbnRleHQpXHJcbiAgICAgICAgICAgICAgICA/IF9jb250ZXh0Ll9fdl9lbWl0dGVyXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgX19tZXRhOiB7IGZyYW1ld29yazogJ3Z1ZScgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2NvbnRleHQgPSBnZXRDb3JlQ29udGV4dCgpO1xyXG4gICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XHJcbiAgICAvLyB0cmFjayByZWFjdGl2aXR5XHJcbiAgICBmdW5jdGlvbiB0cmFja1JlYWN0aXZpdHlWYWx1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSxcclxuICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLFxyXG4gICAgICAgICAgICBfbWVzc2FnZXMudmFsdWUsXHJcbiAgICAgICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWUsXHJcbiAgICAgICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIC8vIGxvY2FsZVxyXG4gICAgY29uc3QgbG9jYWxlID0gY29tcHV0ZWQoe1xyXG4gICAgICAgIGdldDogKCkgPT4gX2xvY2FsZS52YWx1ZSxcclxuICAgICAgICBzZXQ6IHZhbCA9PiB7XHJcbiAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgIF9jb250ZXh0LmxvY2FsZSA9IF9sb2NhbGUudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBmYWxsYmFja0xvY2FsZVxyXG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBjb21wdXRlZCh7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXHJcbiAgICAgICAgc2V0OiB2YWwgPT4ge1xyXG4gICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrTG9jYWxlID0gX2ZhbGxiYWNrTG9jYWxlLnZhbHVlO1xyXG4gICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgdmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIG1lc3NhZ2VzXHJcbiAgICBjb25zdCBtZXNzYWdlcyA9IGNvbXB1dGVkKCgpID0+IF9tZXNzYWdlcy52YWx1ZSk7XHJcbiAgICAvLyBkYXRldGltZUZvcm1hdHNcclxuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IGNvbXB1dGVkKCgpID0+IF9kYXRldGltZUZvcm1hdHMudmFsdWUpO1xyXG4gICAgLy8gbnVtYmVyRm9ybWF0c1xyXG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IGNvbXB1dGVkKCgpID0+IF9udW1iZXJGb3JtYXRzLnZhbHVlKTtcclxuICAgIC8vIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXJcclxuICAgIGZ1bmN0aW9uIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oX3Bvc3RUcmFuc2xhdGlvbikgPyBfcG9zdFRyYW5zbGF0aW9uIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8vIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXJcclxuICAgIGZ1bmN0aW9uIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgICAgIF9wb3N0VHJhbnNsYXRpb24gPSBoYW5kbGVyO1xyXG4gICAgICAgIF9jb250ZXh0LnBvc3RUcmFuc2xhdGlvbiA9IGhhbmRsZXI7XHJcbiAgICB9XHJcbiAgICAvLyBnZXRNaXNzaW5nSGFuZGxlclxyXG4gICAgZnVuY3Rpb24gZ2V0TWlzc2luZ0hhbmRsZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9taXNzaW5nO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0TWlzc2luZ0hhbmRsZXJcclxuICAgIGZ1bmN0aW9uIHNldE1pc3NpbmdIYW5kbGVyKGhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoaGFuZGxlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBfcnVudGltZU1pc3NpbmcgPSBkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIoaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9taXNzaW5nID0gaGFuZGxlcjtcclxuICAgICAgICBfY29udGV4dC5taXNzaW5nID0gX3J1bnRpbWVNaXNzaW5nO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNSZXNvbHZlZFRyYW5zbGF0ZU1lc3NhZ2UodHlwZSwgYXJnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGUgIT09ICd0cmFuc2xhdGUnIHx8ICEhYXJnLnJlc29sdmVkTWVzc2FnZSA9PT0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB3cmFwV2l0aERlcHMoZm4sIGFyZ3VtZW50UGFyc2VyLCB3YXJuVHlwZSwgZmFsbGJhY2tTdWNjZXNzLCBmYWxsYmFja0ZhaWwsIHN1Y2Nlc3NDb25kaXRpb24pIHtcclxuICAgICAgICB0cmFja1JlYWN0aXZpdHlWYWx1ZXMoKTsgLy8gdHJhY2sgcmVhY3RpdmUgZGVwZW5kZW5jeVxyXG4gICAgICAgIC8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxyXG4gICAgICAgIGxldCByZXQ7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzZXRBZGRpdGlvbmFsTWV0YShnZXRNZXRhSW5mbygpKTtcclxuICAgICAgICAgICAgICAgIHJldCA9IGZuKF9jb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHNldEFkZGl0aW9uYWxNZXRhKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXQgPSBmbihfY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc051bWJlcihyZXQpICYmIHJldCA9PT0gTk9UX1JFT1NMVkVEKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIGFyZzJdID0gYXJndW1lbnRQYXJzZXIoKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgX19yb290ICYmXHJcbiAgICAgICAgICAgICAgICBpc1N0cmluZyhrZXkpICYmXHJcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkVHJhbnNsYXRlTWVzc2FnZSh3YXJuVHlwZSwgYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfZmFsbGJhY2tSb290ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKF9mYWxsYmFja1dhcm4sIGtleSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcmFuc2xhdGVNaXNzaW5nV2FybihfbWlzc2luZ1dhcm4sIGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg2IC8qIEZBTExCQUNLX1RPX1JPT1QgKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB3YXJuVHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IF9fdl9lbWl0dGVyOiBlbWl0dGVyIH0gPSBfY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW1pdHRlciAmJiBfZmFsbGJhY2tSb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogRkFMQkFDSyAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogd2FyblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogJ2dsb2JhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt3YXJuVHlwZX06JHtrZXl9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9fcm9vdCAmJiBfZmFsbGJhY2tSb290XHJcbiAgICAgICAgICAgICAgICA/IGZhbGxiYWNrU3VjY2VzcyhfX3Jvb3QpXHJcbiAgICAgICAgICAgICAgICA6IGZhbGxiYWNrRmFpbChrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzdWNjZXNzQ29uZGl0aW9uKHJldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigxNCAvKiBVTkVYUEVDVEVEX1JFVFVSTl9UWVBFICovKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB0XHJcbiAgICBmdW5jdGlvbiB0KC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gdHJhbnNsYXRlKGNvbnRleHQsIC4uLmFyZ3MpLCAoKSA9PiBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyksICd0cmFuc2xhdGUnLCByb290ID0+IHJvb3QudCguLi5hcmdzKSwga2V5ID0+IGtleSwgdmFsID0+IGlzU3RyaW5nKHZhbCkpO1xyXG4gICAgfVxyXG4gICAgLy8gcnRcclxuICAgIGZ1bmN0aW9uIHJ0KC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnM10gPSBhcmdzO1xyXG4gICAgICAgIGlmIChhcmczICYmICFpc09iamVjdChhcmczKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMTUgLyogSU5WQUxJRF9BUkdVTUVOVCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0KC4uLlthcmcxLCBhcmcyLCBhc3NpZ24oeyByZXNvbHZlZE1lc3NhZ2U6IHRydWUgfSwgYXJnMyB8fCB7fSldKTtcclxuICAgIH1cclxuICAgIC8vIGRcclxuICAgIGZ1bmN0aW9uIGQoLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBkYXRldGltZShjb250ZXh0LCAuLi5hcmdzKSwgKCkgPT4gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncyksICdkYXRldGltZSBmb3JtYXQnLCByb290ID0+IHJvb3QuZCguLi5hcmdzKSwgKCkgPT4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCB2YWwgPT4gaXNTdHJpbmcodmFsKSk7XHJcbiAgICB9XHJcbiAgICAvLyBuXHJcbiAgICBmdW5jdGlvbiBuKC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gbnVtYmVyKGNvbnRleHQsIC4uLmFyZ3MpLCAoKSA9PiBwYXJzZU51bWJlckFyZ3MoLi4uYXJncyksICdudW1iZXIgZm9ybWF0Jywgcm9vdCA9PiByb290Lm4oLi4uYXJncyksICgpID0+IE1JU1NJTkdfUkVTT0xWRV9WQUxVRSwgdmFsID0+IGlzU3RyaW5nKHZhbCkpO1xyXG4gICAgfVxyXG4gICAgLy8gZm9yIGN1c3RvbSBwcm9jZXNzb3JcclxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZXMpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWVzLm1hcCh2YWwgPT4gaXNTdHJpbmcodmFsKSA/IGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHZhbCwgMCkgOiB2YWwpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW50ZXJwb2xhdGUgPSAodmFsKSA9PiB2YWw7XHJcbiAgICBjb25zdCBwcm9jZXNzb3IgPSB7XHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIGludGVycG9sYXRlLFxyXG4gICAgICAgIHR5cGU6ICd2bm9kZSdcclxuICAgIH07XHJcbiAgICAvLyB0cmFuc3JhdGVWTm9kZSwgdXNpbmcgZm9yIGBpMThuLXRgIGNvbXBvbmVudFxyXG4gICAgZnVuY3Rpb24gdHJhbnNyYXRlVk5vZGUoLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IF9jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcclxuICAgICAgICAgICAgICAgIHJldCA9IHRyYW5zbGF0ZShfY29udGV4dCwgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcm9jZXNzb3IgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfSwgKCkgPT4gcGFyc2VUcmFuc2xhdGVBcmdzKC4uLmFyZ3MpLCAndHJhbnNsYXRlJywgXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICByb290ID0+IHJvb3RbVHJhbnNyYXRlVk5vZGVTeW1ib2xdKC4uLmFyZ3MpLCBrZXkgPT4gW2NyZWF0ZVZOb2RlKFRleHQsIG51bGwsIGtleSwgMCldLCB2YWwgPT4gaXNBcnJheSh2YWwpKTtcclxuICAgIH1cclxuICAgIC8vIG51bWJlclBhcnRzLCB1c2luZyBmb3IgYGkxOG4tbmAgY29tcG9uZW50XHJcbiAgICBmdW5jdGlvbiBudW1iZXJQYXJ0cyguLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IG51bWJlcihjb250ZXh0LCAuLi5hcmdzKSwgKCkgPT4gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpLCAnbnVtYmVyIGZvcm1hdCcsIFxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgcm9vdCA9PiByb290W051bWJlclBhcnRzU3ltYm9sXSguLi5hcmdzKSwgKCkgPT4gW10sIHZhbCA9PiBpc1N0cmluZyh2YWwpIHx8IGlzQXJyYXkodmFsKSk7XHJcbiAgICB9XHJcbiAgICAvLyBkYXRldGltZVBhcnRzLCB1c2luZyBmb3IgYGkxOG4tZGAgY29tcG9uZW50XHJcbiAgICBmdW5jdGlvbiBkYXRldGltZVBhcnRzKC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gZGF0ZXRpbWUoY29udGV4dCwgLi4uYXJncyksICgpID0+IHBhcnNlRGF0ZVRpbWVBcmdzKC4uLmFyZ3MpLCAnZGF0ZXRpbWUgZm9ybWF0JywgXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICByb290ID0+IHJvb3RbRGF0ZXRpbWVQYXJ0c1N5bWJvbF0oLi4uYXJncyksICgpID0+IFtdLCB2YWwgPT4gaXNTdHJpbmcodmFsKSB8fCBpc0FycmF5KHZhbCkpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0UGx1cmFsUnVsZXMocnVsZXMpIHtcclxuICAgICAgICBfcGx1cmFsUnVsZXMgPSBydWxlcztcclxuICAgICAgICBfY29udGV4dC5wbHVyYWxSdWxlcyA9IF9wbHVyYWxSdWxlcztcclxuICAgIH1cclxuICAgIC8vIHRlXHJcbiAgICBmdW5jdGlvbiB0ZShrZXksIGxvY2FsZSkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldExvY2FsZSA9IGlzU3RyaW5nKGxvY2FsZSkgPyBsb2NhbGUgOiBfbG9jYWxlLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRMb2NhbGVNZXNzYWdlKHRhcmdldExvY2FsZSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVWYWx1ZShtZXNzYWdlLCBrZXkpICE9PSBudWxsO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZU1lc3NhZ2VzKGtleSkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlcyA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgbG9jYWxlcyA9IGdldExvY2FsZUNoYWluKF9jb250ZXh0LCBfZmFsbGJhY2tMb2NhbGUudmFsdWUsIF9sb2NhbGUudmFsdWUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMb2NhbGVNZXNzYWdlcyA9IF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVzW2ldXSB8fCB7fTtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZVZhbHVlID0gcmVzb2x2ZVZhbHVlKHRhcmdldExvY2FsZU1lc3NhZ2VzLCBrZXkpO1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZVZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xyXG4gICAgfVxyXG4gICAgLy8gdG1cclxuICAgIGZ1bmN0aW9uIHRtKGtleSkge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVzb2x2ZU1lc3NhZ2VzKGtleSk7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzICE9IG51bGxcclxuICAgICAgICAgICAgPyBtZXNzYWdlc1xyXG4gICAgICAgICAgICA6IF9fcm9vdFxyXG4gICAgICAgICAgICAgICAgPyBfX3Jvb3QudG0oa2V5KSB8fCB7fVxyXG4gICAgICAgICAgICAgICAgOiB7fTtcclxuICAgIH1cclxuICAgIC8vIGdldExvY2FsZU1lc3NhZ2VcclxuICAgIGZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIChfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSB8fCB7fSk7XHJcbiAgICB9XHJcbiAgICAvLyBzZXRMb2NhbGVNZXNzYWdlXHJcbiAgICBmdW5jdGlvbiBzZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdID0gbWVzc2FnZTtcclxuICAgICAgICBfY29udGV4dC5tZXNzYWdlcyA9IF9tZXNzYWdlcy52YWx1ZTtcclxuICAgIH1cclxuICAgIC8vIG1lcmdlTG9jYWxlTWVzc2FnZVxyXG4gICAgZnVuY3Rpb24gbWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdID0gX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gfHwge307XHJcbiAgICAgICAgZGVlcENvcHkobWVzc2FnZSwgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0pO1xyXG4gICAgICAgIF9jb250ZXh0Lm1lc3NhZ2VzID0gX21lc3NhZ2VzLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgLy8gZ2V0RGF0ZVRpbWVGb3JtYXRcclxuICAgIGZ1bmN0aW9uIGdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge307XHJcbiAgICB9XHJcbiAgICAvLyBzZXREYXRlVGltZUZvcm1hdFxyXG4gICAgZnVuY3Rpb24gc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBmb3JtYXQ7XHJcbiAgICAgICAgX2NvbnRleHQuZGF0ZXRpbWVGb3JtYXRzID0gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZTtcclxuICAgICAgICBjbGVhckRhdGVUaW1lRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICAvLyBtZXJnZURhdGVUaW1lRm9ybWF0XHJcbiAgICBmdW5jdGlvbiBtZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gYXNzaWduKF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSB8fCB7fSwgZm9ybWF0KTtcclxuICAgICAgICBfY29udGV4dC5kYXRldGltZUZvcm1hdHMgPSBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xyXG4gICAgICAgIGNsZWFyRGF0ZVRpbWVGb3JtYXQoX2NvbnRleHQsIGxvY2FsZSwgZm9ybWF0KTtcclxuICAgIH1cclxuICAgIC8vIGdldE51bWJlckZvcm1hdFxyXG4gICAgZnVuY3Rpb24gZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9O1xyXG4gICAgfVxyXG4gICAgLy8gc2V0TnVtYmVyRm9ybWF0XHJcbiAgICBmdW5jdGlvbiBzZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gZm9ybWF0O1xyXG4gICAgICAgIF9jb250ZXh0Lm51bWJlckZvcm1hdHMgPSBfbnVtYmVyRm9ybWF0cy52YWx1ZTtcclxuICAgICAgICBjbGVhck51bWJlckZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgLy8gbWVyZ2VOdW1iZXJGb3JtYXRcclxuICAgIGZ1bmN0aW9uIG1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGFzc2lnbihfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9LCBmb3JtYXQpO1xyXG4gICAgICAgIF9jb250ZXh0Lm51bWJlckZvcm1hdHMgPSBfbnVtYmVyRm9ybWF0cy52YWx1ZTtcclxuICAgICAgICBjbGVhck51bWJlckZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgLy8gZm9yIGRlYnVnXHJcbiAgICBjb21wb3NlcklEKys7XHJcbiAgICAvLyB3YXRjaCByb290IGxvY2FsZSAmIGZhbGxiYWNrTG9jYWxlXHJcbiAgICBpZiAoX19yb290KSB7XHJcbiAgICAgICAgd2F0Y2goX19yb290LmxvY2FsZSwgKHZhbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoX2luaGVyaXRMb2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5sb2NhbGUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdhdGNoKF9fcm9vdC5mYWxsYmFja0xvY2FsZSwgKHZhbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoX2luaGVyaXRMb2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrTG9jYWxlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGRlZmluZSBjb21wb3NpdGlvbiBBUEkhXHJcbiAgICBjb25zdCBjb21wb3NlciA9IHtcclxuICAgICAgICBpZDogY29tcG9zZXJJRCxcclxuICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUsXHJcbiAgICAgICAgZ2V0IGluaGVyaXRMb2NhbGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfaW5oZXJpdExvY2FsZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBpbmhlcml0TG9jYWxlKHZhbCkge1xyXG4gICAgICAgICAgICBfaW5oZXJpdExvY2FsZSA9IHZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCAmJiBfX3Jvb3QpIHtcclxuICAgICAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSBfX3Jvb3QubG9jYWxlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gX19yb290LmZhbGxiYWNrTG9jYWxlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBhdmFpbGFibGVMb2NhbGVzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoX21lc3NhZ2VzLnZhbHVlKS5zb3J0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXNzYWdlcyxcclxuICAgICAgICBkYXRldGltZUZvcm1hdHMsXHJcbiAgICAgICAgbnVtYmVyRm9ybWF0cyxcclxuICAgICAgICBnZXQgbW9kaWZpZXJzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX21vZGlmaWVycztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBwbHVyYWxSdWxlcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9wbHVyYWxSdWxlcyB8fCB7fTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBpc0dsb2JhbCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9pc0dsb2JhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBtaXNzaW5nV2FybigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9taXNzaW5nV2FybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBtaXNzaW5nV2Fybih2YWwpIHtcclxuICAgICAgICAgICAgX21pc3NpbmdXYXJuID0gdmFsO1xyXG4gICAgICAgICAgICBfY29udGV4dC5taXNzaW5nV2FybiA9IF9taXNzaW5nV2FybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBmYWxsYmFja1dhcm4oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfZmFsbGJhY2tXYXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZhbGxiYWNrV2Fybih2YWwpIHtcclxuICAgICAgICAgICAgX2ZhbGxiYWNrV2FybiA9IHZhbDtcclxuICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tXYXJuID0gX2ZhbGxiYWNrV2FybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBmYWxsYmFja1Jvb3QoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfZmFsbGJhY2tSb290O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZhbGxiYWNrUm9vdCh2YWwpIHtcclxuICAgICAgICAgICAgX2ZhbGxiYWNrUm9vdCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBmYWxsYmFja0Zvcm1hdCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja0Zvcm1hdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBmYWxsYmFja0Zvcm1hdCh2YWwpIHtcclxuICAgICAgICAgICAgX2ZhbGxiYWNrRm9ybWF0ID0gdmFsO1xyXG4gICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja0Zvcm1hdCA9IF9mYWxsYmFja0Zvcm1hdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCB3YXJuSHRtbE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfd2Fybkh0bWxNZXNzYWdlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IHdhcm5IdG1sTWVzc2FnZSh2YWwpIHtcclxuICAgICAgICAgICAgX3dhcm5IdG1sTWVzc2FnZSA9IHZhbDtcclxuICAgICAgICAgICAgX2NvbnRleHQud2Fybkh0bWxNZXNzYWdlID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGVzY2FwZVBhcmFtZXRlcigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9lc2NhcGVQYXJhbWV0ZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgZXNjYXBlUGFyYW1ldGVyKHZhbCkge1xyXG4gICAgICAgICAgICBfZXNjYXBlUGFyYW1ldGVyID0gdmFsO1xyXG4gICAgICAgICAgICBfY29udGV4dC5lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0LFxyXG4gICAgICAgIHJ0LFxyXG4gICAgICAgIGQsXHJcbiAgICAgICAgbixcclxuICAgICAgICB0ZSxcclxuICAgICAgICB0bSxcclxuICAgICAgICBnZXRMb2NhbGVNZXNzYWdlLFxyXG4gICAgICAgIHNldExvY2FsZU1lc3NhZ2UsXHJcbiAgICAgICAgbWVyZ2VMb2NhbGVNZXNzYWdlLFxyXG4gICAgICAgIGdldERhdGVUaW1lRm9ybWF0LFxyXG4gICAgICAgIHNldERhdGVUaW1lRm9ybWF0LFxyXG4gICAgICAgIG1lcmdlRGF0ZVRpbWVGb3JtYXQsXHJcbiAgICAgICAgZ2V0TnVtYmVyRm9ybWF0LFxyXG4gICAgICAgIHNldE51bWJlckZvcm1hdCxcclxuICAgICAgICBtZXJnZU51bWJlckZvcm1hdCxcclxuICAgICAgICBnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyLFxyXG4gICAgICAgIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIsXHJcbiAgICAgICAgZ2V0TWlzc2luZ0hhbmRsZXIsXHJcbiAgICAgICAgc2V0TWlzc2luZ0hhbmRsZXIsXHJcbiAgICAgICAgW1RyYW5zcmF0ZVZOb2RlU3ltYm9sXTogdHJhbnNyYXRlVk5vZGUsXHJcbiAgICAgICAgW051bWJlclBhcnRzU3ltYm9sXTogbnVtYmVyUGFydHMsXHJcbiAgICAgICAgW0RhdGV0aW1lUGFydHNTeW1ib2xdOiBkYXRldGltZVBhcnRzLFxyXG4gICAgICAgIFtTZXRQbHVyYWxSdWxlc1N5bWJvbF06IHNldFBsdXJhbFJ1bGVzLFxyXG4gICAgICAgIFtJbmVqY3RXaXRoT3B0aW9uXTogb3B0aW9ucy5fX2luamVjdFdpdGhPcHRpb24gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB9O1xyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdID0gKGVtaXR0ZXIpID0+IHtcclxuICAgICAgICAgICAgX2NvbnRleHQuX192X2VtaXR0ZXIgPSBlbWl0dGVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBfY29udGV4dC5fX3ZfZW1pdHRlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbXBvc2VyO1xyXG59XG5cbi8qKlxyXG4gKiBDb252ZXJ0IHRvIEkxOG4gQ29tcG9zZXIgT3B0aW9ucyBmcm9tIFZ1ZUkxOG4gT3B0aW9uc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIGNvbnZlcnRDb21wb3Nlck9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgY29uc3QgbG9jYWxlID0gaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpID8gb3B0aW9ucy5sb2NhbGUgOiAnZW4tVVMnO1xyXG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgIGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcclxuICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XHJcbiAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcclxuICAgICAgICA6IGxvY2FsZTtcclxuICAgIGNvbnN0IG1pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybikgfHxcclxuICAgICAgICBpc1JlZ0V4cChvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybilcclxuICAgICAgICA/ICFvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FyblxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybikgfHxcclxuICAgICAgICBpc1JlZ0V4cChvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybilcclxuICAgICAgICA/ICFvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IGZhbGxiYWNrUm9vdCA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrUm9vdClcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tSb290XHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgY29uc3QgZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcztcclxuICAgIGNvbnN0IG1vZGlmaWVycyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tb2RpZmllcnMpID8gb3B0aW9ucy5tb2RpZmllcnMgOiB7fTtcclxuICAgIGNvbnN0IHBsdXJhbGl6YXRpb25SdWxlcyA9IG9wdGlvbnMucGx1cmFsaXphdGlvblJ1bGVzO1xyXG4gICAgY29uc3QgcG9zdFRyYW5zbGF0aW9uID0gaXNGdW5jdGlvbihvcHRpb25zLnBvc3RUcmFuc2xhdGlvbilcclxuICAgICAgICA/IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc1N0cmluZyhvcHRpb25zLndhcm5IdG1sSW5NZXNzYWdlKVxyXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSAhPT0gJ29mZidcclxuICAgICAgICA6IHRydWU7XHJcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVySHRtbDtcclxuICAgIGNvbnN0IGluaGVyaXRMb2NhbGUgPSBpc0Jvb2xlYW4ob3B0aW9ucy5zeW5jKSA/IG9wdGlvbnMuc3luYyA6IHRydWU7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG9wdGlvbnMuZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg4IC8qIE5PVF9TVVBQT1JURURfRk9STUFUVEVSICovKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG9wdGlvbnMucHJlc2VydmVEaXJlY3RpdmVDb250ZW50KSB7XHJcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg5IC8qIE5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFICovKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgbWVzc2FnZXMgPSBvcHRpb25zLm1lc3NhZ2VzO1xyXG4gICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5zaGFyZWRNZXNzYWdlcykpIHtcclxuICAgICAgICBjb25zdCBzaGFyZWRNZXNzYWdlcyA9IG9wdGlvbnMuc2hhcmVkTWVzc2FnZXM7XHJcbiAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKHNoYXJlZE1lc3NhZ2VzKTtcclxuICAgICAgICBtZXNzYWdlcyA9IGxvY2FsZXMucmVkdWNlKChtZXNzYWdlcywgbG9jYWxlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tsb2NhbGVdIHx8IChtZXNzYWdlc1tsb2NhbGVdID0ge30pO1xyXG4gICAgICAgICAgICBhc3NpZ24obWVzc2FnZSwgc2hhcmVkTWVzc2FnZXNbbG9jYWxlXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgICAgICB9LCAobWVzc2FnZXMgfHwge30pKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgX19pMThuLCBfX3Jvb3QsIF9faW5qZWN0V2l0aE9wdGlvbiB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzO1xyXG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IG9wdGlvbnMubnVtYmVyRm9ybWF0cztcclxuICAgIGNvbnN0IGZsYXRKc29uID0gb3B0aW9ucy5mbGF0SnNvbjtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxyXG4gICAgICAgIG1lc3NhZ2VzLFxyXG4gICAgICAgIGZsYXRKc29uLFxyXG4gICAgICAgIGRhdGV0aW1lRm9ybWF0cyxcclxuICAgICAgICBudW1iZXJGb3JtYXRzLFxyXG4gICAgICAgIG1pc3NpbmcsXHJcbiAgICAgICAgbWlzc2luZ1dhcm4sXHJcbiAgICAgICAgZmFsbGJhY2tXYXJuLFxyXG4gICAgICAgIGZhbGxiYWNrUm9vdCxcclxuICAgICAgICBmYWxsYmFja0Zvcm1hdCxcclxuICAgICAgICBtb2RpZmllcnMsXHJcbiAgICAgICAgcGx1cmFsUnVsZXM6IHBsdXJhbGl6YXRpb25SdWxlcyxcclxuICAgICAgICBwb3N0VHJhbnNsYXRpb24sXHJcbiAgICAgICAgd2Fybkh0bWxNZXNzYWdlLFxyXG4gICAgICAgIGVzY2FwZVBhcmFtZXRlcixcclxuICAgICAgICBpbmhlcml0TG9jYWxlLFxyXG4gICAgICAgIF9faTE4bixcclxuICAgICAgICBfX3Jvb3QsXHJcbiAgICAgICAgX19pbmplY3RXaXRoT3B0aW9uXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBjcmVhdGUgVnVlSTE4biBpbnRlcmZhY2UgZmFjdG9yeVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZ1ZUkxOG4ob3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCBjb21wb3NlciA9IGNyZWF0ZUNvbXBvc2VyKGNvbnZlcnRDb21wb3Nlck9wdGlvbnMob3B0aW9ucykpO1xyXG4gICAgLy8gZGVmaW5lcyBWdWVJMThuXHJcbiAgICBjb25zdCB2dWVJMThuID0ge1xyXG4gICAgICAgIC8vIGlkXHJcbiAgICAgICAgaWQ6IGNvbXBvc2VyLmlkLFxyXG4gICAgICAgIC8vIGxvY2FsZVxyXG4gICAgICAgIGdldCBsb2NhbGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5sb2NhbGUudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgbG9jYWxlKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5sb2NhbGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBmYWxsYmFja0xvY2FsZVxyXG4gICAgICAgIGdldCBmYWxsYmFja0xvY2FsZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZhbGxiYWNrTG9jYWxlKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG1lc3NhZ2VzXHJcbiAgICAgICAgZ2V0IG1lc3NhZ2VzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubWVzc2FnZXMudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBkYXRldGltZUZvcm1hdHNcclxuICAgICAgICBnZXQgZGF0ZXRpbWVGb3JtYXRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbnVtYmVyRm9ybWF0c1xyXG4gICAgICAgIGdldCBudW1iZXJGb3JtYXRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGF2YWlsYWJsZUxvY2FsZXNcclxuICAgICAgICBnZXQgYXZhaWxhYmxlTG9jYWxlcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmF2YWlsYWJsZUxvY2FsZXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBmb3JtYXR0ZXJcclxuICAgICAgICBnZXQgZm9ybWF0dGVyKCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihnZXRXYXJuTWVzc2FnZSg4IC8qIE5PVF9TVVBQT1JURURfRk9STUFUVEVSICovKSk7XHJcbiAgICAgICAgICAgIC8vIGR1bW15XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgZm9ybWF0dGVyKHZhbCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihnZXRXYXJuTWVzc2FnZSg4IC8qIE5PVF9TVVBQT1JURURfRk9STUFUVEVSICovKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBtaXNzaW5nXHJcbiAgICAgICAgZ2V0IG1pc3NpbmcoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRNaXNzaW5nSGFuZGxlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IG1pc3NpbmcoaGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5zZXRNaXNzaW5nSGFuZGxlcihoYW5kbGVyKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHNpbGVudFRyYW5zbGF0aW9uV2FyblxyXG4gICAgICAgIGdldCBzaWxlbnRUcmFuc2xhdGlvbldhcm4oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0Jvb2xlYW4oY29tcG9zZXIubWlzc2luZ1dhcm4pXHJcbiAgICAgICAgICAgICAgICA/ICFjb21wb3Nlci5taXNzaW5nV2FyblxyXG4gICAgICAgICAgICAgICAgOiBjb21wb3Nlci5taXNzaW5nV2FybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBzaWxlbnRUcmFuc2xhdGlvbldhcm4odmFsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyLm1pc3NpbmdXYXJuID0gaXNCb29sZWFuKHZhbCkgPyAhdmFsIDogdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gc2lsZW50RmFsbGJhY2tXYXJuXHJcbiAgICAgICAgZ2V0IHNpbGVudEZhbGxiYWNrV2FybigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzQm9vbGVhbihjb21wb3Nlci5mYWxsYmFja1dhcm4pXHJcbiAgICAgICAgICAgICAgICA/ICFjb21wb3Nlci5mYWxsYmFja1dhcm5cclxuICAgICAgICAgICAgICAgIDogY29tcG9zZXIuZmFsbGJhY2tXYXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IHNpbGVudEZhbGxiYWNrV2Fybih2YWwpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKHZhbCkgPyAhdmFsIDogdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbW9kaWZpZXJzXHJcbiAgICAgICAgZ2V0IG1vZGlmaWVycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLm1vZGlmaWVycztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGZvcm1hdEZhbGxiYWNrTWVzc2FnZXNcclxuICAgICAgICBnZXQgZm9ybWF0RmFsbGJhY2tNZXNzYWdlcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZvcm1hdEZhbGxiYWNrTWVzc2FnZXModmFsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0ID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gcG9zdFRyYW5zbGF0aW9uXHJcbiAgICAgICAgZ2V0IHBvc3RUcmFuc2xhdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBwb3N0VHJhbnNsYXRpb24oaGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5zZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKGhhbmRsZXIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gc3luY1xyXG4gICAgICAgIGdldCBzeW5jKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuaW5oZXJpdExvY2FsZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBzeW5jKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5pbmhlcml0TG9jYWxlID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gd2FybkluSHRtbE1lc3NhZ2VcclxuICAgICAgICBnZXQgd2Fybkh0bWxJbk1lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci53YXJuSHRtbE1lc3NhZ2UgPyAnd2FybicgOiAnb2ZmJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCB3YXJuSHRtbEluTWVzc2FnZSh2YWwpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIud2Fybkh0bWxNZXNzYWdlID0gdmFsICE9PSAnb2ZmJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGVzY2FwZVBhcmFtZXRlckh0bWxcclxuICAgICAgICBnZXQgZXNjYXBlUGFyYW1ldGVySHRtbCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmVzY2FwZVBhcmFtZXRlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBlc2NhcGVQYXJhbWV0ZXJIdG1sKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnRcclxuICAgICAgICBnZXQgcHJlc2VydmVEaXJlY3RpdmVDb250ZW50KCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoOSAvKiBOT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSAqLykpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQodmFsKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg5IC8qIE5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFICovKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBwbHVyYWxpemF0aW9uUnVsZXNcclxuICAgICAgICBnZXQgcGx1cmFsaXphdGlvblJ1bGVzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIucGx1cmFsUnVsZXMgfHwge307XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBmb3IgaW50ZXJuYWxcclxuICAgICAgICBfX2NvbXBvc2VyOiBjb21wb3NlcixcclxuICAgICAgICAvLyB0XHJcbiAgICAgICAgdCguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgbGV0IGxpc3QgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgbmFtZWQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIWlzU3RyaW5nKGFyZzEpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMTUgLyogSU5WQUxJRF9BUkdVTUVOVCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnMTtcclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzIpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdCA9IGFyZzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgbmFtZWQgPSBhcmcyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnQoa2V5LCBsaXN0IHx8IG5hbWVkIHx8IHt9LCBvcHRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJ0KC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnJ0KC4uLmFyZ3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gdGNcclxuICAgICAgICB0YyguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHBsdXJhbDogMSB9O1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBuYW1lZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghaXNTdHJpbmcoYXJnMSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigxNSAvKiBJTlZBTElEX0FSR1VNRU5UICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhcmcxO1xyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc051bWJlcihhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmcyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3QgPSBhcmcyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIG5hbWVkID0gYXJnMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMykpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnQoa2V5LCBsaXN0IHx8IG5hbWVkIHx8IHt9LCBvcHRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHRlXHJcbiAgICAgICAgdGUoa2V5LCBsb2NhbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnRlKGtleSwgbG9jYWxlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHRtXHJcbiAgICAgICAgdG0oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci50bShrZXkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZ2V0TG9jYWxlTWVzc2FnZVxyXG4gICAgICAgIGdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBzZXRMb2NhbGVNZXNzYWdlXHJcbiAgICAgICAgc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbWVyZ2VMb2NhbGVNZXNzYWdlXHJcbiAgICAgICAgbWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGRcclxuICAgICAgICBkKC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmQoLi4uYXJncyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBnZXREYXRlVGltZUZvcm1hdFxyXG4gICAgICAgIGdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHNldERhdGVUaW1lRm9ybWF0XHJcbiAgICAgICAgc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbWVyZ2VEYXRlVGltZUZvcm1hdFxyXG4gICAgICAgIG1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBuXHJcbiAgICAgICAgbiguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5uKC4uLmFyZ3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZ2V0TnVtYmVyRm9ybWF0XHJcbiAgICAgICAgZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBzZXROdW1iZXJGb3JtYXRcclxuICAgICAgICBzZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG1lcmdlTnVtYmVyRm9ybWF0XHJcbiAgICAgICAgbWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZ2V0Q2hvaWNlSW5kZXhcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICAgICAgZ2V0Q2hvaWNlSW5kZXgoY2hvaWNlLCBjaG9pY2VzTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSgxMCAvKiBOT1RfU1VQUE9SVEVEX0dFVF9DSE9JQ0VfSU5ERVggKi8pKTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsXHJcbiAgICAgICAgX19vbkNvbXBvbmVudEluc3RhbmNlQ3JlYXRlZCh0YXJnZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBjb21wb25lbnRJbnN0YW5jZUNyZWF0ZWRMaXN0ZW5lciB9ID0gb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudEluc3RhbmNlQ3JlYXRlZExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZUNyZWF0ZWRMaXN0ZW5lcih0YXJnZXQsIHZ1ZUkxOG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB2dWVJMThuLl9fZW5hYmxlRW1pdHRlciA9IChlbWl0dGVyKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGNvbnN0IF9fY29tcG9zZXIgPSBjb21wb3NlcjtcclxuICAgICAgICAgICAgX19jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdKGVtaXR0ZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICBjb25zdCBfX2NvbXBvc2VyID0gY29tcG9zZXI7XHJcbiAgICAgICAgICAgIF9fY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdICYmIF9fY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB2dWVJMThuO1xyXG59XG5cbmNvbnN0IGJhc2VGb3JtYXRQcm9wcyA9IHtcclxuICAgIHRhZzoge1xyXG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdF1cclxuICAgIH0sXHJcbiAgICBsb2NhbGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmdcclxuICAgIH0sXHJcbiAgICBzY29wZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB2YWxpZGF0b3I6ICh2YWwpID0+IHZhbCA9PT0gJ3BhcmVudCcgfHwgdmFsID09PSAnZ2xvYmFsJyxcclxuICAgICAgICBkZWZhdWx0OiAncGFyZW50J1xyXG4gICAgfSxcclxuICAgIGkxOG46IHtcclxuICAgICAgICB0eXBlOiBPYmplY3RcclxuICAgIH1cclxufTtcblxuLyoqXHJcbiAqIFRyYW5zbGF0aW9uIENvbXBvbmVudFxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBTZWUgdGhlIGZvbGxvd2luZyBpdGVtcyBmb3IgcHJvcGVydHkgYWJvdXQgZGV0YWlsc1xyXG4gKlxyXG4gKiBAVnVlSTE4blNlZSBbVHJhbnNsYXRpb25Qcm9wc10oY29tcG9uZW50I3RyYW5zbGF0aW9ucHJvcHMpXHJcbiAqIEBWdWVJMThuU2VlIFtCYXNlRm9ybWF0UHJvcHNdKGNvbXBvbmVudCNiYXNlZm9ybWF0cHJvcHMpXHJcbiAqIEBWdWVJMThuU2VlIFtDb21wb25lbnQgSW50ZXJwb2xhdGlvbl0oLi4vZ3VpZGUvYWR2YW5jZWQvY29tcG9uZW50KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBodG1sXHJcbiAqIDxkaXYgaWQ9XCJhcHBcIj5cclxuICogICA8IS0tIC4uLiAtLT5cclxuICogICA8aTE4biBwYXRoPVwidGVybVwiIHRhZz1cImxhYmVsXCIgZm9yPVwidG9zXCI+XHJcbiAqICAgICA8YSA6aHJlZj1cInVybFwiIHRhcmdldD1cIl9ibGFua1wiPnt7ICR0KCd0b3MnKSB9fTwvYT5cclxuICogICA8L2kxOG4+XHJcbiAqICAgPCEtLSAuLi4gLS0+XHJcbiAqIDwvZGl2PlxyXG4gKiBgYGBcclxuICogYGBganNcclxuICogaW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJ1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVJMThuIH0gZnJvbSAndnVlLWkxOG4nXHJcbiAqXHJcbiAqIGNvbnN0IG1lc3NhZ2VzID0ge1xyXG4gKiAgIGVuOiB7XHJcbiAqICAgICB0b3M6ICdUZXJtIG9mIFNlcnZpY2UnLFxyXG4gKiAgICAgdGVybTogJ0kgYWNjZXB0IHh4eCB7MH0uJ1xyXG4gKiAgIH0sXHJcbiAqICAgamE6IHtcclxuICogICAgIHRvczogJ+WIqeeUqOimj+e0hCcsXHJcbiAqICAgICB0ZXJtOiAn56eB44GvIHh4eCDjga57MH3jgavlkIzmhI/jgZfjgb7jgZnjgIInXHJcbiAqICAgfVxyXG4gKiB9XHJcbiAqXHJcbiAqIGNvbnN0IGkxOG4gPSBjcmVhdGVJMThuKHtcclxuICogICBsb2NhbGU6ICdlbicsXHJcbiAqICAgbWVzc2FnZXNcclxuICogfSlcclxuICpcclxuICogY29uc3QgYXBwID0gY3JlYXRlQXBwKHtcclxuICogICBkYXRhOiB7XHJcbiAqICAgICB1cmw6ICcvdGVybSdcclxuICogICB9XHJcbiAqIH0pLnVzZShpMThuKS5tb3VudCgnI2FwcCcpXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAVnVlSTE4bkNvbXBvbmVudFxyXG4gKi9cclxuY29uc3QgVHJhbnNsYXRpb24gPSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4gICAgbmFtZTogJ2kxOG4tdCcsXHJcbiAgICBwcm9wczogYXNzaWduKHtcclxuICAgICAgICBrZXlwYXRoOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBsdXJhbDoge1xyXG4gICAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICB2YWxpZGF0b3I6ICh2YWwpID0+IGlzTnVtYmVyKHZhbCkgfHwgIWlzTmFOKHZhbClcclxuICAgICAgICB9XHJcbiAgICB9LCBiYXNlRm9ybWF0UHJvcHMpLFxyXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG4gICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCB7IHNsb3RzLCBhdHRycyB9ID0gY29udGV4dDtcclxuICAgICAgICBjb25zdCBpMThuID0gcHJvcHMuaTE4biB8fFxyXG4gICAgICAgICAgICB1c2VJMThuKHtcclxuICAgICAgICAgICAgICAgIHVzZVNjb3BlOiBwcm9wcy5zY29wZSxcclxuICAgICAgICAgICAgICAgIF9fdXNlQ29tcG9uZW50OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzbG90cykuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdfJyk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICBpZiAocHJvcHMubG9jYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IHByb3BzLmxvY2FsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvcHMucGx1cmFsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMucGx1cmFsID0gaXNTdHJpbmcocHJvcHMucGx1cmFsKSA/ICtwcm9wcy5wbHVyYWwgOiBwcm9wcy5wbHVyYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXJnID0gZ2V0SW50ZXJwb2xhdGVBcmcoY29udGV4dCwga2V5cyk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gaTE4bltUcmFuc3JhdGVWTm9kZVN5bWJvbF0ocHJvcHMua2V5cGF0aCwgYXJnLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgY29uc3QgYXNzaWduZWRBdHRycyA9IGFzc2lnbih7fSwgYXR0cnMpO1xyXG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHByb3BzLnRhZylcclxuICAgICAgICAgICAgICAgID8gaChwcm9wcy50YWcsIGFzc2lnbmVkQXR0cnMsIGNoaWxkcmVuKVxyXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdChwcm9wcy50YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBoKHByb3BzLnRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBoKEZyYWdtZW50LCBhc3NpZ25lZEF0dHJzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gZ2V0SW50ZXJwb2xhdGVBcmcoeyBzbG90cyB9LCBrZXlzKSB7XHJcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgLy8gZGVmYXVsdCBzbG90IG9ubHlcclxuICAgICAgICByZXR1cm4gc2xvdHMuZGVmYXVsdCA/IHNsb3RzLmRlZmF1bHQoKSA6IFtdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gbmFtZWQgc2xvdHNcclxuICAgICAgICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFyZywga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1trZXldO1xyXG4gICAgICAgICAgICBpZiAoc2xvdCkge1xyXG4gICAgICAgICAgICAgICAgYXJnW2tleV0gPSBzbG90KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFyZztcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcmVuZGVyRm9ybWF0dGVyKHByb3BzLCBjb250ZXh0LCBzbG90S2V5cywgcGFydEZvcm1hdHRlcikge1xyXG4gICAgY29uc3QgeyBzbG90cywgYXR0cnMgfSA9IGNvbnRleHQ7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHBhcnQ6IHRydWUgfTtcclxuICAgICAgICBsZXQgb3ZlcnJpZGVzID0ge307XHJcbiAgICAgICAgaWYgKHByb3BzLmxvY2FsZSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IHByb3BzLmxvY2FsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHByb3BzLmZvcm1hdCkpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5rZXkgPSBwcm9wcy5mb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHByb3BzLmZvcm1hdCkpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHByb3BzLmZvcm1hdC5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5rZXkgPSBwcm9wcy5mb3JtYXQua2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgbnVtYmVyIGZvcm1hdCBvcHRpb25zIG9ubHlcclxuICAgICAgICAgICAgb3ZlcnJpZGVzID0gT2JqZWN0LmtleXMocHJvcHMuZm9ybWF0KS5yZWR1Y2UoKG9wdGlvbnMsIHByb3ApID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzbG90S2V5cy5pbmNsdWRlcyhwcm9wKVxyXG4gICAgICAgICAgICAgICAgICAgID8gYXNzaWduKHt9LCBvcHRpb25zLCB7IFtwcm9wXTogcHJvcHMuZm9ybWF0W3Byb3BdIH0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgIDogb3B0aW9ucztcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhcnRGb3JtYXR0ZXIoLi4uW3Byb3BzLnZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdKTtcclxuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbb3B0aW9ucy5rZXldO1xyXG4gICAgICAgIGlmIChpc0FycmF5KHBhcnRzKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHBhcnRzLm1hcCgocGFydCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1twYXJ0LnR5cGVdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsb3RcclxuICAgICAgICAgICAgICAgICAgICA/IHNsb3QoeyBbcGFydC50eXBlXTogcGFydC52YWx1ZSwgaW5kZXgsIHBhcnRzIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBbcGFydC52YWx1ZV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhwYXJ0cykpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBbcGFydHNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhc3NpZ25lZEF0dHJzID0gYXNzaWduKHt9LCBhdHRycyk7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHByb3BzLnRhZylcclxuICAgICAgICAgICAgPyBoKHByb3BzLnRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pXHJcbiAgICAgICAgICAgIDogaXNPYmplY3QocHJvcHMudGFnKVxyXG4gICAgICAgICAgICAgICAgPyBoKHByb3BzLnRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICA6IGgoRnJhZ21lbnQsIGFzc2lnbmVkQXR0cnMsIGNoaWxkcmVuKTtcclxuICAgIH07XHJcbn1cblxuY29uc3QgTlVNQkVSX0ZPUk1BVF9LRVlTID0gW1xyXG4gICAgJ2xvY2FsZU1hdGNoZXInLFxyXG4gICAgJ3N0eWxlJyxcclxuICAgICd1bml0JyxcclxuICAgICd1bml0RGlzcGxheScsXHJcbiAgICAnY3VycmVuY3knLFxyXG4gICAgJ2N1cnJlbmN5RGlzcGxheScsXHJcbiAgICAndXNlR3JvdXBpbmcnLFxyXG4gICAgJ251bWJlcmluZ1N5c3RlbScsXHJcbiAgICAnbWluaW11bUludGVnZXJEaWdpdHMnLFxyXG4gICAgJ21pbmltdW1GcmFjdGlvbkRpZ2l0cycsXHJcbiAgICAnbWF4aW11bUZyYWN0aW9uRGlnaXRzJyxcclxuICAgICdtaW5pbXVtU2lnbmlmaWNhbnREaWdpdHMnLFxyXG4gICAgJ21heGltdW1TaWduaWZpY2FudERpZ2l0cycsXHJcbiAgICAnbm90YXRpb24nLFxyXG4gICAgJ2Zvcm1hdE1hdGNoZXInXHJcbl07XHJcbi8qKlxyXG4gKiBOdW1iZXIgRm9ybWF0IENvbXBvbmVudFxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBTZWUgdGhlIGZvbGxvd2luZyBpdGVtcyBmb3IgcHJvcGVydHkgYWJvdXQgZGV0YWlsc1xyXG4gKlxyXG4gKiBAVnVlSTE4blNlZSBbRm9ybWF0dGFibGVQcm9wc10oY29tcG9uZW50I2Zvcm1hdHRhYmxlcHJvcHMpXHJcbiAqIEBWdWVJMThuU2VlIFtCYXNlRm9ybWF0UHJvcHNdKGNvbXBvbmVudCNiYXNlZm9ybWF0cHJvcHMpXHJcbiAqIEBWdWVJMThuU2VlIFtDdXN0b20gRm9ybWF0dGluZ10oLi4vZ3VpZGUvZXNzZW50aWFscy9udW1iZXIjY3VzdG9tLWZvcm1hdHRpbmcpXHJcbiAqXHJcbiAqIEBWdWVJMThuRGFuZ2VyXHJcbiAqIE5vdCBzdXBwb3J0ZWQgSUUsIGR1ZSB0byBubyBzdXBwb3J0IGBJbnRsLk51bWJlckZvcm1hdCNmb3JtYXRUb1BhcnRzYCBpbiBbSUVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0ludGwvTnVtYmVyRm9ybWF0L2Zvcm1hdFRvUGFydHMpXHJcbiAqXHJcbiAqIElmIHlvdSB3YW50IHRvIHVzZSBpdCwgeW91IG5lZWQgdG8gdXNlIFtwb2x5ZmlsbF0oaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL3RyZWUvbWFpbi9wYWNrYWdlcy9pbnRsLW51bWJlcmZvcm1hdClcclxuICpcclxuICogQFZ1ZUkxOG5Db21wb25lbnRcclxuICovXHJcbmNvbnN0IE51bWJlckZvcm1hdCA9IHtcclxuICAgIC8qIGVzbGludC1kaXNhYmxlICovXHJcbiAgICBuYW1lOiAnaTE4bi1uJyxcclxuICAgIHByb3BzOiBhc3NpZ24oe1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvcm1hdDoge1xyXG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdXHJcbiAgICAgICAgfVxyXG4gICAgfSwgYmFzZUZvcm1hdFByb3BzKSxcclxuICAgIC8qIGVzbGludC1lbmFibGUgKi9cclxuICAgIHNldHVwKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgaTE4biA9IHByb3BzLmkxOG4gfHxcclxuICAgICAgICAgICAgdXNlSTE4bih7IHVzZVNjb3BlOiAncGFyZW50JywgX191c2VDb21wb25lbnQ6IHRydWUgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1hdHRlcihwcm9wcywgY29udGV4dCwgTlVNQkVSX0ZPUk1BVF9LRVlTLCAoLi4uYXJncykgPT4gXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICBpMThuW051bWJlclBhcnRzU3ltYm9sXSguLi5hcmdzKSk7XHJcbiAgICB9XHJcbn07XG5cbmNvbnN0IERBVEVUSU1FX0ZPUk1BVF9LRVlTID0gW1xyXG4gICAgJ2RhdGVTdHlsZScsXHJcbiAgICAndGltZVN0eWxlJyxcclxuICAgICdmcmFjdGlvbmFsU2Vjb25kRGlnaXRzJyxcclxuICAgICdjYWxlbmRhcicsXHJcbiAgICAnZGF5UGVyaW9kJyxcclxuICAgICdudW1iZXJpbmdTeXN0ZW0nLFxyXG4gICAgJ2xvY2FsZU1hdGNoZXInLFxyXG4gICAgJ3RpbWVab25lJyxcclxuICAgICdob3VyMTInLFxyXG4gICAgJ2hvdXJDeWNsZScsXHJcbiAgICAnZm9ybWF0TWF0Y2hlcicsXHJcbiAgICAnd2Vla2RheScsXHJcbiAgICAnZXJhJyxcclxuICAgICd5ZWFyJyxcclxuICAgICdtb250aCcsXHJcbiAgICAnZGF5JyxcclxuICAgICdob3VyJyxcclxuICAgICdtaW51dGUnLFxyXG4gICAgJ3NlY29uZCcsXHJcbiAgICAndGltZVpvbmVOYW1lJ1xyXG5dO1xyXG4vKipcclxuICogRGF0ZXRpbWUgRm9ybWF0IENvbXBvbmVudFxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBTZWUgdGhlIGZvbGxvd2luZyBpdGVtcyBmb3IgcHJvcGVydHkgYWJvdXQgZGV0YWlsc1xyXG4gKlxyXG4gKiBAVnVlSTE4blNlZSBbRm9ybWF0dGFibGVQcm9wc10oY29tcG9uZW50I2Zvcm1hdHRhYmxlcHJvcHMpXHJcbiAqIEBWdWVJMThuU2VlIFtCYXNlRm9ybWF0UHJvcHNdKGNvbXBvbmVudCNiYXNlZm9ybWF0cHJvcHMpXHJcbiAqIEBWdWVJMThuU2VlIFtDdXN0b20gRm9ybWF0dGluZ10oLi4vZ3VpZGUvZXNzZW50aWFscy9kYXRldGltZSNjdXN0b20tZm9ybWF0dGluZylcclxuICpcclxuICogQFZ1ZUkxOG5EYW5nZXJcclxuICogTm90IHN1cHBvcnRlZCBJRSwgZHVlIHRvIG5vIHN1cHBvcnQgYEludGwuRGF0ZVRpbWVGb3JtYXQjZm9ybWF0VG9QYXJ0c2AgaW4gW0lFXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsL0RhdGVUaW1lRm9ybWF0L2Zvcm1hdFRvUGFydHMpXHJcbiAqXHJcbiAqIElmIHlvdSB3YW50IHRvIHVzZSBpdCwgeW91IG5lZWQgdG8gdXNlIFtwb2x5ZmlsbF0oaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL3RyZWUvbWFpbi9wYWNrYWdlcy9pbnRsLWRhdGV0aW1lZm9ybWF0KVxyXG4gKlxyXG4gKiBAVnVlSTE4bkNvbXBvbmVudFxyXG4gKi9cclxuY29uc3QgRGF0ZXRpbWVGb3JtYXQgPSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4gICAgbmFtZTogJ2kxOG4tZCcsXHJcbiAgICBwcm9wczogYXNzaWduKHtcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBEYXRlXSxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvcm1hdDoge1xyXG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdXHJcbiAgICAgICAgfVxyXG4gICAgfSwgYmFzZUZvcm1hdFByb3BzKSxcclxuICAgIC8qIGVzbGludC1lbmFibGUgKi9cclxuICAgIHNldHVwKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgaTE4biA9IHByb3BzLmkxOG4gfHxcclxuICAgICAgICAgICAgdXNlSTE4bih7IHVzZVNjb3BlOiAncGFyZW50JywgX191c2VDb21wb25lbnQ6IHRydWUgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1hdHRlcihwcm9wcywgY29udGV4dCwgREFURVRJTUVfRk9STUFUX0tFWVMsICguLi5hcmdzKSA9PiBcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIGkxOG5bRGF0ZXRpbWVQYXJ0c1N5bWJvbF0oLi4uYXJncykpO1xyXG4gICAgfVxyXG59O1xuXG5mdW5jdGlvbiBnZXRDb21wb3NlciQyKGkxOG4sIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpMThuSW50ZXJuYWwgPSBpMThuO1xyXG4gICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJykge1xyXG4gICAgICAgIHJldHVybiAoaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoaW5zdGFuY2UpIHx8IGkxOG4uZ2xvYmFsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHZ1ZUkxOG4gPSBpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgcmV0dXJuIHZ1ZUkxOG4gIT0gbnVsbFxyXG4gICAgICAgICAgICA/IHZ1ZUkxOG4uX19jb21wb3NlclxyXG4gICAgICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdlREaXJlY3RpdmUoaTE4bikge1xyXG4gICAgY29uc3QgYmluZCA9IChlbCwgeyBpbnN0YW5jZSwgdmFsdWUsIG1vZGlmaWVycyB9KSA9PiB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCAhaW5zdGFuY2UuJCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjIgLyogVU5FWFBFQ1RFRF9FUlJPUiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMihpMThuLCBpbnN0YW5jZS4kKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGlmaWVycy5wcmVzZXJ2ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKDcgLyogTk9UX1NVUFBPUlRFRF9QUkVTRVJWRSAqLykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gY29tcG9zZXIudCguLi5tYWtlUGFyYW1zKHBhcnNlZFZhbHVlKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBiZWZvcmVNb3VudDogYmluZCxcclxuICAgICAgICBiZWZvcmVVcGRhdGU6IGJpbmRcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VWYWx1ZSh2YWx1ZSkge1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB7IHBhdGg6IHZhbHVlIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGlmICghKCdwYXRoJyBpbiB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDE5IC8qIFJFUVVJUkVEX1ZBTFVFICovLCAncGF0aCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjAgLyogSU5WQUxJRF9WQUxVRSAqLyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbWFrZVBhcmFtcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgeyBwYXRoLCBsb2NhbGUsIGFyZ3MsIGNob2ljZSwgcGx1cmFsIH0gPSB2YWx1ZTtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuICAgIGNvbnN0IG5hbWVkID0gYXJncyB8fCB7fTtcclxuICAgIGlmIChpc1N0cmluZyhsb2NhbGUpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBsb2NhbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNOdW1iZXIoY2hvaWNlKSkge1xyXG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gY2hvaWNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTnVtYmVyKHBsdXJhbCkpIHtcclxuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IHBsdXJhbDtcclxuICAgIH1cclxuICAgIHJldHVybiBbcGF0aCwgbmFtZWQsIG9wdGlvbnNdO1xyXG59XG5cbmZ1bmN0aW9uIGFwcGx5KGFwcCwgaTE4biwgLi4ub3B0aW9ucykge1xyXG4gICAgY29uc3QgcGx1Z2luT3B0aW9ucyA9IGlzUGxhaW5PYmplY3Qob3B0aW9uc1swXSlcclxuICAgICAgICA/IG9wdGlvbnNbMF1cclxuICAgICAgICA6IHt9O1xyXG4gICAgY29uc3QgdXNlSTE4bkNvbXBvbmVudE5hbWUgPSAhIXBsdWdpbk9wdGlvbnMudXNlSTE4bkNvbXBvbmVudE5hbWU7XHJcbiAgICBjb25zdCBnbG9iYWxJbnN0YWxsID0gaXNCb29sZWFuKHBsdWdpbk9wdGlvbnMuZ2xvYmFsSW5zdGFsbClcclxuICAgICAgICA/IHBsdWdpbk9wdGlvbnMuZ2xvYmFsSW5zdGFsbFxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ2xvYmFsSW5zdGFsbCAmJiB1c2VJMThuQ29tcG9uZW50TmFtZSkge1xyXG4gICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoMTEgLyogQ09NUE9ORU5UX05BTUVfTEVHQUNZX0NPTVBBVElCTEUgKi8sIHtcclxuICAgICAgICAgICAgbmFtZTogVHJhbnNsYXRpb24ubmFtZVxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIGlmIChnbG9iYWxJbnN0YWxsKSB7XHJcbiAgICAgICAgLy8gaW5zdGFsbCBjb21wb25lbnRzXHJcbiAgICAgICAgYXBwLmNvbXBvbmVudCghdXNlSTE4bkNvbXBvbmVudE5hbWUgPyBUcmFuc2xhdGlvbi5uYW1lIDogJ2kxOG4nLCBUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgYXBwLmNvbXBvbmVudChOdW1iZXJGb3JtYXQubmFtZSwgTnVtYmVyRm9ybWF0KTtcclxuICAgICAgICBhcHAuY29tcG9uZW50KERhdGV0aW1lRm9ybWF0Lm5hbWUsIERhdGV0aW1lRm9ybWF0KTtcclxuICAgIH1cclxuICAgIC8vIGluc3RhbGwgZGlyZWN0aXZlXHJcbiAgICBhcHAuZGlyZWN0aXZlKCd0JywgdlREaXJlY3RpdmUoaTE4bikpO1xyXG59XG5cbmNvbnN0IFZVRV9JMThOX0NPTVBPTkVOVF9UWVBFUyA9ICd2dWUtaTE4bjogY29tcG9zZXIgcHJvcGVydGllcyc7XHJcbmxldCBkZXZ0b29sc0FwaTtcclxuYXN5bmMgZnVuY3Rpb24gZW5hYmxlRGV2VG9vbHMoYXBwLCBpMThuKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xyXG4gICAgICAgICAgICAgICAgaWQ6IFwidnVlLWRldnRvb2xzLXBsdWdpbi12dWUtaTE4blwiIC8qIFBMVUdJTiAqLyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBWdWVEZXZUb29sc0xhYmVsc1tcInZ1ZS1kZXZ0b29scy1wbHVnaW4tdnVlLWkxOG5cIiAvKiBQTFVHSU4gKi9dLFxyXG4gICAgICAgICAgICAgICAgcGFja2FnZU5hbWU6ICd2dWUtaTE4bicsXHJcbiAgICAgICAgICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vdnVlLWkxOG4uaW50bGlmeS5kZXYnLFxyXG4gICAgICAgICAgICAgICAgbG9nbzogJ2h0dHBzOi8vdnVlLWkxOG4uaW50bGlmeS5kZXYvdnVlLWkxOG4tZGV2dG9vbHMtbG9nby5wbmcnLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlczogW1ZVRV9JMThOX0NPTVBPTkVOVF9UWVBFU10sXHJcbiAgICAgICAgICAgICAgICBhcHBcclxuICAgICAgICAgICAgfSwgYXBpID0+IHtcclxuICAgICAgICAgICAgICAgIGRldnRvb2xzQXBpID0gYXBpO1xyXG4gICAgICAgICAgICAgICAgYXBpLm9uLnZpc2l0Q29tcG9uZW50VHJlZSgoeyBjb21wb25lbnRJbnN0YW5jZSwgdHJlZU5vZGUgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFRyZWVUYWdzKGNvbXBvbmVudEluc3RhbmNlLCB0cmVlTm9kZSwgaTE4bik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KCh7IGNvbXBvbmVudEluc3RhbmNlLCBpbnN0YW5jZURhdGEgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18gJiYgaW5zdGFuY2VEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpMThuLm1vZGUgPT09ICdsZWdhY3knKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZ2xvYmFsIHNjb3BlIG9uIGxlZ2FjeSBtb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fICE9PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkxOG4uZ2xvYmFsLl9fY29tcG9zZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0Q29tcG9zZXIoaW5zdGFuY2VEYXRhLCBjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGVjdENvbXBvc2VyKGluc3RhbmNlRGF0YSwgY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUiAqLyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogVnVlRGV2VG9vbHNMYWJlbHNbXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBDVVNUT01fSU5TUEVDVE9SICovXSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnbGFuZ3VhZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogVnVlRGV2VG9vbHNQbGFjZWhvbGRlcnNbXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBDVVNUT01fSU5TUEVDVE9SICovXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZShwYXlsb2FkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3BlY3RvcklkID09PSBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIENVU1RPTV9JTlNQRUNUT1IgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJTY29wZShwYXlsb2FkLCBpMThuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZShwYXlsb2FkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3BlY3RvcklkID09PSBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIENVU1RPTV9JTlNQRUNUT1IgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGVjdFNjb3BlKHBheWxvYWQsIGkxOG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBpLm9uLmVkaXRJbnNwZWN0b3JTdGF0ZShwYXlsb2FkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3BlY3RvcklkID09PSBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIENVU1RPTV9JTlNQRUNUT1IgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFNjb3BlKHBheWxvYWQsIGkxOG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVElNRUxJTkUgKi8sXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFZ1ZURldlRvb2xzTGFiZWxzW1widnVlLWkxOG4tdGltZWxpbmVcIiAvKiBUSU1FTElORSAqL10sXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFZ1ZURldlRvb2xzVGltZWxpbmVDb2xvcnNbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFRJTUVMSU5FICovXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnRUcmVlVGFncyhpbnN0YW5jZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbnRyZWVOb2RlLCBpMThuKSB7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IGdsb2JhbCA9IGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xyXG4gICAgICAgID8gaTE4bi5nbG9iYWxcclxuICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XHJcbiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fKSB7XHJcbiAgICAgICAgLy8gYWRkIGN1c3RvbSB0YWdzIGxvY2FsIHNjb3BlIG9ubHlcclxuICAgICAgICBpZiAoaW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fICE9PSBnbG9iYWwpIHtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBpbnN0YW5jZS50eXBlLm5hbWUgfHwgaW5zdGFuY2UudHlwZS5kaXNwbGF5TmFtZSB8fCBpbnN0YW5jZS50eXBlLl9fZmlsZTtcclxuICAgICAgICAgICAgY29uc3QgdGFnID0ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGBpMThuICgke2xhYmVsfSBTY29wZSlgLFxyXG4gICAgICAgICAgICAgICAgdGV4dENvbG9yOiAweDAwMDAwMCxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogMHhmZmNkMTlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJlZU5vZGUudGFncy5wdXNoKHRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluc3BlY3RDb21wb3NlcihpbnN0YW5jZURhdGEsIGNvbXBvc2VyKSB7XHJcbiAgICBjb25zdCB0eXBlID0gVlVFX0kxOE5fQ09NUE9ORU5UX1RZUEVTO1xyXG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAga2V5OiAnbG9jYWxlJyxcclxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICB2YWx1ZTogY29tcG9zZXIubG9jYWxlLnZhbHVlXHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIGtleTogJ2F2YWlsYWJsZUxvY2FsZXMnLFxyXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZTogY29tcG9zZXIuYXZhaWxhYmxlTG9jYWxlc1xyXG4gICAgfSk7XHJcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBrZXk6ICdmYWxsYmFja0xvY2FsZScsXHJcbiAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlXHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIGtleTogJ2luaGVyaXRMb2NhbGUnLFxyXG4gICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5pbmhlcml0TG9jYWxlXHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIGtleTogJ21lc3NhZ2VzJyxcclxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgdmFsdWU6IGdldExvY2FsZU1lc3NhZ2VWYWx1ZShjb21wb3Nlci5tZXNzYWdlcy52YWx1ZSlcclxuICAgIH0pO1xyXG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAga2V5OiAnZGF0ZXRpbWVGb3JtYXRzJyxcclxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cy52YWx1ZVxyXG4gICAgfSk7XHJcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBrZXk6ICdudW1iZXJGb3JtYXRzJyxcclxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLm51bWJlckZvcm1hdHMudmFsdWVcclxuICAgIH0pO1xyXG59XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2VWYWx1ZShtZXNzYWdlcykge1xyXG4gICAgY29uc3QgdmFsdWUgPSB7fTtcclxuICAgIE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBjb25zdCB2ID0gbWVzc2FnZXNba2V5XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih2KSAmJiAnc291cmNlJyBpbiB2KSB7XHJcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSBnZXRNZXNzYWdlRnVuY3Rpb25EZXRhaWxzKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh2KSkge1xyXG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWVba2V5XSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuY29uc3QgRVNDID0ge1xyXG4gICAgJzwnOiAnJmx0OycsXHJcbiAgICAnPic6ICcmZ3Q7JyxcclxuICAgICdcIic6ICcmcXVvdDsnLFxyXG4gICAgJyYnOiAnJmFtcDsnXHJcbn07XHJcbmZ1bmN0aW9uIGVzY2FwZShzKSB7XHJcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9bPD5cIiZdL2csIGVzY2FwZUNoYXIpO1xyXG59XHJcbmZ1bmN0aW9uIGVzY2FwZUNoYXIoYSkge1xyXG4gICAgcmV0dXJuIEVTQ1thXSB8fCBhO1xyXG59XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2VGdW5jdGlvbkRldGFpbHMoZnVuYykge1xyXG4gICAgY29uc3QgYXJnU3RyaW5nID0gZnVuYy5zb3VyY2UgPyBgKFwiJHtlc2NhcGUoZnVuYy5zb3VyY2UpfVwiKWAgOiBgKD8pYDtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiBgPHNwYW4+xpI8L3NwYW4+ICR7YXJnU3RyaW5nfWBcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHJlZ2lzdGVyU2NvcGUocGF5bG9hZCwgaTE4bikge1xyXG4gICAgcGF5bG9hZC5yb290Tm9kZXMucHVzaCh7XHJcbiAgICAgICAgaWQ6ICdnbG9iYWwnLFxyXG4gICAgICAgIGxhYmVsOiAnR2xvYmFsIFNjb3BlJ1xyXG4gICAgfSk7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IGdsb2JhbCA9IGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xyXG4gICAgICAgID8gaTE4bi5nbG9iYWxcclxuICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXlJbnN0YW5jZSwgaW5zdGFuY2VdIG9mIGkxOG4uX19pbnN0YW5jZXMpIHtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICBjb25zdCBjb21wb3NlciA9IGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xyXG4gICAgICAgICAgICA/IGluc3RhbmNlXHJcbiAgICAgICAgICAgIDogaW5zdGFuY2UuX19jb21wb3NlcjtcclxuICAgICAgICBpZiAoZ2xvYmFsID09PSBjb21wb3Nlcikge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBrZXlJbnN0YW5jZS50eXBlLm5hbWUgfHxcclxuICAgICAgICAgICAga2V5SW5zdGFuY2UudHlwZS5kaXNwbGF5TmFtZSB8fFxyXG4gICAgICAgICAgICBrZXlJbnN0YW5jZS50eXBlLl9fZmlsZTtcclxuICAgICAgICBwYXlsb2FkLnJvb3ROb2Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgaWQ6IGNvbXBvc2VyLmlkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIGxhYmVsOiBgJHtsYWJlbH0gU2NvcGVgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29tcG9zZXIkMShub2RlSWQsIGkxOG4pIHtcclxuICAgIGlmIChub2RlSWQgPT09ICdnbG9iYWwnKSB7XHJcbiAgICAgICAgcmV0dXJuIGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xyXG4gICAgICAgICAgICA/IGkxOG4uZ2xvYmFsXHJcbiAgICAgICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gQXJyYXkuZnJvbShpMThuLl9faW5zdGFuY2VzLnZhbHVlcygpKS5maW5kKGl0ZW0gPT4gaXRlbS5pZC50b1N0cmluZygpID09PSBub2RlSWQpO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgICAgICAgICA/IGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICA6IGluc3RhbmNlLl9fY29tcG9zZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5zcGVjdFNjb3BlKHBheWxvYWQsIGkxOG4pIHtcclxuICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMShwYXlsb2FkLm5vZGVJZCwgaTE4bik7XHJcbiAgICBpZiAoY29tcG9zZXIpIHtcclxuICAgICAgICBwYXlsb2FkLnN0YXRlID0gbWFrZVNjb3BlSW5zcGVjdFN0YXRlKGNvbXBvc2VyKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtYWtlU2NvcGVJbnNwZWN0U3RhdGUoY29tcG9zZXIpIHtcclxuICAgIGNvbnN0IHN0YXRlID0ge307XHJcbiAgICBjb25zdCBsb2NhbGVUeXBlID0gJ0xvY2FsZSByZWxhdGVkIGluZm8nO1xyXG4gICAgY29uc3QgbG9jYWxlU3RhdGVzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcclxuICAgICAgICAgICAga2V5OiAnbG9jYWxlJyxcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5sb2NhbGUudmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcclxuICAgICAgICAgICAga2V5OiAnZmFsbGJhY2tMb2NhbGUnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZVR5cGUsXHJcbiAgICAgICAgICAgIGtleTogJ2F2YWlsYWJsZUxvY2FsZXMnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5hdmFpbGFibGVMb2NhbGVzXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZVR5cGUsXHJcbiAgICAgICAgICAgIGtleTogJ2luaGVyaXRMb2NhbGUnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmluaGVyaXRMb2NhbGVcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgc3RhdGVbbG9jYWxlVHlwZV0gPSBsb2NhbGVTdGF0ZXM7XHJcbiAgICBjb25zdCBsb2NhbGVNZXNzYWdlc1R5cGUgPSAnTG9jYWxlIG1lc3NhZ2VzIGluZm8nO1xyXG4gICAgY29uc3QgbG9jYWxlTWVzc2FnZXNTdGF0ZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVNZXNzYWdlc1R5cGUsXHJcbiAgICAgICAgICAgIGtleTogJ21lc3NhZ2VzJyxcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKGNvbXBvc2VyLm1lc3NhZ2VzLnZhbHVlKVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzdGF0ZVtsb2NhbGVNZXNzYWdlc1R5cGVdID0gbG9jYWxlTWVzc2FnZXNTdGF0ZXM7XHJcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHNUeXBlID0gJ0RhdGV0aW1lIGZvcm1hdHMgaW5mbyc7XHJcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHNTdGF0ZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBkYXRldGltZUZvcm1hdHNUeXBlLFxyXG4gICAgICAgICAgICBrZXk6ICdkYXRldGltZUZvcm1hdHMnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5kYXRldGltZUZvcm1hdHMudmFsdWVcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgc3RhdGVbZGF0ZXRpbWVGb3JtYXRzVHlwZV0gPSBkYXRldGltZUZvcm1hdHNTdGF0ZXM7XHJcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzVHlwZSA9ICdEYXRldGltZSBmb3JtYXRzIGluZm8nO1xyXG4gICAgY29uc3QgbnVtYmVyRm9ybWF0c1N0YXRlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IG51bWJlckZvcm1hdHNUeXBlLFxyXG4gICAgICAgICAgICBrZXk6ICdudW1iZXJGb3JtYXRzJyxcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzdGF0ZVtudW1iZXJGb3JtYXRzVHlwZV0gPSBudW1iZXJGb3JtYXRzU3RhdGVzO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbmZ1bmN0aW9uIGFkZFRpbWVsaW5lRXZlbnQoZXZlbnQsIHBheWxvYWQpIHtcclxuICAgIGlmIChkZXZ0b29sc0FwaSkge1xyXG4gICAgICAgIGxldCBncm91cElkO1xyXG4gICAgICAgIGlmIChwYXlsb2FkICYmICdncm91cElkJyBpbiBwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIGdyb3VwSWQgPSBwYXlsb2FkLmdyb3VwSWQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwYXlsb2FkLmdyb3VwSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRldnRvb2xzQXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICBsYXllcklkOiBcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVElNRUxJTkUgKi8sXHJcbiAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogZXZlbnQsXHJcbiAgICAgICAgICAgICAgICBncm91cElkLFxyXG4gICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgIG1ldGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcGF5bG9hZCB8fCB7fSxcclxuICAgICAgICAgICAgICAgIGxvZ1R5cGU6IGV2ZW50ID09PSBcImNvbXBpbGUtZXJyb3JcIiAvKiBDT01QSUxFX0VSUk9SICovXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnZXJyb3InXHJcbiAgICAgICAgICAgICAgICAgICAgOiBldmVudCA9PT0gXCJmYWxsYmFja1wiIC8qIEZBTEJBQ0sgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPT09IFwibWlzc2luZ1wiIC8qIE1JU1NJTkcgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnd2FybmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnZGVmYXVsdCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGVkaXRTY29wZShwYXlsb2FkLCBpMThuKSB7XHJcbiAgICBjb25zdCBjb21wb3NlciA9IGdldENvbXBvc2VyJDEocGF5bG9hZC5ub2RlSWQsIGkxOG4pO1xyXG4gICAgaWYgKGNvbXBvc2VyKSB7XHJcbiAgICAgICAgY29uc3QgW2ZpZWxkXSA9IHBheWxvYWQucGF0aDtcclxuICAgICAgICBpZiAoZmllbGQgPT09ICdsb2NhbGUnICYmIGlzU3RyaW5nKHBheWxvYWQuc3RhdGUudmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyLmxvY2FsZS52YWx1ZSA9IHBheWxvYWQuc3RhdGUudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpZWxkID09PSAnZmFsbGJhY2tMb2NhbGUnICYmXHJcbiAgICAgICAgICAgIChpc1N0cmluZyhwYXlsb2FkLnN0YXRlLnZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgaXNBcnJheShwYXlsb2FkLnN0YXRlLnZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGF5bG9hZC5zdGF0ZS52YWx1ZSkpKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlID0gcGF5bG9hZC5zdGF0ZS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmllbGQgPT09ICdpbmhlcml0TG9jYWxlJyAmJiBpc0Jvb2xlYW4ocGF5bG9hZC5zdGF0ZS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuaW5oZXJpdExvY2FsZSA9IHBheWxvYWQuc3RhdGUudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8vIHN1cHBvcnRzIGNvbXBhdGliaWxpdHkgZm9yIGxlZ2FjeSB2dWUtaTE4biBBUElzXHJcbmZ1bmN0aW9uIGRlZmluZU1peGluKHZ1ZWkxOG4sIGNvbXBvc2VyLCBpMThuKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGJlZm9yZUNyZWF0ZSgpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigyMiAvKiBVTkVYUEVDVEVEX0VSUk9SICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaTE4bikge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uc0kxOG4gPSBvcHRpb25zLmkxOG47XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5fX2kxOG4pIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zSTE4bi5fX2kxOG4gPSBvcHRpb25zLl9faTE4bjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9wdGlvbnNJMThuLl9fcm9vdCA9IGNvbXBvc2VyO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMgPT09IHRoaXMuJHJvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gbWVyZ2VUb1Jvb3QodnVlaTE4biwgb3B0aW9uc0kxOG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0kxOG4uX19pbmplY3RXaXRoT3B0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gY3JlYXRlVnVlSTE4bihvcHRpb25zSTE4bik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5fX2kxOG4pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzID09PSB0aGlzLiRyb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IG1lcmdlVG9Sb290KHZ1ZWkxOG4sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IGNyZWF0ZVZ1ZUkxOG4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2kxOG46IG9wdGlvbnMuX19pMThuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2luamVjdFdpdGhPcHRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fcm9vdDogY29tcG9zZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNldCBnbG9iYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSB2dWVpMThuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZ1ZWkxOG4uX19vbkNvbXBvbmVudEluc3RhbmNlQ3JlYXRlZCh0aGlzLiRpMThuKTtcclxuICAgICAgICAgICAgaTE4bi5fX3NldEluc3RhbmNlKGluc3RhbmNlLCB0aGlzLiRpMThuKTtcclxuICAgICAgICAgICAgLy8gZGVmaW5lcyB2dWUtaTE4biBsZWdhY3kgQVBJc1xyXG4gICAgICAgICAgICB0aGlzLiR0ID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4udCguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kcnQgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi5ydCguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kdGMgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi50YyguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kdGUgPSAoa2V5LCBsb2NhbGUpID0+IHRoaXMuJGkxOG4udGUoa2V5LCBsb2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLiRkID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4uZCguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kbiA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLm4oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHRtID0gKGtleSkgPT4gdGhpcy4kaTE4bi50bShrZXkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fKSAmJiAhZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLl9fVlVFX0kxOE5fXyA9IHRoaXMuJGkxOG4uX19jb21wb3NlcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSAodGhpcy5fX3ZfZW1pdHRlciA9IGNyZWF0ZUVtaXR0ZXIoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XHJcbiAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIgJiYgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyKGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVVbm1vdW50KCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDIyIC8qIFVORVhQRUNURURfRVJST1IgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9JMThOX1BST0RfREVWVE9PTFNfXykgJiYgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX3ZfZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX192X2VtaXR0ZXIub2ZmKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XHJcbiAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyICYmIF92dWVJMThuLl9fZGlzYWJsZUVtaXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRlbC5fX1ZVRV9JMThOX187XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRydDtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRjO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kdGU7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRkO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kbjtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRtO1xyXG4gICAgICAgICAgICBpMThuLl9fZGVsZXRlSW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kaTE4bjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlVG9Sb290KHJvb3QsIG9wdGlvbnMpIHtcclxuICAgIHJvb3QubG9jYWxlID0gb3B0aW9ucy5sb2NhbGUgfHwgcm9vdC5sb2NhbGU7XHJcbiAgICByb290LmZhbGxiYWNrTG9jYWxlID0gb3B0aW9ucy5mYWxsYmFja0xvY2FsZSB8fCByb290LmZhbGxiYWNrTG9jYWxlO1xyXG4gICAgcm9vdC5taXNzaW5nID0gb3B0aW9ucy5taXNzaW5nIHx8IHJvb3QubWlzc2luZztcclxuICAgIHJvb3Quc2lsZW50VHJhbnNsYXRpb25XYXJuID1cclxuICAgICAgICBvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybiB8fCByb290LnNpbGVudEZhbGxiYWNrV2FybjtcclxuICAgIHJvb3Quc2lsZW50RmFsbGJhY2tXYXJuID1cclxuICAgICAgICBvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybiB8fCByb290LnNpbGVudEZhbGxiYWNrV2FybjtcclxuICAgIHJvb3QuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcyA9XHJcbiAgICAgICAgb3B0aW9ucy5mb3JtYXRGYWxsYmFja01lc3NhZ2VzIHx8IHJvb3QuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcztcclxuICAgIHJvb3QucG9zdFRyYW5zbGF0aW9uID0gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb24gfHwgcm9vdC5wb3N0VHJhbnNsYXRpb247XHJcbiAgICByb290Lndhcm5IdG1sSW5NZXNzYWdlID0gb3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSB8fCByb290Lndhcm5IdG1sSW5NZXNzYWdlO1xyXG4gICAgcm9vdC5lc2NhcGVQYXJhbWV0ZXJIdG1sID1cclxuICAgICAgICBvcHRpb25zLmVzY2FwZVBhcmFtZXRlckh0bWwgfHwgcm9vdC5lc2NhcGVQYXJhbWV0ZXJIdG1sO1xyXG4gICAgcm9vdC5zeW5jID0gb3B0aW9ucy5zeW5jIHx8IHJvb3Quc3luYztcclxuICAgIHJvb3QuX19jb21wb3NlcltTZXRQbHVyYWxSdWxlc1N5bWJvbF0ob3B0aW9ucy5wbHVyYWxpemF0aW9uUnVsZXMgfHwgcm9vdC5wbHVyYWxpemF0aW9uUnVsZXMpO1xyXG4gICAgY29uc3QgbWVzc2FnZXMgPSBnZXRMb2NhbGVNZXNzYWdlcyhyb290LmxvY2FsZSwge1xyXG4gICAgICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxyXG4gICAgICAgIF9faTE4bjogb3B0aW9ucy5fX2kxOG5cclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2gobG9jYWxlID0+IHJvb3QubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZXNbbG9jYWxlXSkpO1xyXG4gICAgaWYgKG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpLmZvckVhY2gobG9jYWxlID0+IHJvb3QubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzW2xvY2FsZV0pKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLm51bWJlckZvcm1hdHMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm51bWJlckZvcm1hdHMpLmZvckVhY2gobG9jYWxlID0+IHJvb3QubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zLm51bWJlckZvcm1hdHNbbG9jYWxlXSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cblxuLyoqXHJcbiAqIFZ1ZSBJMThuIGZhY3RvcnlcclxuICpcclxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zLCBzZWUgdGhlIHtAbGluayBJMThuT3B0aW9uc31cclxuICpcclxuICogQHJldHVybnMge0BsaW5rIEkxOG59IGluc3RhbmNlXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIElmIHlvdSB1c2UgTGVnYWN5IEFQSSBtb2RlLCB5b3UgbmVlZCB0b3RvIHNwZWNpZnkge0BsaW5rIFZ1ZUkxOG5PcHRpb25zfSBhbmQgYGxlZ2FjeTogdHJ1ZWAgb3B0aW9uLlxyXG4gKlxyXG4gKiBJZiB5b3UgdXNlIGNvbXBvc2l0aW9uIEFQSSBtb2RlLCB5b3UgbmVlZCB0byBzcGVjaWZ5IHtAbGluayBDb21wb3Nlck9wdGlvbnN9LlxyXG4gKlxyXG4gKiBAVnVlSTE4blNlZSBbR2V0dGluZyBTdGFydGVkXSguLi9ndWlkZS8pXHJcbiAqIEBWdWVJMThuU2VlIFtDb21wb3NpdGlvbiBBUEldKC4uL2d1aWRlL2FkdmFuY2VkL2NvbXBvc2l0aW9uKVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjYXNlOiBmb3IgTGVnYWN5IEFQSVxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXHJcbiAqIGltcG9ydCB7IGNyZWF0ZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcclxuICpcclxuICogLy8gY2FsbCB3aXRoIEkxOG4gb3B0aW9uXHJcbiAqIGNvbnN0IGkxOG4gPSBjcmVhdGVJMThuKHtcclxuICogICBsb2NhbGU6ICdqYScsXHJcbiAqICAgbWVzc2FnZXM6IHtcclxuICogICAgIGVuOiB7IC4uLiB9LFxyXG4gKiAgICAgamE6IHsgLi4uIH1cclxuICogICB9XHJcbiAqIH0pXHJcbiAqXHJcbiAqIGNvbnN0IEFwcCA9IHtcclxuICogICAvLyAuLi5cclxuICogfVxyXG4gKlxyXG4gKiBjb25zdCBhcHAgPSBjcmVhdGVBcHAoQXBwKVxyXG4gKlxyXG4gKiAvLyBpbnN0YWxsIVxyXG4gKiBhcHAudXNlKGkxOG4pXHJcbiAqIGFwcC5tb3VudCgnI2FwcCcpXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjYXNlOiBmb3IgY29tcG9zaXRpb24gQVBJXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7IGNyZWF0ZUFwcCB9IGZyb20gJ3Z1ZSdcclxuICogaW1wb3J0IHsgY3JlYXRlSTE4biwgdXNlSTE4biB9IGZyb20gJ3Z1ZS1pMThuJ1xyXG4gKlxyXG4gKiAvLyBjYWxsIHdpdGggSTE4biBvcHRpb25cclxuICogY29uc3QgaTE4biA9IGNyZWF0ZUkxOG4oe1xyXG4gKiAgIGxlZ2FjeTogZmFsc2UsIC8vIHlvdSBtdXN0IHNwZWNpZnkgJ2xlZ2FjeTogZmFsc2UnIG9wdGlvblxyXG4gKiAgIGxvY2FsZTogJ2phJyxcclxuICogICBtZXNzYWdlczoge1xyXG4gKiAgICAgZW46IHsgLi4uIH0sXHJcbiAqICAgICBqYTogeyAuLi4gfVxyXG4gKiAgIH1cclxuICogfSlcclxuICpcclxuICogY29uc3QgQXBwID0ge1xyXG4gKiAgIHNldHVwKCkge1xyXG4gKiAgICAgLy8gLi4uXHJcbiAqICAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oeyAuLi4gfSlcclxuICogICAgIHJldHVybiB7IC4uLiAsIHQgfVxyXG4gKiAgIH1cclxuICogfVxyXG4gKlxyXG4gKiBjb25zdCBhcHAgPSBjcmVhdGVBcHAoQXBwKVxyXG4gKlxyXG4gKiAvLyBpbnN0YWxsIVxyXG4gKiBhcHAudXNlKGkxOG4pXHJcbiAqIGFwcC5tb3VudCgnI2FwcCcpXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAVnVlSTE4bkdlbmVyYWxcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUkxOG4ob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IF9fbGVnYWN5TW9kZSA9IF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIGlzQm9vbGVhbihvcHRpb25zLmxlZ2FjeSlcclxuICAgICAgICA/IG9wdGlvbnMubGVnYWN5XHJcbiAgICAgICAgOiBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXztcclxuICAgIGNvbnN0IF9fZ2xvYmFsSW5qZWN0aW9uID0gISFvcHRpb25zLmdsb2JhbEluamVjdGlvbjtcclxuICAgIGNvbnN0IF9faW5zdGFuY2VzID0gbmV3IE1hcCgpO1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBfX2dsb2JhbCA9IF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIF9fbGVnYWN5TW9kZVxyXG4gICAgICAgID8gY3JlYXRlVnVlSTE4bihvcHRpb25zKVxyXG4gICAgICAgIDogY3JlYXRlQ29tcG9zZXIob3B0aW9ucyk7XHJcbiAgICBjb25zdCBzeW1ib2wgPSBtYWtlU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICd2dWUtaTE4bicgOiAnJyk7XHJcbiAgICBjb25zdCBpMThuID0ge1xyXG4gICAgICAgIC8vIG1vZGVcclxuICAgICAgICBnZXQgbW9kZSgpIHtcclxuICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgICAgIHJldHVybiBfX1ZVRV9JMThOX0xFR0FDWV9BUElfX1xyXG4gICAgICAgICAgICAgICAgPyBfX2xlZ2FjeU1vZGVcclxuICAgICAgICAgICAgICAgICAgICA/ICdsZWdhY3knXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgICAgICAgICA6ICdjb21wb3NpdGlvbic7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBpbnN0YWxsIHBsdWdpblxyXG4gICAgICAgIGFzeW5jIGluc3RhbGwoYXBwLCAuLi5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fKSAmJiAhZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5fX1ZVRV9JMThOX18gPSBpMThuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNldHVwIGdsb2JhbCBwcm92aWRlclxyXG4gICAgICAgICAgICBhcHAuX19WVUVfSTE4Tl9TWU1CT0xfXyA9IHN5bWJvbDtcclxuICAgICAgICAgICAgYXBwLnByb3ZpZGUoYXBwLl9fVlVFX0kxOE5fU1lNQk9MX18sIGkxOG4pO1xyXG4gICAgICAgICAgICAvLyBnbG9iYWwgbWV0aG9kIGFuZCBwcm9wZXJ0aWVzIGluamVjdGlvbiBmb3IgQ29tcG9zaXRpb24gQVBJXHJcbiAgICAgICAgICAgIGlmICghX19sZWdhY3lNb2RlICYmIF9fZ2xvYmFsSW5qZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpbmplY3RHbG9iYWxGaWVsZHMoYXBwLCBpMThuLmdsb2JhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW5zdGFsbCBidWlsdC1pbiBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVcclxuICAgICAgICAgICAgaWYgKF9fVlVFX0kxOE5fRlVMTF9JTlNUQUxMX18pIHtcclxuICAgICAgICAgICAgICAgIGFwcGx5KGFwcCwgaTE4biwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gc2V0dXAgbWl4aW4gZm9yIExlZ2FjeSBBUElcclxuICAgICAgICAgICAgaWYgKF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIF9fbGVnYWN5TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLm1peGluKGRlZmluZU1peGluKF9fZ2xvYmFsLCBfX2dsb2JhbC5fX2NvbXBvc2VyLCBpMThuKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gc2V0dXAgdnVlLWRldnRvb2xzIHBsdWdpblxyXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9JMThOX1BST0RfREVWVE9PTFNfXykgJiYgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXQgPSBhd2FpdCBlbmFibGVEZXZUb29scyhhcHAsIGkxOG4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjEgLyogQ0FOTk9UX1NFVFVQX1ZVRV9ERVZUT09MU19QTFVHSU4gKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNyZWF0ZUVtaXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGlmIChfX2xlZ2FjeU1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IF9fZ2xvYmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZW5hYmxlRW1pdHRlciAmJiBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIoZW1pdHRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9jb21wb3NlciA9IF9fZ2xvYmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0oZW1pdHRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyLm9uKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGdsb2JhbCBhY2Nlc3NvclxyXG4gICAgICAgIGdldCBnbG9iYWwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dsb2JhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEBpbnRlcm5hbFxyXG4gICAgICAgIF9faW5zdGFuY2VzLFxyXG4gICAgICAgIC8vIEBpbnRlcm5hbFxyXG4gICAgICAgIF9fZ2V0SW5zdGFuY2UoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2luc3RhbmNlcy5nZXQoY29tcG9uZW50KSB8fCBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gQGludGVybmFsXHJcbiAgICAgICAgX19zZXRJbnN0YW5jZShjb21wb25lbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIF9faW5zdGFuY2VzLnNldChjb21wb25lbnQsIGluc3RhbmNlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEBpbnRlcm5hbFxyXG4gICAgICAgIF9fZGVsZXRlSW5zdGFuY2UoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIF9faW5zdGFuY2VzLmRlbGV0ZShjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gaTE4bjtcclxufVxyXG4vKipcclxuICogVXNlIENvbXBvc2l0aW9uIEFQSSBmb3IgVnVlIEkxOG5cclxuICpcclxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zLCBzZWUge0BsaW5rIFVzZUkxOG5PcHRpb25zfVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7QGxpbmsgQ29tcG9zZXJ9IGluc3RhbmNlXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbWFpbmx5IHVzZWQgYnkgYHNldHVwYC5cclxuICpcclxuICogSWYgb3B0aW9ucyBhcmUgc3BlY2lmaWVkLCBDb21wb3NlciBpbnN0YW5jZSBpcyBjcmVhdGVkIGZvciBlYWNoIGNvbXBvbmVudCBhbmQgeW91IGNhbiBiZSBsb2NhbGl6ZWQgb24gdGhlIGNvbXBvbmVudC5cclxuICpcclxuICogSWYgb3B0aW9ucyBhcmUgbm90IHNwZWNpZmllZCwgeW91IGNhbiBiZSBsb2NhbGl6ZWQgdXNpbmcgdGhlIGdsb2JhbCBDb21wb3Nlci5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY2FzZTogQ29tcG9uZW50IHJlc291cmNlIGJhc2UgbG9jYWxpemF0aW9uXHJcbiAqIGBgYGh0bWxcclxuICogPHRlbXBsYXRlPlxyXG4gKiAgIDxmb3JtPlxyXG4gKiAgICAgPGxhYmVsPnt7IHQoJ2xhbmd1YWdlJykgfX08L2xhYmVsPlxyXG4gKiAgICAgPHNlbGVjdCB2LW1vZGVsPVwibG9jYWxlXCI+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJlblwiPmVuPC9vcHRpb24+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJqYVwiPmphPC9vcHRpb24+XHJcbiAqICAgICA8L3NlbGVjdD5cclxuICogICA8L2Zvcm0+XHJcbiAqICAgPHA+bWVzc2FnZToge3sgdCgnaGVsbG8nKSB9fTwvcD5cclxuICogPC90ZW1wbGF0ZT5cclxuICpcclxuICogPHNjcmlwdD5cclxuICogaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ3Z1ZS1pMThuJ1xyXG4gKlxyXG4gKiBleHBvcnQgZGVmYXVsdCB7XHJcbiAqICBzZXR1cCgpIHtcclxuICogICAgY29uc3QgeyB0LCBsb2NhbGUgfSA9IHVzZUkxOG4oe1xyXG4gKiAgICAgIGxvY2FsZTogJ2phJyxcclxuICogICAgICBtZXNzYWdlczoge1xyXG4gKiAgICAgICAgZW46IHsgLi4uIH0sXHJcbiAqICAgICAgICBqYTogeyAuLi4gfVxyXG4gKiAgICAgIH1cclxuICogICAgfSlcclxuICogICAgLy8gU29tZXRoaW5nIHRvIGRvIC4uLlxyXG4gKlxyXG4gKiAgICByZXR1cm4geyAuLi4sIHQsIGxvY2FsZSB9XHJcbiAqICB9XHJcbiAqIH1cclxuICogPC9zY3JpcHQ+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAVnVlSTE4bkNvbXBvc2l0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VJMThuKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDE2IC8qIE1VU1RfQkVfQ0FMTF9TRVRVUF9UT1AgKi8pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbnN0YW5jZS5hcHBDb250ZXh0LmFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDE3IC8qIE5PVF9JTlNMQUxMRUQgKi8pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaTE4biA9IGluamVjdChpbnN0YW5jZS5hcHBDb250ZXh0LmFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKCFpMThuKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDIyIC8qIFVORVhQRUNURURfRVJST1IgKi8pO1xyXG4gICAgfVxyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBnbG9iYWwgPSBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcclxuICAgICAgICA/IGkxOG4uZ2xvYmFsXHJcbiAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyO1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBzY29wZSA9IGlzRW1wdHlPYmplY3Qob3B0aW9ucylcclxuICAgICAgICA/ICgnX19pMThuJyBpbiBpbnN0YW5jZS50eXBlKVxyXG4gICAgICAgICAgICA/ICdsb2NhbCdcclxuICAgICAgICAgICAgOiAnZ2xvYmFsJ1xyXG4gICAgICAgIDogIW9wdGlvbnMudXNlU2NvcGVcclxuICAgICAgICAgICAgPyAnbG9jYWwnXHJcbiAgICAgICAgICAgIDogb3B0aW9ucy51c2VTY29wZTtcclxuICAgIGlmIChzY29wZSA9PT0gJ2dsb2JhbCcpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZXMgPSBpc09iamVjdChvcHRpb25zLm1lc3NhZ2VzKSA/IG9wdGlvbnMubWVzc2FnZXMgOiB7fTtcclxuICAgICAgICBpZiAoJ19faTE4bkdsb2JhbCcgaW4gaW5zdGFuY2UudHlwZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlcyA9IGdldExvY2FsZU1lc3NhZ2VzKGdsb2JhbC5sb2NhbGUudmFsdWUsIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxyXG4gICAgICAgICAgICAgICAgX19pMThuOiBpbnN0YW5jZS50eXBlLl9faTE4bkdsb2JhbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbWVyZ2UgbG9jYWxlIG1lc3NhZ2VzXHJcbiAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTtcclxuICAgICAgICBpZiAobG9jYWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbG9jYWxlcy5mb3JFYWNoKGxvY2FsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWwubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZXNbbG9jYWxlXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBtZXJnZSBkYXRldGltZSBmb3JtYXRzXHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbGVzID0gT2JqZWN0LmtleXMob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpO1xyXG4gICAgICAgICAgICBpZiAobG9jYWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbC5tZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgb3B0aW9ucy5kYXRldGltZUZvcm1hdHNbbG9jYWxlXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBtZXJnZSBudW1iZXIgZm9ybWF0c1xyXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLm51bWJlckZvcm1hdHMpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZXMgPSBPYmplY3Qua2V5cyhvcHRpb25zLm51bWJlckZvcm1hdHMpO1xyXG4gICAgICAgICAgICBpZiAobG9jYWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbC5tZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMubnVtYmVyRm9ybWF0c1tsb2NhbGVdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NvcGUgPT09ICdwYXJlbnQnKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICBsZXQgY29tcG9zZXIgPSBnZXRDb21wb3NlcihpMThuLCBpbnN0YW5jZSwgb3B0aW9ucy5fX3VzZUNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKGNvbXBvc2VyID09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSgxMiAvKiBOT1RfRk9VTkRfUEFSRU5UX1NDT1BFICovKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcG9zZXIgPSBnbG9iYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb3NlcjtcclxuICAgIH1cclxuICAgIC8vIHNjb3BlICdsb2NhbCcgY2FzZVxyXG4gICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2xlZ2FjeScpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMTggLyogTk9UX0FWQUlMQUJMRV9JTl9MRUdBQ1lfTU9ERSAqLyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpMThuSW50ZXJuYWwgPSBpMThuO1xyXG4gICAgbGV0IGNvbXBvc2VyID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgaWYgKGNvbXBvc2VyID09IG51bGwpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICBjb25zdCBjb21wb3Nlck9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xyXG4gICAgICAgIGlmICh0eXBlLl9faTE4bikge1xyXG4gICAgICAgICAgICBjb21wb3Nlck9wdGlvbnMuX19pMThuID0gdHlwZS5fX2kxOG47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChnbG9iYWwpIHtcclxuICAgICAgICAgICAgY29tcG9zZXJPcHRpb25zLl9fcm9vdCA9IGdsb2JhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9zZXIgPSBjcmVhdGVDb21wb3Nlcihjb21wb3Nlck9wdGlvbnMpO1xyXG4gICAgICAgIHNldHVwTGlmZUN5Y2xlKGkxOG5JbnRlcm5hbCwgaW5zdGFuY2UsIGNvbXBvc2VyKTtcclxuICAgICAgICBpMThuSW50ZXJuYWwuX19zZXRJbnN0YW5jZShpbnN0YW5jZSwgY29tcG9zZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbXBvc2VyO1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbXBvc2VyKGkxOG4sIHRhcmdldCwgdXNlQ29tcG9uZW50ID0gZmFsc2UpIHtcclxuICAgIGxldCBjb21wb3NlciA9IG51bGw7XHJcbiAgICBjb25zdCByb290ID0gdGFyZ2V0LnJvb3Q7XHJcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgaTE4bkludGVybmFsID0gaTE4bjtcclxuICAgICAgICBpZiAoaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoY3VycmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB2dWVJMThuID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoY3VycmVudCk7XHJcbiAgICAgICAgICAgIGlmICh2dWVJMThuICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvc2VyID0gdnVlSTE4blxyXG4gICAgICAgICAgICAgICAgICAgIC5fX2NvbXBvc2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGlmICh1c2VDb21wb25lbnQgJiYgY29tcG9zZXIgJiYgIWNvbXBvc2VyW0luZWpjdFdpdGhPcHRpb25dKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb3NlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXBvc2VyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyb290ID09PSBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29tcG9zZXI7XHJcbn1cclxuZnVuY3Rpb24gc2V0dXBMaWZlQ3ljbGUoaTE4biwgdGFyZ2V0LCBjb21wb3Nlcikge1xyXG4gICAgbGV0IGVtaXR0ZXIgPSBudWxsO1xyXG4gICAgb25Nb3VudGVkKCgpID0+IHtcclxuICAgICAgICAvLyBpbmplY3QgY29tcG9zZXIgaW5zdGFuY2UgdG8gRE9NIGZvciBpbnRsaWZ5LWRldnRvb2xzXHJcbiAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfSTE4Tl9QUk9EX0RFVlRPT0xTX18pICYmXHJcbiAgICAgICAgICAgICFmYWxzZSAmJlxyXG4gICAgICAgICAgICB0YXJnZXQudm5vZGUuZWwpIHtcclxuICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsLl9fVlVFX0kxOE5fXyA9IGNvbXBvc2VyO1xyXG4gICAgICAgICAgICBlbWl0dGVyID0gY3JlYXRlRW1pdHRlcigpO1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICBjb25zdCBfY29tcG9zZXIgPSBjb21wb3NlcjtcclxuICAgICAgICAgICAgX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdICYmIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXShlbWl0dGVyKTtcclxuICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHRhcmdldCk7XHJcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgLy8gcmVtb3ZlIGNvbXBvc2VyIGluc3RhbmNlIGZyb20gRE9NIGZvciBpbnRsaWZ5LWRldnRvb2xzXHJcbiAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfSTE4Tl9QUk9EX0RFVlRPT0xTX18pICYmXHJcbiAgICAgICAgICAgICFmYWxzZSAmJlxyXG4gICAgICAgICAgICB0YXJnZXQudm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsLl9fVlVFX0kxOE5fXykge1xyXG4gICAgICAgICAgICBlbWl0dGVyICYmIGVtaXR0ZXIub2ZmKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGNvbnN0IF9jb21wb3NlciA9IGNvbXBvc2VyO1xyXG4gICAgICAgICAgICBfY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdICYmIF9jb21wb3NlcltEaXNhYmxlRW1pdHRlcl0oKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRhcmdldC52bm9kZS5lbC5fX1ZVRV9JMThOX187XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGkxOG4uX19kZWxldGVJbnN0YW5jZSh0YXJnZXQpO1xyXG4gICAgfSwgdGFyZ2V0KTtcclxufVxyXG5jb25zdCBnbG9iYWxFeHBvcnRQcm9wcyA9IFtcclxuICAgICdsb2NhbGUnLFxyXG4gICAgJ2ZhbGxiYWNrTG9jYWxlJyxcclxuICAgICdhdmFpbGFibGVMb2NhbGVzJ1xyXG5dO1xyXG5jb25zdCBnbG9iYWxFeHBvcnRNZXRob2RzID0gWyd0JywgJ3J0JywgJ2QnLCAnbicsICd0bSddO1xyXG5mdW5jdGlvbiBpbmplY3RHbG9iYWxGaWVsZHMoYXBwLCBjb21wb3Nlcikge1xyXG4gICAgY29uc3QgaTE4biA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBnbG9iYWxFeHBvcnRQcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbXBvc2VyLCBwcm9wKTtcclxuICAgICAgICBpZiAoIWRlc2MpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDIyIC8qIFVORVhQRUNURURfRVJST1IgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB3cmFwID0gaXNSZWYoZGVzYy52YWx1ZSkgLy8gY2hlY2sgY29tcHV0ZWQgcHJvcHNcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MudmFsdWUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIHNldCh2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXNjLnZhbHVlLnZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLmdldCAmJiBkZXNjLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpMThuLCBwcm9wLCB3cmFwKTtcclxuICAgIH0pO1xyXG4gICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRpMThuID0gaTE4bjtcclxuICAgIGdsb2JhbEV4cG9ydE1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbXBvc2VyLCBtZXRob2QpO1xyXG4gICAgICAgIGlmICghZGVzYyB8fCAhZGVzYy52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjIgLyogVU5FWFBFQ1RFRF9FUlJPUiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGAkJHttZXRob2R9YCwgZGVzYyk7XHJcbiAgICB9KTtcclxufVxuXG4vLyByZWdpc3RlciBtZXNzYWdlIGNvbXBpbGVyIGF0IHZ1ZS1pMThuXHJcbnJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyKGNvbXBpbGVUb0Z1bmN0aW9uKTtcclxue1xyXG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xyXG59XHJcbi8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxyXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcclxuICAgIHRhcmdldC5fX0lOVExJRllfXyA9IHRydWU7XHJcbiAgICBzZXREZXZUb29sc0hvb2sodGFyZ2V0Ll9fSU5UTElGWV9ERVZUT09MU19HTE9CQUxfSE9PS19fKTtcclxufVxyXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSA7XG5cbmV4cG9ydCB7IERhdGV0aW1lRm9ybWF0LCBOdW1iZXJGb3JtYXQsIFRyYW5zbGF0aW9uLCBWRVJTSU9OLCBjcmVhdGVJMThuLCB1c2VJMThuLCB2VERpcmVjdGl2ZSB9O1xuIiwiLy8gVGhpcyBpcyBqdXN0IGFuIGV4YW1wbGUsXG4vLyBzbyB5b3UgY2FuIHNhZmVseSBkZWxldGUgYWxsIGRlZmF1bHQgcHJvcHMgYmVsb3dcblxuZXhwb3J0IGRlZmF1bHQge1xuICBmYWlsZWQ6ICdBY3Rpb24gZmFpbGVkJyxcbiAgc3VjY2VzczogJ0FjdGlvbiB3YXMgc3VjY2Vzc2Z1bCdcbn1cbiIsImltcG9ydCBlblVTIGZyb20gJy4vZW4tVVMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgJ2VuLVVTJzogZW5VU1xufVxuIiwiaW1wb3J0IHsgYm9vdCB9IGZyb20gJ3F1YXNhci93cmFwcGVycydcbmltcG9ydCB7IGNyZWF0ZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcbmltcG9ydCBtZXNzYWdlcyBmcm9tICdzcmMvaTE4bidcblxuZXhwb3J0IGRlZmF1bHQgYm9vdCgoeyBhcHAgfSkgPT4ge1xuICBjb25zdCBpMThuID0gY3JlYXRlSTE4bih7XG4gICAgbG9jYWxlOiAnZW4tVVMnLFxuICAgIG1lc3NhZ2VzXG4gIH0pXG5cbiAgLy8gU2V0IGkxOG4gaW5zdGFuY2Ugb24gYXBwXG4gIGFwcC51c2UoaTE4bilcbn0pXG4iXSwibmFtZXMiOlsiaGFzT3duUHJvcGVydHkiLCJpc09iamVjdCIsIlZFUlNJT04iLCJoYXNPd24iXSwibWFwcGluZ3MiOiJ5SUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBd0NBLEtBQU0sSUFBWSxNQUFPLFNBQVcsWUFBYyxNQUFPLFFBQU8sYUFBZ0IsU0FDMUUsRUFBYSxBQUFDLEdBQVMsR0FBWSxPQUFPLENBQUksRUFBSSxFQUNsRCxHQUF5QixDQUFDLEVBQVEsRUFBSyxJQUFXLEdBQXNCLENBQUUsRUFBRyxFQUFRLEVBQUcsRUFBSyxFQUFHLENBQVEsQ0FBQSxFQUN4RyxHQUF3QixBQUFDLEdBQVMsS0FBSyxVQUFV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
